var Bx=Object.defineProperty,jx=Object.defineProperties;var Ux=Object.getOwnPropertyDescriptors;var IE=Object.getOwnPropertySymbols,$x=Object.getPrototypeOf,Hx=Object.prototype.hasOwnProperty,Gx=Object.prototype.propertyIsEnumerable,zx=Reflect.get;var DE=(n,e,t)=>e in n?Bx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})Hx.call(e,t)&&DE(n,t,e[t]);if(IE)for(var t of IE(e))Gx.call(e,t)&&DE(n,t,e[t]);return n},ue=(n,e)=>jx(n,Ux(e));var ki=(n,e,t)=>zx($x(n),t,e);var E=(n,e,t)=>new Promise((i,r)=>{var s=c=>{try{a(t.next(c))}catch(u){r(u)}},o=c=>{try{a(t.throw(c))}catch(u){r(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((t=t.apply(n,e)).next())});function TE(n,e){return Object.is(n,e)}var Ye=null,eu=!1,tu=1,Qn=Symbol("SIGNAL");function me(n){let e=Ye;return Ye=n,e}function CE(){return Ye}var Fa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Up(n){if(eu)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(n);let e=Ye.nextProducerIndex++;if(su(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==n&&ka(Ye)){let t=Ye.producerNode[e];ru(t,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==n&&(Ye.producerNode[e]=n,Ye.producerIndexOfThis[e]=ka(Ye)?ME(n,Ye,e):0),Ye.producerLastReadVersion[e]=n.version}function qx(){tu++}function SE(n){if(!(ka(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===tu)){if(!n.producerMustRecompute(n)&&!Hp(n)){n.dirty=!1,n.lastCleanEpoch=tu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=tu}}function AE(n){if(n.liveConsumerNode===void 0)return;let e=eu;eu=!0;try{for(let t of n.liveConsumerNode)t.dirty||Wx(t)}finally{eu=e}}function RE(){return Ye?.consumerAllowSignalWrites!==!1}function Wx(n){n.dirty=!0,AE(n),n.consumerMarkedDirty?.(n)}function iu(n){return n&&(n.nextProducerIndex=0),me(n)}function $p(n,e){if(me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ka(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ru(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Hp(n){su(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(SE(t),i!==t.version))return!0}return!1}function Gp(n){if(su(n),ka(n))for(let e=0;e<n.producerNode.length;e++)ru(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ME(n,e,t){if(NE(n),n.liveConsumerNode.length===0&&xE(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=ME(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ru(n,e){if(NE(n),n.liveConsumerNode.length===1&&xE(n))for(let i=0;i<n.producerNode.length;i++)ru(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];su(r),r.producerIndexOfThis[i]=e}}function ka(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function su(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function NE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function xE(n){return n.producerNode!==void 0}function OE(n){let e=Object.create(Kx);e.computation=n;let t=()=>{if(SE(e),Up(e),e.value===nu)throw e.error;return e.value};return t[Qn]=e,t}var Bp=Symbol("UNSET"),jp=Symbol("COMPUTING"),nu=Symbol("ERRORED"),Kx=ue(F({},Fa),{value:Bp,dirty:!0,error:null,equal:TE,producerMustRecompute(n){return n.value===Bp||n.value===jp},producerRecomputeValue(n){if(n.value===jp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=jp;let t=iu(n),i;try{i=n.computation()}catch(r){i=nu,n.error=r}finally{$p(n,t)}if(e!==Bp&&e!==nu&&i!==nu&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function Qx(){throw new Error}var PE=Qx;function kE(){PE()}function FE(n){PE=n}var Jx=null;function VE(n){let e=Object.create(BE);e.value=n;let t=()=>(Up(e),e.value);return t[Qn]=e,t}function zp(n,e){RE()||kE(),n.equal(n.value,e)||(n.value=e,Yx(n))}function LE(n,e){RE()||kE(),zp(n,e(n.value))}var BE=ue(F({},Fa),{equal:TE,value:void 0});function Yx(n){n.version++,qx(),AE(n),Jx?.()}function Q(n){return typeof n=="function"}function xs(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ou=xs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Rr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var $e=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Q(i))try{i()}catch(s){e=s instanceof ou?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{jE(s)}catch(o){e=e??[],o instanceof ou?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ou(e)}}add(e){var t;if(e&&e!==this)if(this.closed)jE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Rr(t,e)}remove(e){let{_finalizers:t}=this;t&&Rr(t,e),e instanceof n&&e._removeParent(this)}};$e.EMPTY=(()=>{let n=new $e;return n.closed=!0,n})();var qp=$e.EMPTY;function au(n){return n instanceof $e||n&&"closed"in n&&Q(n.remove)&&Q(n.add)&&Q(n.unsubscribe)}function jE(n){Q(n)?n():n.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Os={setTimeout(n,e,...t){let{delegate:i}=Os;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Os;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function cu(n){Os.setTimeout(()=>{let{onUnhandledError:e}=cn;if(e)e(n);else throw n})}function Mr(){}var UE=Wp("C",void 0,void 0);function $E(n){return Wp("E",void 0,n)}function HE(n){return Wp("N",n,void 0)}function Wp(n,e,t){return{kind:n,value:e,error:t}}var Nr=null;function Ps(n){if(cn.useDeprecatedSynchronousErrorHandling){let e=!Nr;if(e&&(Nr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Nr;if(Nr=null,t)throw i}}else n()}function GE(n){cn.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=n)}var xr=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,au(e)&&e.add(this)):this.destination=eO}static create(e,t,i){return new ks(e,t,i)}next(e){this.isStopped?Qp(HE(e),this):this._next(e)}error(e){this.isStopped?Qp($E(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qp(UE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Zx=Function.prototype.bind;function Kp(n,e){return Zx.call(n,e)}var Jp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){lu(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){lu(i)}else lu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){lu(t)}}},ks=class extends xr{constructor(e,t,i){super();let r;if(Q(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&cn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Kp(e.next,s),error:e.error&&Kp(e.error,s),complete:e.complete&&Kp(e.complete,s)}):r=e}this.destination=new Jp(r)}};function lu(n){cn.useDeprecatedSynchronousErrorHandling?GE(n):cu(n)}function Xx(n){throw n}function Qp(n,e){let{onStoppedNotification:t}=cn;t&&Os.setTimeout(()=>t(n,e))}var eO={closed:!0,next:Mr,error:Xx,complete:Mr};var Fs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(n){return n}function uu(...n){return Yp(n)}function Yp(n){return n.length===0?Rt:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=nO(t)?t:new ks(t,i,r);return Ps(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=zE(i),new i((r,s)=>{let o=new ks({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Fs](){return this}pipe(...t){return Yp(t)(this)}toPromise(t){return t=zE(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function zE(n){var e;return(e=n??cn.Promise)!==null&&e!==void 0?e:Promise}function tO(n){return n&&Q(n.next)&&Q(n.error)&&Q(n.complete)}function nO(n){return n&&n instanceof xr||tO(n)&&au(n)}function Zp(n){return Q(n?.lift)}function _e(n){return e=>{if(Zp(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,e,t,i,r){return new Xp(n,e,t,i,r)}var Xp=class extends xr{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vs(){return _e((n,e)=>{let t=null;n._refCount++;let i=ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Ls=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Zp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let t=this.getSubject();e.add(this.source.subscribe(ae(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return Vs()(this)}};var qE=xs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new du(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new qE}next(t){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?qp:(this.currentObservers=null,s.push(t),new $e(()=>{this.currentObservers=null,Rr(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new du(e,t),n})(),du=class extends xe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:qp}};var tt=class extends xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var eg={now(){return(eg.delegate||Date).now()},delegate:void 0};var hu=class extends $e{constructor(e,t){super()}schedule(e,t=0){return this}};var Va={setInterval(n,e,...t){let{delegate:i}=Va;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Va;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Bs=class extends hu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Va.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Va.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Rr(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var js=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};js.now=eg.now;var Us=class extends js{constructor(e,t=js.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var fu=new Us(Bs),tg=fu;var pu=class extends Bs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var gu=class extends Us{};var ng=new gu(pu);var ct=new J(n=>n.complete());function mu(n){return n&&Q(n.schedule)}function WE(n){return n[n.length-1]}function Fi(n){return Q(WE(n))?n.pop():void 0}function Vi(n){return mu(WE(n))?n.pop():void 0}function ig(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function QE(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{u(i.next(h))}catch(f){o(f)}}function c(h){try{u(i.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):r(h.value).then(a,c)}u((i=i.apply(n,e||[])).next())})}function KE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Or(n){return this instanceof Or?(this.v=n,this):new Or(n)}function JE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(_){return function(v){return Promise.resolve(v).then(_,f)}}function a(_,v){i[_]&&(r[_]=function(S){return new Promise(function(A,x){s.push([_,S,A,x])>1||c(_,S)})},v&&(r[_]=v(r[_])))}function c(_,v){try{u(i[_](v))}catch(S){g(s[0][3],S)}}function u(_){_.value instanceof Or?Promise.resolve(_.value.v).then(h,f):g(s[0][2],_)}function h(_){c("next",_)}function f(_){c("throw",_)}function g(_,v){_(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function YE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof KE=="function"?KE(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var $s=n=>n&&typeof n.length=="number"&&typeof n!="function";function _u(n){return Q(n?.then)}function yu(n){return Q(n[Fs])}function vu(n){return Symbol.asyncIterator&&Q(n?.[Symbol.asyncIterator])}function wu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bu=iO();function Eu(n){return Q(n?.[bu])}function Iu(n){return JE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Or(t.read());if(r)return yield Or(void 0);yield yield Or(i)}}finally{t.releaseLock()}})}function Du(n){return Q(n?.getReader)}function Ae(n){if(n instanceof J)return n;if(n!=null){if(yu(n))return rO(n);if($s(n))return sO(n);if(_u(n))return oO(n);if(vu(n))return ZE(n);if(Eu(n))return aO(n);if(Du(n))return cO(n)}throw wu(n)}function rO(n){return new J(e=>{let t=n[Fs]();if(Q(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function sO(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function oO(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,cu)})}function aO(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ZE(n){return new J(e=>{lO(n,e).catch(t=>e.error(t))})}function cO(n){return ZE(Iu(n))}function lO(n,e){var t,i,r,s;return QE(this,void 0,void 0,function*(){try{for(t=YE(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function Ft(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Li(n,e=0){return _e((t,i)=>{t.subscribe(ae(i,r=>Ft(i,n,()=>i.next(r),e),()=>Ft(i,n,()=>i.complete(),e),r=>Ft(i,n,()=>i.error(r),e)))})}function Bi(n,e=0){return _e((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function XE(n,e){return Ae(n).pipe(Bi(e),Li(e))}function eI(n,e){return Ae(n).pipe(Bi(e),Li(e))}function tI(n,e){return new J(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function nI(n,e){return new J(t=>{let i;return Ft(t,e,()=>{i=n[bu](),Ft(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>Q(i?.return)&&i.return()})}function Tu(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{Ft(t,e,()=>{let i=n[Symbol.asyncIterator]();Ft(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function iI(n,e){return Tu(Iu(n),e)}function rI(n,e){if(n!=null){if(yu(n))return XE(n,e);if($s(n))return tI(n,e);if(_u(n))return eI(n,e);if(vu(n))return Tu(n,e);if(Eu(n))return nI(n,e);if(Du(n))return iI(n,e)}throw wu(n)}function Oe(n,e){return e?rI(n,e):Ae(n)}function Z(...n){let e=Vi(n);return Oe(n,e)}function Hs(n,e){let t=Q(n)?n:()=>n,i=r=>r.error(t());return new J(e?r=>e.schedule(i,0,r):i)}function rg(n){return!!n&&(n instanceof J||Q(n.lift)&&Q(n.subscribe))}var Jn=xs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function sI(n){return n instanceof Date&&!isNaN(n)}function Y(n,e){return _e((t,i)=>{let r=0;t.subscribe(ae(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:uO}=Array;function dO(n,e){return uO(e)?n(...e):n(e)}function Gs(n){return Y(e=>dO(n,e))}var{isArray:hO}=Array,{getPrototypeOf:fO,prototype:pO,keys:gO}=Object;function Cu(n){if(n.length===1){let e=n[0];if(hO(e))return{args:e,keys:null};if(mO(e)){let t=gO(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function mO(n){return n&&typeof n=="object"&&fO(n)===pO}function Su(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Pr(...n){let e=Vi(n),t=Fi(n),{args:i,keys:r}=Cu(n);if(i.length===0)return Oe([],e);let s=new J(_O(i,e,r?o=>Su(r,o):Rt));return t?s.pipe(Gs(t)):s}function _O(n,e,t=Rt){return i=>{oI(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)oI(e,()=>{let u=Oe(n[c],e),h=!1;u.subscribe(ae(i,f=>{s[c]=f,h||(h=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function oI(n,e,t){n?Ft(t,n,e):e()}function aI(n,e,t,i,r,s,o,a){let c=[],u=0,h=0,f=!1,g=()=>{f&&!c.length&&!u&&e.complete()},_=S=>u<i?v(S):c.push(S),v=S=>{s&&e.next(S),u++;let A=!1;Ae(t(S,h++)).subscribe(ae(e,x=>{r?.(x),s?_(x):e.next(x)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;c.length&&u<i;){let x=c.shift();o?Ft(e,o,()=>v(x)):v(x)}g()}catch(x){e.error(x)}}))};return n.subscribe(ae(e,_,()=>{f=!0,g()})),()=>{a?.()}}function He(n,e,t=1/0){return Q(e)?He((i,r)=>Y((s,o)=>e(i,s,r,o))(Ae(n(i,r))),t):(typeof e=="number"&&(t=e),_e((i,r)=>aI(i,r,n,t)))}function sg(n=1/0){return He(Rt,n)}function cI(){return sg(1)}function ji(...n){return cI()(Oe(n,Vi(n)))}function Au(n){return new J(e=>{Ae(n()).subscribe(e)})}function og(...n){let e=Fi(n),{args:t,keys:i}=Cu(n),r=new J(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let h=0;h<o;h++){let f=!1;Ae(t[h]).subscribe(ae(s,g=>{f||(f=!0,u--),a[h]=g},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(i?Su(i,a):a),s.complete())}))}});return e?r.pipe(Gs(e)):r}var yO=["addListener","removeListener"],vO=["addEventListener","removeEventListener"],wO=["on","off"];function Jt(n,e,t,i){if(Q(t)&&(i=t,t=void 0),i)return Jt(n,e,t).pipe(Gs(i));let[r,s]=IO(n)?vO.map(o=>a=>n[o](e,a,t)):bO(n)?yO.map(lI(n,e)):EO(n)?wO.map(lI(n,e)):[];if(!r&&$s(n))return He(o=>Jt(o,e,t))(Ae(n));if(!r)throw new TypeError("Invalid event target");return new J(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function lI(n,e){return t=>i=>n[t](e,i)}function bO(n){return Q(n.addListener)&&Q(n.removeListener)}function EO(n){return Q(n.on)&&Q(n.off)}function IO(n){return Q(n.addEventListener)&&Q(n.removeEventListener)}function ag(n=0,e,t=tg){let i=-1;return e!=null&&(mu(e)?t=e:i=e),new J(r=>{let s=sI(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}var{isArray:DO}=Array;function Ru(n){return n.length===1&&DO(n[0])?n[0]:n}function Ze(n,e){return _e((t,i)=>{let r=0;t.subscribe(ae(i,s=>n.call(e,s,r++)&&i.next(s)))})}function cg(...n){return n=Ru(n),n.length===1?Ae(n[0]):new J(TO(n))}function TO(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(Ae(n[i]).subscribe(ae(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}function La(...n){let e=Fi(n),t=Ru(n);return t.length?new J(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<t.length;o++)Ae(t[o]).subscribe(ae(i,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(u=>u.shift());i.next(e?e(...c):c),r.some((u,h)=>!u.length&&s[h])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):ct}function Ui(n){return _e((e,t)=>{let i=null,r=!1,s;i=e.subscribe(ae(t,void 0,void 0,o=>{s=Ae(n(o,Ui(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function uI(n,e,t,i,r){return(s,o)=>{let a=t,c=e,u=0;s.subscribe(ae(o,h=>{let f=u++;c=a?n(c,h,f):(a=!0,h),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function $i(n,e){return Q(e)?He(n,e,1):He(n,1)}function Hi(n){return _e((e,t)=>{let i=!1;e.subscribe(ae(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Yt(n){return n<=0?()=>ct:_e((e,t)=>{let i=0;e.subscribe(ae(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function lg(n){return Y(()=>n)}function Mu(n=CO){return _e((e,t)=>{let i=!1;e.subscribe(ae(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function CO(){return new Jn}function ug(...n){return e=>ji(e,Z(...n))}function Yn(n){return _e((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function wn(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ze((r,s)=>n(r,s,i)):Rt,Yt(1),t?Hi(e):Mu(()=>new Jn))}function zs(n){return n<=0?()=>ct:_e((e,t)=>{let i=[];e.subscribe(ae(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function dg(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ze((r,s)=>n(r,s,i)):Rt,zs(1),t?Hi(e):Mu(()=>new Jn))}function Nu(n,e){return _e(uI(n,e,arguments.length>=2,!0))}function Ba(...n){let e=Vi(n);return _e((t,i)=>{(e?ji(n,t,e):ji(n,t)).subscribe(i)})}function Mt(n,e){return _e((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(ae(i,c=>{r?.unsubscribe();let u=0,h=s++;Ae(n(c,h)).subscribe(r=ae(i,f=>i.next(e?e(c,f,h,u++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function nt(n){return _e((e,t)=>{Ae(n).subscribe(ae(t,()=>t.complete(),Mr)),!t.closed&&e.subscribe(t)})}function Ge(n,e,t){let i=Q(n)||e||t?{next:n,error:e,complete:t}:n;return i?_e((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(ae(s,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),s.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):Rt}function xu(...n){let e=Fi(n);return _e((t,i)=>{let r=n.length,s=new Array(r),o=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)Ae(n[c]).subscribe(ae(i,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Rt))&&(o=null))},Mr));t.subscribe(ae(i,c=>{if(a){let u=[c,...s];i.next(e?e(...u):u)}}))})}var YI="https://g.co/ng/security#xss",z=class extends Error{constructor(e,t){super(vd(e,t)),this.code=e}};function vd(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ec(n){return{toString:n}.toString()}var Ou="__parameters__";function SO(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function ZI(n,e,t){return ec(()=>{let i=SO(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,h){let f=c.hasOwnProperty(Ou)?c[Ou]:Object.defineProperty(c,Ou,{value:[]})[Ou];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(o),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Fr=globalThis;function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function AO(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function xt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(xt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Ag(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var RO=Pe({__forward_ref__:Pe});function hn(n){return n.__forward_ref__=hn,n.toString=function(){return xt(this())},n}function lt(n){return XI(n)?n():n}function XI(n){return typeof n=="function"&&n.hasOwnProperty(RO)&&n.__forward_ref__===hn}function MO(n,e,t){n!=e&&NO(t,n,e,"==")}function NO(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(i==null?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function wd(n){return dI(n,tD)||dI(n,nD)}function eD(n){return wd(n)!==null}function dI(n,e){return n.hasOwnProperty(e)?n[e]:null}function xO(n){let e=n&&(n[tD]||n[nD]);return e||null}function hI(n){return n&&(n.hasOwnProperty(fI)||n.hasOwnProperty(OO))?n[fI]:null}var tD=Pe({\u0275prov:Pe}),fI=Pe({\u0275inj:Pe}),nD=Pe({ngInjectableDef:Pe}),OO=Pe({ngInjectorDef:Pe}),H=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function iD(n){return n&&!!n.\u0275providers}var PO=Pe({\u0275cmp:Pe}),kO=Pe({\u0275dir:Pe}),FO=Pe({\u0275pipe:Pe}),VO=Pe({\u0275mod:Pe}),qu=Pe({\u0275fac:Pe}),Ua=Pe({__NG_ELEMENT_ID__:Pe}),pI=Pe({__NG_ENV_ID__:Pe});function In(n){return typeof n=="string"?n:n==null?"":String(n)}function LO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():In(n)}function BO(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new z(-200,n)}function Vm(n,e){throw new z(-201,!1)}var he=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(he||{}),Rg;function rD(){return Rg}function Vt(n){let e=Rg;return Rg=n,e}function sD(n,e,t){let i=wd(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&he.Optional)return null;if(e!==void 0)return e;Vm(n,"Injector")}var jO={},za=jO,Mg="__NG_DI_FLAG__",Wu="ngTempTokenPath",UO="ngTokenPath",$O=/\n/gm,HO="\u0275",gI="__source",Qs;function GO(){return Qs}function Gi(n){let e=Qs;return Qs=n,e}function zO(n,e=he.Default){if(Qs===void 0)throw new z(-203,!1);return Qs===null?sD(n,void 0,e):Qs.get(n,e&he.Optional?null:void 0,e)}function ee(n,e=he.Default){return(rD()||zO)(lt(n),e)}function N(n,e=he.Default){return ee(n,bd(e))}function bd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ng(n){let e=[];for(let t=0;t<n.length;t++){let i=lt(n[t]);if(Array.isArray(i)){if(i.length===0)throw new z(900,!1);let r,s=he.Default;for(let o=0;o<i.length;o++){let a=i[o],c=qO(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(ee(r,s))}else e.push(ee(i))}return e}function oD(n,e){return n[Mg]=e,n.prototype[Mg]=e,n}function qO(n){return n[Mg]}function WO(n,e,t,i){let r=n[Wu];throw e[gI]&&r.unshift(e[gI]),n.message=KO(`
`+n.message,r,t,i),n[UO]=r,n[Wu]=null,n}function KO(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==HO?n.slice(2):n;let r=xt(e);if(Array.isArray(e))r=e.map(xt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):xt(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace($O,`
  `)}`}var Ot=oD(ZI("Optional"),8);var aD=oD(ZI("SkipSelf"),4);function Lr(n,e){let t=n.hasOwnProperty(qu);return t?n[qu]:null}function QO(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function JO(n){return n.flat(Number.POSITIVE_INFINITY)}function Lm(n,e){n.forEach(t=>Array.isArray(t)?Lm(t,e):e(t))}function cD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ku(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function YO(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function ZO(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function Ed(n,e,t){let i=tc(n,e);return i>=0?n[i|1]=t:(i=~i,ZO(n,i,e,t)),i}function hg(n,e){let t=tc(n,e);if(t>=0)return n[t|1]}function tc(n,e){return XO(n,e,1)}function XO(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var ei={},Nt=[],Ys=new H(""),lD=new H("",-1),uD=new H(""),Qu=class{get(e,t=za){if(t===za){let i=new Error(`NullInjectorError: No provider for ${xt(e)}!`);throw i.name="NullInjectorError",i}return t}},dD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(dD||{}),Dn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Dn||{}),Wi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Wi||{});function eP(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function xg(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];nP(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function tP(n){return n===3||n===4||n===6}function nP(n){return n.charCodeAt(0)===64}function qa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?mI(n,t,r,null,e[++i]):mI(n,t,r,null,null))}}return n}function mI(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var hD="ng-template";function iP(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&eP(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Bm(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Bm(n){return n.type===4&&n.value!==hD}function rP(n,e,t){let i=n.type===4&&!t?hD:n.value;return e===i}function sP(n,e,t){let i=4,r=n.attrs,s=r!==null?cP(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!ln(i)&&!ln(c))return!1;if(o&&ln(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!rP(n,c,t)||c===""&&e.length===1){if(ln(i))return!1;o=!0}}else if(i&8){if(r===null||!iP(n,r,c,t)){if(ln(i))return!1;o=!0}}else{let u=e[++a],h=oP(c,r,Bm(n),t);if(h===-1){if(ln(i))return!1;o=!0;continue}if(u!==""){let f;if(h>s?f="":f=r[h+1].toLowerCase(),i&2&&u!==f){if(ln(i))return!1;o=!0}}}}return ln(i)||o}function ln(n){return(n&1)===0}function oP(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return lP(e,n)}function fD(n,e,t=!1){for(let i=0;i<e.length;i++)if(sP(n,e[i],t))return!0;return!1}function aP(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function cP(n){for(let e=0;e<n.length;e++){let t=n[e];if(tP(t))return e}return n.length}function lP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function uP(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function _I(n,e){return n?":not("+e.trim()+")":e}function dP(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!ln(o)&&(e+=_I(s,r),r=""),i=o,s=s||!ln(i);t++}return r!==""&&(e+=_I(s,r)),e}function hP(n){return n.map(dP).join(",")}function fP(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!ln(r))break;r=s}i++}return{attrs:e,classes:t}}function oi(n){return ec(()=>{let e=yD(n),t=ue(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===dD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Dn.Emulated,styles:n.styles||Nt,_:null,schemas:n.schemas||null,tView:null,id:""});vD(t);let i=n.dependencies;return t.directiveDefs=vI(i,!1),t.pipeDefs=vI(i,!0),t.id=mP(t),t})}function pP(n){return Ki(n)||jm(n)}function gP(n){return n!==null}function $t(n){return ec(()=>({type:n.type,bootstrap:n.bootstrap||Nt,declarations:n.declarations||Nt,imports:n.imports||Nt,exports:n.exports||Nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function yI(n,e){if(n==null)return ei;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=Wi.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==Wi.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Re(n){return ec(()=>{let e=yD(n);return vD(e),e})}function pD(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ki(n){return n[PO]||null}function jm(n){return n[kO]||null}function gD(n){return n[FO]||null}function mD(n){let e=Ki(n)||jm(n)||gD(n);return e!==null?e.standalone:!1}function _D(n,e){let t=n[VO]||null;if(!t&&e===!0)throw new Error(`Type ${xt(n)} does not have '\u0275mod' property.`);return t}function yD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ei,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Nt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yI(n.inputs,e),outputs:yI(n.outputs),debugInfo:null}}function vD(n){n.features?.forEach(e=>e(n))}function vI(n,e){if(!n)return null;let t=e?gD:pP;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(gP)}function mP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function fn(n){return{\u0275providers:n}}function _P(...n){return{\u0275providers:wD(!0,n),\u0275fromNgModule:!0}}function wD(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return Lm(e,o=>{let a=o;Og(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&bD(r,s),t}function bD(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Um(r,s=>{e(s,i)})}}function Og(n,e,t,i){if(n=lt(n),!n)return!1;let r=null,s=hI(n),o=!s&&Ki(n);if(!s&&!o){let c=n.ngModule;if(s=hI(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Og(u,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let u;try{Lm(s.imports,h=>{Og(h,e,t,i)&&(u||=[],u.push(h))})}finally{}u!==void 0&&bD(u,e)}if(!a){let u=Lr(r)||(()=>new r);e({provide:r,useFactory:u,deps:Nt},r),e({provide:uD,useValue:r,multi:!0},r),e({provide:Ys,useValue:()=>ee(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=n;Um(c,h=>{e(h,u)})}}else return!1;return r!==n&&n.providers!==void 0}function Um(n,e){for(let t of n)iD(t)&&(t=t.\u0275providers),Array.isArray(t)?Um(t,e):e(t)}var yP=Pe({provide:String,useValue:Pe});function ED(n){return n!==null&&typeof n=="object"&&yP in n}function vP(n){return!!(n&&n.useExisting)}function wP(n){return!!(n&&n.useFactory)}function Zs(n){return typeof n=="function"}function bP(n){return!!n.useClass}var Id=new H(""),Lu={},EP={},fg;function Dd(){return fg===void 0&&(fg=new Qu),fg}var ut=class{},Wa=class extends ut{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kg(e,o=>this.processProvider(o)),this.records.set(lD,qs(void 0,this)),r.has("environment")&&this.records.set(ut,qs(void 0,this));let s=this.records.get(Id);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uD,Nt,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Gi(this),i=Vt(void 0),r;try{return e()}finally{Gi(t),Vt(i)}}get(e,t=za,i=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(pI))return e[pI](this);i=bd(i);let r,s=Gi(this),o=Vt(void 0);try{if(!(i&he.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=SP(e)&&wd(e);u&&this.injectableDefInScope(u)?c=qs(Pg(e),Lu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&he.Self?Dd():this.parent;return t=i&he.Optional&&t===za?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Wu]=a[Wu]||[]).unshift(xt(e)),s)throw a;return WO(a,e,"R3InjectorError",this.source)}else throw a}finally{Vt(o),Gi(s)}}resolveInjectorInitializers(){let e=me(null),t=Gi(this),i=Vt(void 0),r;try{let s=this.get(Ys,Nt,he.Self);for(let o of s)o()}finally{Gi(t),Vt(i),me(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(xt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=lt(e);let t=Zs(e)?e:lt(e&&e.provide),i=DP(e);if(!Zs(e)&&e.multi===!0){let r=this.records.get(t);r||(r=qs(void 0,Lu,!0),r.factory=()=>Ng(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=me(null);try{return t.value===Lu&&(t.value=EP,t.value=t.factory()),typeof t.value=="object"&&t.value&&CP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{me(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=lt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Pg(n){let e=wd(n),t=e!==null?e.factory:Lr(n);if(t!==null)return t;if(n instanceof H)throw new z(204,!1);if(n instanceof Function)return IP(n);throw new z(204,!1)}function IP(n){if(n.length>0)throw new z(204,!1);let t=xO(n);return t!==null?()=>t.factory(n):()=>new n}function DP(n){if(ED(n))return qs(void 0,n.useValue);{let e=ID(n);return qs(e,Lu)}}function ID(n,e,t){let i;if(Zs(n)){let r=lt(n);return Lr(r)||Pg(r)}else if(ED(n))i=()=>lt(n.useValue);else if(wP(n))i=()=>n.useFactory(...Ng(n.deps||[]));else if(vP(n))i=()=>ee(lt(n.useExisting));else{let r=lt(n&&(n.useClass||n.provide));if(TP(n))i=()=>new r(...Ng(n.deps));else return Lr(r)||Pg(r)}return i}function qs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function TP(n){return!!n.deps}function CP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function SP(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function kg(n,e){for(let t of n)Array.isArray(t)?kg(t,e):t&&iD(t)?kg(t.\u0275providers,e):e(t)}function pn(n,e){n instanceof Wa&&n.assertNotDestroyed();let t,i=Gi(n),r=Vt(void 0);try{return e()}finally{Gi(i),Vt(r)}}function DD(){return rD()!==void 0||GO()!=null}function $m(n){if(!DD())throw new z(-203,!1)}function AP(n){return typeof n=="function"}var ai=0,ie=1,X=2,bt=3,dn=4,Pt=5,Xs=6,Ju=7,vt=8,eo=9,Tn=10,Ce=11,Ka=12,wI=13,lo=14,Lt=15,Br=16,Ws=17,ti=18,Td=19,TD=20,zi=21,pg=22,Zt=23,qe=25,CD=1;var jr=7,Yu=8,to=9,wt=10,Zu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Zu||{});function qi(n){return Array.isArray(n)&&typeof n[CD]=="object"}function ci(n){return Array.isArray(n)&&n[CD]===!0}function Hm(n){return(n.flags&4)!==0}function Cd(n){return n.componentOffset>-1}function Sd(n){return(n.flags&1)===1}function Qi(n){return!!n.template}function Fg(n){return(n[X]&512)!==0}var Vg=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function SD(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function li(){return AD}function AD(n){return n.type.prototype.ngOnChanges&&(n.setInput=MP),RP}li.ngInherit=!0;function RP(){let n=MD(this),e=n?.current;if(e){let t=n.previous;if(t===ei)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function MP(n,e,t,i,r){let s=this.declaredInputs[i],o=MD(n)||NP(n,{previous:ei,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Vg(u&&u.currentValue,t,c===ei),SD(n,e,r,t)}var RD="__ngSimpleChanges__";function MD(n){return n[RD]||null}function NP(n,e){return n[RD]=e}var bI=null;var bn=function(n,e,t){bI?.(n,e,t)},ND="svg",xP="math";function Xt(n){for(;Array.isArray(n);)n=n[ai];return n}function Ad(n,e){return Xt(e[n])}function en(n,e){return Xt(e[n.index])}function Gm(n,e){return n.data[e]}function xD(n,e){return n[e]}function Yi(n,e){let t=e[n];return qi(t)?t:t[ai]}function OP(n){return(n[X]&4)===4}function zm(n){return(n[X]&128)===128}function PP(n){return ci(n[bt])}function ni(n,e){return e==null?null:n[e]}function OD(n){n[Ws]=0}function PD(n){n[X]&1024||(n[X]|=1024,zm(n)&&Md(n))}function kP(n,e){for(;n>0;)e=e[lo],n--;return e}function Rd(n){return!!(n[X]&9216||n[Zt]?.dirty)}function Lg(n){n[Tn].changeDetectionScheduler?.notify(8),n[X]&64&&(n[X]|=1024),Rd(n)&&Md(n)}function Md(n){n[Tn].changeDetectionScheduler?.notify(0);let e=Ur(n);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!zm(e)));)e=Ur(e)}function kD(n,e){if((n[X]&256)===256)throw new z(911,!1);n[zi]===null&&(n[zi]=[]),n[zi].push(e)}function FP(n,e){if(n[zi]===null)return;let t=n[zi].indexOf(e);t!==-1&&n[zi].splice(t,1)}function Ur(n){let e=n[bt];return ci(e)?e[bt]:e}var ce={lFrame:zD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var FD=!1;function VP(){return ce.lFrame.elementDepthCount}function LP(){ce.lFrame.elementDepthCount++}function BP(){ce.lFrame.elementDepthCount--}function VD(){return ce.bindingsEnabled}function LD(){return ce.skipHydrationRootTNode!==null}function jP(n){return ce.skipHydrationRootTNode===n}function UP(){ce.skipHydrationRootTNode=null}function se(){return ce.lFrame.lView}function Ve(){return ce.lFrame.tView}function tn(n){return ce.lFrame.contextLView=n,n[vt]}function nn(n){return ce.lFrame.contextLView=null,n}function Et(){let n=BD();for(;n!==null&&n.type===64;)n=n.parent;return n}function BD(){return ce.lFrame.currentTNode}function Qa(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Cn(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function qm(){return ce.lFrame.isParent}function Wm(){ce.lFrame.isParent=!1}function $P(){return ce.lFrame.contextLView}function jD(){return FD}function EI(n){FD=n}function HP(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Km(){return ce.lFrame.bindingIndex}function GP(n){return ce.lFrame.bindingIndex=n}function Zi(){return ce.lFrame.bindingIndex++}function Nd(n){let e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function zP(){return ce.lFrame.inI18n}function UD(n){ce.lFrame.inI18n=n}function qP(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Bg(e)}function WP(){return ce.lFrame.currentDirectiveIndex}function Bg(n){ce.lFrame.currentDirectiveIndex=n}function KP(n){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function $D(){return ce.lFrame.currentQueryIndex}function Qm(n){ce.lFrame.currentQueryIndex=n}function QP(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[Pt]:null}function HD(n,e,t){if(t&he.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&he.Host);)if(r=QP(s),r===null||(s=s[lo],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=ce.lFrame=GD();return i.currentTNode=e,i.lView=n,!0}function Jm(n){let e=GD(),t=n[ie];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function GD(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?zD(n):e}function zD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function qD(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var WD=qD;function Ym(){let n=qD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function JP(n){return(ce.lFrame.contextLView=kP(n,ce.lFrame.contextLView))[vt]}function ui(){return ce.lFrame.selectedIndex}function $r(n){ce.lFrame.selectedIndex=n}function xd(){let n=ce.lFrame;return Gm(n.tView,n.selectedIndex)}function KD(){ce.lFrame.currentNamespace=ND}function QD(){YP()}function YP(){ce.lFrame.currentNamespace=null}function ZP(){return ce.lFrame.currentNamespace}var JD=!0;function nc(){return JD}function ic(n){JD=n}function XP(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=AD(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Od(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Bu(n,e,t){YD(n,e,3,t)}function ju(n,e,t,i){(n[X]&3)===t&&YD(n,e,t,i)}function gg(n,e){let t=n[X];(t&3)===e&&(t&=16383,t+=1,n[X]=t)}function YD(n,e,t,i){let r=i!==void 0?n[Ws]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[Ws]+=65536),(a<s||s==-1)&&(ek(n,t,e,c),n[Ws]=(n[Ws]&4294901760)+c+2),c++}function II(n,e){bn(4,n,e);let t=me(null);try{e.call(n)}finally{me(t),bn(5,n,e)}}function ek(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[X]>>14<n[Ws]>>16&&(n[X]&3)===e&&(n[X]+=16384,II(a,s)):II(a,s)}var Js=-1,Hr=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function tk(n){return n instanceof Hr}function nk(n){return(n.flags&8)!==0}function ik(n){return(n.flags&16)!==0}var mg={},jg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=bd(i);let r=this.injector.get(e,mg,i);return r!==mg||t===mg?r:this.parentInjector.get(e,t,i)}};function ZD(n){return n!==Js}function Xu(n){return n&32767}function rk(n){return n>>16}function ed(n,e){let t=rk(n),i=e;for(;t>0;)i=i[lo],t--;return i}var Ug=!0;function td(n){let e=Ug;return Ug=n,e}var sk=256,XD=sk-1,eT=5,ok=0,En={};function ak(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ua)&&(i=t[Ua]),i==null&&(i=t[Ua]=ok++);let r=i&XD,s=1<<r;e.data[n+(r>>eT)]|=s}function nd(n,e){let t=tT(n,e);if(t!==-1)return t;let i=e[ie];i.firstCreatePass&&(n.injectorIndex=e.length,_g(i.data,n),_g(e,null),_g(i.blueprint,null));let r=Zm(n,e),s=n.injectorIndex;if(ZD(r)){let o=Xu(r),a=ed(r,e),c=a[ie].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function _g(n,e){n.push(0,0,0,0,0,0,0,0,e)}function tT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Zm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=oT(r),i===null)return Js;if(t++,r=r[lo],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Js}function $g(n,e,t){ak(n,e,t)}function nT(n,e,t){if(t&he.Optional||n!==void 0)return n;Vm(e,"NodeInjector")}function iT(n,e,t,i){if(t&he.Optional&&i===void 0&&(i=null),!(t&(he.Self|he.Host))){let r=n[eo],s=Vt(void 0);try{return r?r.get(e,i,t&he.Optional):sD(e,i,t&he.Optional)}finally{Vt(s)}}return nT(i,e,t)}function rT(n,e,t,i=he.Default,r){if(n!==null){if(e[X]&2048&&!(i&he.Self)){let o=dk(n,e,t,i,En);if(o!==En)return o}let s=sT(n,e,t,i,En);if(s!==En)return s}return iT(e,t,i,r)}function sT(n,e,t,i,r){let s=lk(t);if(typeof s=="function"){if(!HD(e,n,i))return i&he.Host?nT(r,t,i):iT(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&he.Optional))Vm(t);else return o}finally{WD()}}else if(typeof s=="number"){let o=null,a=tT(n,e),c=Js,u=i&he.Host?e[Lt][Pt]:null;for((a===-1||i&he.SkipSelf)&&(c=a===-1?Zm(n,e):e[a+8],c===Js||!TI(i,!1)?a=-1:(o=e[ie],a=Xu(c),e=ed(c,e)));a!==-1;){let h=e[ie];if(DI(s,a,h.data)){let f=ck(a,e,t,o,i,u);if(f!==En)return f}c=e[a+8],c!==Js&&TI(i,e[ie].data[a+8]===u)&&DI(s,a,e)?(o=h,a=Xu(c),e=ed(c,e)):a=-1}}return r}function ck(n,e,t,i,r,s){let o=e[ie],a=o.data[n+8],c=i==null?Cd(a)&&Ug:i!=o&&(a.type&3)!==0,u=r&he.Host&&s===a,h=Uu(a,o,t,c,u);return h!==null?Gr(e,o,h,a):En}function Uu(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,u=n.directiveEnd,h=s>>20,f=i?a:a+h,g=r?a+h:u;for(let _=f;_<g;_++){let v=o[_];if(_<c&&t===v||_>=c&&v.type===t)return _}if(r){let _=o[c];if(_&&Qi(_)&&_.type===t)return c}return null}function Gr(n,e,t,i){let r=n[t],s=e.data;if(tk(r)){let o=r;o.resolving&&BO(LO(s[t]));let a=td(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Vt(o.injectImpl):null,h=HD(n,i,he.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&XP(t,s[t],e)}finally{u!==null&&Vt(u),td(a),o.resolving=!1,WD()}}return r}function lk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ua)?n[Ua]:void 0;return typeof e=="number"?e>=0?e&XD:uk:e}function DI(n,e,t){let i=1<<n;return!!(t[e+(n>>eT)]&i)}function TI(n,e){return!(n&he.Self)&&!(n&he.Host&&e)}var Vr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return rT(this._tNode,this._lView,e,bd(i),t)}};function uk(){return new Vr(Et(),se())}function di(n){return ec(()=>{let e=n.prototype.constructor,t=e[qu]||Hg(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[qu]||Hg(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Hg(n){return XI(n)?()=>{let e=Hg(lt(n));return e&&e()}:Lr(n)}function dk(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[X]&2048&&!(o[X]&512);){let a=sT(s,o,t,i|he.Self,En);if(a!==En)return a;let c=s.parent;if(!c){let u=o[TD];if(u){let h=u.get(t,En,i);if(h!==En)return h}c=oT(o),o=o[lo]}s=c}return r}function oT(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[Pt]:null}function CI(n,e=null,t=null,i){let r=aT(n,e,t,i);return r.resolveInjectorInitializers(),r}function aT(n,e=null,t=null,i,r=new Set){let s=[t||Nt,_P(n)];return i=i||(typeof n=="object"?void 0:xt(n)),new Wa(s,e||Dd(),i||null,r)}var Be=class n{static{this.THROW_IF_NOT_FOUND=za}static{this.NULL=new Qu}static create(e,t){if(Array.isArray(e))return CI({name:""},t,e,"");{let i=e.name??"";return CI({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=$({token:n,providedIn:"any",factory:()=>ee(lD)})}static{this.__NG_ELEMENT_ID__=-1}};var hk=new H("");hk.__NG_ELEMENT_ID__=n=>{let e=Et();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(n&he.Optional)return null;throw new z(204,!1)};var fk="ngOriginalError";function yg(n){return n[fk]}var cT=!0,Kr=(()=>{class n{static{this.__NG_ELEMENT_ID__=pk}static{this.__NG_ENV_ID__=t=>t}}return n})(),Gg=class extends Kr{constructor(e){super(),this._lView=e}onDestroy(e){return kD(this._lView,e),()=>FP(this._lView,e)}};function pk(){return new Gg(se())}var hi=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}}return n})();var zg=class extends xe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,DD()&&(this.destroyRef=N(Kr,{optional:!0})??void 0,this.pendingTasks=N(hi,{optional:!0})??void 0)}emit(e){let t=me(null);try{super.next(e)}finally{me(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof $e&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},ye=zg;function id(...n){}function lT(n){let e,t;function i(){n=id;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function SI(n){return queueMicrotask(()=>n()),()=>{n=id}}var Xm="isAngularZone",rd=Xm+"_ID",gk=0,be=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ye(!1),this.onMicrotaskEmpty=new ye(!1),this.onStable=new ye(!1),this.onError=new ye(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=cT}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,yk(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Xm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,mk,id,id);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},mk={};function e_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _k(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){lT(()=>{n.callbackScheduled=!1,qg(n),n.isCheckStableRunning=!0,e_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),qg(n)}function yk(n){let e=()=>{_k(n)},t=gk++;n._inner=n._inner.fork({name:"angular",properties:{[Xm]:!0,[rd]:t,[rd+t]:!0},onInvokeTask:(i,r,s,o,a,c)=>{if(vk(c))return i.invokeTask(s,o,a,c);try{return AI(n),i.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),RI(n)}},onInvoke:(i,r,s,o,a,c,u)=>{try{return AI(n),i.invoke(s,o,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!wk(c)&&e(),RI(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,qg(n),e_(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function qg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function AI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function RI(n){n._nesting--,e_(n)}var Wg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ye,this.onMicrotaskEmpty=new ye,this.onStable=new ye,this.onError=new ye}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function vk(n){return uT(n,"__ignore_ng_zone__")}function wk(n){return uT(n,"__scheduler_tick__")}function uT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ii=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&yg(e);for(;t&&yg(t);)t=yg(t);return t||null}},bk=new H("",{providedIn:"root",factory:()=>{let n=N(be),e=N(ii);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Ek(){return uo(Et(),se())}function uo(n,e){return new dt(en(n,e))}var dt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Ek}}return n})();function Ik(n){return n instanceof dt?n.nativeElement:n}function Dk(){return this._results[Symbol.iterator]()}var Kg=class n{get changes(){return this._changes??=new ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Dk)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=JO(e);(this._changesDetected=!QO(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function dT(n){return(n.flags&128)===128}var hT=new Map,Tk=0;function Ck(){return Tk++}function Sk(n){hT.set(n[Td],n)}function Qg(n){hT.delete(n[Td])}var MI="__ngContext__";function Sn(n,e){qi(e)?(n[MI]=e[Td],Sk(e)):n[MI]=e}function fT(n){return gT(n[Ka])}function pT(n){return gT(n[dn])}function gT(n){for(;n!==null&&!ci(n);)n=n[dn];return n}var Jg;function mT(n){Jg=n}function _T(){if(Jg!==void 0)return Jg;if(typeof document<"u")return document;throw new z(210,!1)}var t_=new H("",{providedIn:"root",factory:()=>Ak}),Ak="ng",n_=new H(""),rn=new H("",{providedIn:"platform",factory:()=>"unknown"});var i_=new H("",{providedIn:"root",factory:()=>_T().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Rk="h",Mk="b";var Nk=()=>null;function r_(n,e,t=!1){return Nk(n,e,t)}var yT=!1,xk=new H("",{providedIn:"root",factory:()=>yT});var Pu;function Ok(){if(Pu===void 0&&(Pu=null,Fr.trustedTypes))try{Pu=Fr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pu}function s_(n){return Ok()?.createHTML(n)||n}var sd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${YI})`}};function rc(n){return n instanceof sd?n.changingThisBreaksApplicationSecurity:n}function vT(n,e){let t=Pk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${YI})`)}return t===e}function Pk(n){return n instanceof sd&&n.getTypeName()||null}function kk(n){let e=new Zg(n);return Fk()?new Yg(e):e}var Yg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(s_(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Zg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=s_(e),t}};function Fk(){try{return!!new window.DOMParser().parseFromString(s_(""),"text/html")}catch{return!1}}var Vk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function o_(n){return n=String(n),n.match(Vk)?n:"unsafe:"+n}function Xi(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function sc(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var Lk=Xi("area,br,col,hr,img,wbr"),wT=Xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bT=Xi("rp,rt"),Bk=sc(bT,wT),jk=sc(wT,Xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uk=sc(bT,Xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$k=sc(Lk,jk,Uk,Bk),ET=Xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hk=Xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gk=Xi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),zk=sc(ET,Hk,Gk);function qk(n){return"content"in n&&Wk(n)?n.content:null}function Wk(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var a_=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(a_||{});function er(n){let e=Kk();return e?e.sanitize(a_.URL,n)||"":vT(n,"URL")?rc(n):o_(In(n))}function Kk(){let n=se();return n&&n[Tn].sanitizer}var Qk=/^>|^->|<!--|-->|--!>|<!-$/g,Jk=/(<|>)/g,Yk="\u200B$1\u200B";function Zk(n){return n.replace(Qk,e=>e.replace(Jk,Yk))}function IT(n){return n instanceof Function?n():n}function Xk(n){return(n??N(Be)).get(rn)==="browser"}var ri=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ri||{}),Xg;function c_(n,e){return Xg(n,e)}function eF(n){Xg===void 0&&(Xg=n())}function Ks(n,e,t,i,r){if(i!=null){let s,o=!1;ci(i)?s=i:qi(i)&&(o=!0,i=i[ai]);let a=Xt(i);n===0&&t!==null?r==null?NT(e,t,a):zr(e,t,a,r||null,!0):n===1&&t!==null?zr(e,t,a,r||null,!0):n===2?VT(e,a,o):n===3&&e.destroyNode(a),s!=null&&lF(e,n,s,t,r)}}function DT(n,e){return n.createText(e)}function TT(n,e,t){n.setValue(e,t)}function CT(n,e){return n.createComment(Zk(e))}function l_(n,e,t){return n.createElement(e,t)}function tF(n,e){ST(n,e),e[ai]=null,e[Pt]=null}function nF(n,e,t,i,r,s){i[ai]=r,i[Pt]=e,Fd(n,i,t,1,r,s)}function ST(n,e){e[Tn].changeDetectionScheduler?.notify(9),Fd(n,e,e[Ce],2,null,null)}function iF(n){let e=n[Ka];if(!e)return vg(n[ie],n);for(;e;){let t=null;if(qi(e))t=e[Ka];else{let i=e[wt];i&&(t=i)}if(!t){for(;e&&!e[dn]&&e!==n;)qi(e)&&vg(e[ie],e),e=e[bt];e===null&&(e=n),qi(e)&&vg(e[ie],e),t=e&&e[dn]}e=t}}function rF(n,e,t,i){let r=wt+i,s=t.length;i>0&&(t[r-1][dn]=e),i<s-wt?(e[dn]=t[r],cD(t,wt+i,e)):(t.push(e),e[dn]=null),e[bt]=t;let o=e[Br];o!==null&&t!==o&&AT(o,e);let a=e[ti];a!==null&&a.insertView(n),Lg(e),e[X]|=128}function AT(n,e){let t=n[to],i=e[bt];if(qi(i))n[X]|=Zu.HasTransplantedViews;else{let r=i[bt][Lt];e[Lt]!==r&&(n[X]|=Zu.HasTransplantedViews)}t===null?n[to]=[e]:t.push(e)}function u_(n,e){let t=n[to],i=t.indexOf(e);t.splice(i,1)}function Ja(n,e){if(n.length<=wt)return;let t=wt+e,i=n[t];if(i){let r=i[Br];r!==null&&r!==n&&u_(r,i),e>0&&(n[t-1][dn]=i[dn]);let s=Ku(n,wt+e);tF(i[ie],i);let o=s[ti];o!==null&&o.detachView(s[ie]),i[bt]=null,i[dn]=null,i[X]&=-129}return i}function Pd(n,e){if(!(e[X]&256)){let t=e[Ce];t.destroyNode&&Fd(n,e,t,3,null,null),iF(e)}}function vg(n,e){if(e[X]&256)return;let t=me(null);try{e[X]&=-129,e[X]|=256,e[Zt]&&Gp(e[Zt]),oF(n,e),sF(n,e),e[ie].type===1&&e[Ce].destroy();let i=e[Br];if(i!==null&&ci(e[bt])){i!==e[bt]&&u_(i,e);let r=e[ti];r!==null&&r.detachView(n)}Qg(e)}finally{me(t)}}function sF(n,e){let t=n.cleanup,i=e[Ju];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Ju]=null);let r=e[zi];if(r!==null){e[zi]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function oF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Hr)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];bn(4,a,c);try{c.call(a)}finally{bn(5,a,c)}}else{bn(4,r,s);try{s.call(r)}finally{bn(5,r,s)}}}}}function RT(n,e,t){return MT(n,e.parent,t)}function MT(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[ai];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===Dn.None||s===Dn.Emulated)return null}return en(i,t)}}function zr(n,e,t,i,r){n.insertBefore(e,t,i,r)}function NT(n,e,t){n.appendChild(e,t)}function NI(n,e,t,i,r){i!==null?zr(n,e,t,i,r):NT(n,e,t)}function d_(n,e){return n.parentNode(e)}function aF(n,e){return n.nextSibling(e)}function xT(n,e,t){return PT(n,e,t)}function OT(n,e,t){return n.type&40?en(n,t):null}var PT=OT,em;function kT(n,e){PT=n,em=e}function kd(n,e,t,i){let r=RT(n,i,e),s=e[Ce],o=i.parent||e[Pt],a=xT(o,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)NI(s,r,t[c],a,!1);else NI(s,r,t,a,!1);em!==void 0&&em(s,i,e,t,r)}function ja(n,e){if(e!==null){let t=e.type;if(t&3)return en(e,n);if(t&4)return tm(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return ja(n,i);{let r=n[e.index];return ci(r)?tm(-1,r):Xt(r)}}else{if(t&128)return ja(n,e.next);if(t&32)return c_(e,n)()||Xt(n[e.index]);{let i=FT(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ur(n[Lt]);return ja(r,i)}else return ja(n,e.next)}}}return null}function FT(n,e){if(e!==null){let i=n[Lt][Pt],r=e.projection;return i.projection[r]}return null}function tm(n,e){let t=wt+n+1;if(t<e.length){let i=e[t],r=i[ie].firstChild;if(r!==null)return ja(i,r)}return e[jr]}function VT(n,e,t){n.removeChild(null,e,t)}function h_(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],c=t.type;if(o&&e===0&&(a&&Sn(Xt(a),i),t.flags|=2),(t.flags&32)!==32)if(c&8)h_(n,e,t.child,i,r,s,!1),Ks(e,n,r,a,s);else if(c&32){let u=c_(t,i),h;for(;h=u();)Ks(e,n,r,h,s);Ks(e,n,r,a,s)}else c&16?LT(n,e,i,t,r,s):Ks(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Fd(n,e,t,i,r,s){h_(t,i,n.firstChild,e,r,s,!1)}function cF(n,e,t){let i=e[Ce],r=RT(n,t,e),s=t.parent||e[Pt],o=xT(s,t,e);LT(i,0,e,t,r,o)}function LT(n,e,t,i,r,s){let o=t[Lt],c=o[Pt].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let h=c[u];Ks(e,n,r,h,s)}else{let u=c,h=o[bt];dT(i)&&(u.flags|=128),h_(n,e,u,h,r,s,!0)}}function lF(n,e,t,i,r){let s=t[jr],o=Xt(t);s!==o&&Ks(e,n,i,s,r);for(let a=wt;a<t.length;a++){let c=t[a];Fd(c[ie],c,n,e,i,s)}}function uF(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:ri.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ri.Important),n.setStyle(t,i,r,s))}}function dF(n,e,t){n.setAttribute(e,"style",t)}function BT(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function jT(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&xg(n,e,i),r!==null&&BT(n,e,r),s!==null&&dF(n,e,s)}var Ht={};function fe(n=1){UT(Ve(),se(),ui()+n,!1)}function UT(n,e,t,i){if(!i)if((e[X]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Bu(e,s,t)}else{let s=n.preOrderHooks;s!==null&&ju(e,s,0,t)}$r(t)}function re(n,e=he.Default){let t=se();if(t===null)return ee(n,e);let i=Et();return rT(i,t,lt(n),e)}function $T(n,e,t,i,r,s){let o=me(null);try{let a=null;r&Wi.SignalBased&&(a=e[i][Qn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Wi.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):SD(e,a,i,s)}finally{me(o)}}function hF(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)$r(~r);else{let s=r,o=t[++i],a=t[++i];qP(o,s);let c=e[s];a(2,c)}}}finally{$r(-1)}}function Vd(n,e,t,i,r,s,o,a,c,u,h){let f=e.blueprint.slice();return f[ai]=r,f[X]=i|4|128|8|64,(u!==null||n&&n[X]&2048)&&(f[X]|=2048),OD(f),f[bt]=f[lo]=n,f[vt]=t,f[Tn]=o||n&&n[Tn],f[Ce]=a||n&&n[Ce],f[eo]=c||n&&n[eo]||null,f[Pt]=s,f[Td]=Ck(),f[Xs]=h,f[TD]=u,f[Lt]=e.type==2?n[Lt]:f,f}function ho(n,e,t,i,r){let s=n.data[e];if(s===null)s=f_(n,e,t,i,r),zP()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=Qa();s.injectorIndex=o===null?-1:o.injectorIndex}return Cn(s,!0),s}function f_(n,e,t,i,r){let s=BD(),o=qm(),a=o?s:s&&s.parent,c=n.data[e]=yF(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function oc(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function HT(n,e,t,i,r){let s=ui(),o=i&2;try{$r(-1),o&&e.length>qe&&UT(n,e,qe,!1),bn(o?2:0,r),t(i,r)}finally{$r(s),bn(o?3:1,r)}}function p_(n,e,t){if(Hm(e)){let i=me(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{me(i)}}}function g_(n,e,t){VD()&&(DF(n,e,t,en(t,e)),(t.flags&64)===64&&qT(n,e,t))}function m_(n,e,t=en){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function GT(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=__(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function __(n,e,t,i,r,s,o,a,c,u,h){let f=qe+i,g=f+r,_=fF(f,g),v=typeof u=="function"?u():u;return _[ie]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:h}}function fF(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ht);return t}function pF(n,e,t,i){let s=i.get(xk,yT)||t===Dn.ShadowDom,o=n.selectRootElement(e,s);return gF(o),o}function gF(n){mF(n)}var mF=()=>null;function _F(n,e,t,i){let r=QT(e);r.push(t),n.firstCreatePass&&JT(n).push(i,r.length-1)}function yF(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return LD()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xI(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=Wi.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}n===0?OI(i,t,u,a,c):OI(i,t,u,a)}return i}function OI(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function vF(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],c=null,u=null;for(let h=i;h<r;h++){let f=s[h],g=t?t.get(f):null,_=g?g.inputs:null,v=g?g.outputs:null;c=xI(0,f.inputs,h,c,_),u=xI(1,f.outputs,h,u,v);let S=c!==null&&o!==null&&!Bm(e)?PF(c,h,o):null;a.push(S)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function wF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Ld(n,e,t,i,r,s,o,a){let c=en(e,t),u=e.inputs,h;!a&&u!=null&&(h=u[i])?(w_(n,t,h,i,r),Cd(e)&&bF(t,e.index)):e.type&3?(i=wF(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function bF(n,e){let t=Yi(e,n);t[X]&16||(t[X]|=64)}function y_(n,e,t,i){if(VD()){let r=i===null?null:{"":-1},s=CF(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&zT(n,e,t,o,r,a),r&&SF(t,i,r)}t.mergedAttrs=qa(t.mergedAttrs,t.attrs)}function zT(n,e,t,i,r,s){for(let u=0;u<i.length;u++)$g(nd(t,e),n,i[u].type);RF(t,n.data.length,i.length);for(let u=0;u<i.length;u++){let h=i[u];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,c=oc(n,e,i.length,null);for(let u=0;u<i.length;u++){let h=i[u];t.mergedAttrs=qa(t.mergedAttrs,h.hostAttrs),MF(n,t,e,c,h),AF(c,h,r),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let f=h.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}vF(n,t,s)}function EF(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;IF(o)!=a&&o.push(a),o.push(t,i,s)}}function IF(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function DF(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;Cd(t)&&NF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||nd(t,e),Sn(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let c=n.data[a],u=Gr(e,n,a,t);if(Sn(u,e),o!==null&&OF(e,a-r,u,c,t,o),Qi(c)){let h=Yi(t.index,e);h[vt]=Gr(e,n,a,t)}}}function qT(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=WP();try{$r(s);for(let a=i;a<r;a++){let c=n.data[a],u=e[a];Bg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&TF(c,u)}}finally{$r(-1),Bg(o)}}function TF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function CF(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(fD(e,o.selectors,!1))if(i||(i=[]),Qi(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;nm(n,e,c)}else i.unshift(o),nm(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function nm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function SF(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new z(-301,!1);i.push(e[r],s)}}}function AF(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Qi(e)&&(t[""]=n)}}function RF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function MF(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=Lr(r.type,!0)),o=new Hr(s,Qi(r),re);n.blueprint[i]=o,t[i]=o,EF(n,e,i,oc(n,t,r.hostVars,Ht),r)}function NF(n,e,t){let i=en(e,n),r=GT(t),s=n[Tn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=Bd(n,Vd(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function xF(n,e,t,i,r,s){let o=en(n,e);v_(e[Ce],o,s,n.value,t,i,r)}function v_(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?In(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function OF(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],h=o[a++],f=o[a++];$T(i,t,c,u,h,f)}}function PF(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function WT(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function KT(n,e){let t=n.contentQueries;if(t!==null){let i=me(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];Qm(s),a.contentQueries(2,e[o],o)}}}finally{me(i)}}}function Bd(n,e){return n[Ka]?n[wI][dn]=e:n[Ka]=e,n[wI]=e,e}function im(n,e,t){Qm(0);let i=me(null);try{e(n,t)}finally{me(i)}}function QT(n){return n[Ju]??=[]}function JT(n){return n.cleanup??=[]}function YT(n,e){let t=n[eo],i=t?t.get(ii,null):null;i&&i.handleError(e)}function w_(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],c=t[s++],u=e[o],h=n.data[o];$T(h,u,i,a,c,r)}}function ZT(n,e,t){let i=Ad(e,n);TT(n[Ce],i,t)}function kF(n,e){let t=Yi(e,n),i=t[ie];FF(i,t);let r=t[ai];r!==null&&t[Xs]===null&&(t[Xs]=r_(r,t[eo])),b_(i,t,t[vt])}function FF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function b_(n,e,t){Jm(e);try{let i=n.viewQuery;i!==null&&im(1,i,t);let r=n.template;r!==null&&HT(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ti]?.finishViewCreation(n),n.staticContentQueries&&KT(n,e),n.staticViewQueries&&im(2,n.viewQuery,t);let s=n.components;s!==null&&VF(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[X]&=-5,Ym()}}function VF(n,e){for(let t=0;t<e.length;t++)kF(n,e[t])}function ac(n,e,t,i){let r=me(null);try{let s=e.tView,a=n[X]&4096?4096:16,c=Vd(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];c[Br]=u;let h=n[ti];return h!==null&&(c[ti]=h.createEmbeddedView(s)),b_(s,c,t),c}finally{me(r)}}function XT(n,e){let t=wt+e;if(t<n.length)return n[t]}function no(n,e){return!e||e.firstChild===null||dT(n)}function cc(n,e,t,i=!0){let r=e[ie];if(rF(r,e,n,t),i){let o=tm(t,n),a=e[Ce],c=d_(a,n[jr]);c!==null&&nF(r,n[Pt],a,e,c,o)}let s=e[Xs];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function eC(n,e){let t=Ja(n,e);return t!==void 0&&Pd(t[ie],t),t}function od(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(Xt(s)),ci(s)&&LF(s,i);let o=t.type;if(o&8)od(n,e,t.child,i);else if(o&32){let a=c_(t,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=FT(e,t);if(Array.isArray(a))i.push(...a);else{let c=Ur(e[Lt]);od(c[ie],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function LF(n,e){for(let t=wt;t<n.length;t++){let i=n[t],r=i[ie].firstChild;r!==null&&od(i[ie],i,r,e)}n[jr]!==n[ai]&&e.push(n[jr])}var tC=[];function BF(n){return n[Zt]??jF(n)}function jF(n){let e=tC.pop()??Object.create($F);return e.lView=n,e}function UF(n){n.lView[Zt]!==n&&(n.lView=null,tC.push(n))}var $F=ue(F({},Fa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Md(n.lView)},consumerOnSignalRead(){this.lView[Zt]=this}});function HF(n){let e=n[Zt]??Object.create(GF);return e.lView=n,e}var GF=ue(F({},Fa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ur(n.lView);for(;e&&!nC(e[ie]);)e=Ur(e);e&&PD(e)},consumerOnSignalRead(){this.lView[Zt]=this}});function nC(n){return n.type!==2}var zF=100;function iC(n,e=!0,t=0){let i=n[Tn],r=i.rendererFactory,s=!1;s||r.begin?.();try{qF(n,t)}catch(o){throw e&&YT(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function qF(n,e){let t=jD();try{EI(!0),rm(n,e);let i=0;for(;Rd(n);){if(i===zF)throw new z(103,!1);i++,rm(n,1)}}finally{EI(t)}}function WF(n,e,t,i){let r=e[X];if((r&256)===256)return;let s=!1,o=!1;!s&&e[Tn].inlineEffectRunner?.flush(),Jm(e);let a=!0,c=null,u=null;s||(nC(n)?(u=BF(e),c=iu(u)):CE()===null?(a=!1,u=HF(e),c=iu(u)):e[Zt]&&(Gp(e[Zt]),e[Zt]=null));try{OD(e),GP(n.bindingStartIndex),t!==null&&HT(n,e,t,2,i);let h=(r&3)===3;if(!s)if(h){let _=n.preOrderCheckHooks;_!==null&&Bu(e,_,null)}else{let _=n.preOrderHooks;_!==null&&ju(e,_,0,null),gg(e,0)}if(o||KF(e),rC(e,0),n.contentQueries!==null&&KT(n,e),!s)if(h){let _=n.contentCheckHooks;_!==null&&Bu(e,_)}else{let _=n.contentHooks;_!==null&&ju(e,_,1),gg(e,1)}hF(n,e);let f=n.components;f!==null&&oC(e,f,0);let g=n.viewQuery;if(g!==null&&im(2,g,i),!s)if(h){let _=n.viewCheckHooks;_!==null&&Bu(e,_)}else{let _=n.viewHooks;_!==null&&ju(e,_,2),gg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[pg]){for(let _ of e[pg])_();e[pg]=null}s||(e[X]&=-73)}catch(h){throw s||Md(e),h}finally{u!==null&&($p(u,c),a&&UF(u)),Ym()}}function rC(n,e){for(let t=fT(n);t!==null;t=pT(t))for(let i=wt;i<t.length;i++){let r=t[i];sC(r,e)}}function KF(n){for(let e=fT(n);e!==null;e=pT(e)){if(!(e[X]&Zu.HasTransplantedViews))continue;let t=e[to];for(let i=0;i<t.length;i++){let r=t[i];PD(r)}}}function QF(n,e,t){let i=Yi(e,n);sC(i,t)}function sC(n,e){zm(n)&&rm(n,e)}function rm(n,e){let i=n[ie],r=n[X],s=n[Zt],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Hp(s)),o||=!1,s&&(s.dirty=!1),n[X]&=-9217,o)WF(i,n,i.template,n[vt]);else if(r&8192){rC(n,1);let a=i.components;a!==null&&oC(n,a,1)}}function oC(n,e,t){for(let i=0;i<e.length;i++)QF(n,e[i],t)}function E_(n,e){let t=jD()?64:1088;for(n[Tn].changeDetectionScheduler?.notify(e);n;){n[X]|=t;let i=Ur(n);if(Fg(n)&&!i)return n;n=i}return null}var qr=class{get rootNodes(){let e=this._lView,t=e[ie];return od(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vt]}set context(e){this._lView[vt]=e}get destroyed(){return(this._lView[X]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bt];if(ci(e)){let t=e[Yu],i=t?t.indexOf(this):-1;i>-1&&(Ja(e,i),Ku(t,i))}this._attachedToViewContainer=!1}Pd(this._lView[ie],this._lView)}onDestroy(e){kD(this._lView,e)}markForCheck(){E_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){Lg(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,iC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Fg(this._lView),t=this._lView[Br];t!==null&&!e&&u_(t,this._lView),ST(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let t=Fg(this._lView),i=this._lView[Br];i!==null&&!t&&AT(i,this._lView),Lg(this._lView)}},An=(()=>{class n{static{this.__NG_ELEMENT_ID__=ZF}}return n})(),JF=An,YF=class extends JF{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=ac(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new qr(r)}};function ZF(){return jd(Et(),se())}function jd(n,e){return n.type&4?new YF(e,n,uo(n,e)):null}function aC(n,e,t){let i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return r===null?OT(n,e,t):Xt(t[r])}function cC(n,e,t,i,r){let s=e.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(e.type&3||(a=o,o=r),o!==null&&e.componentOffset===-1)for(let c=1;c<s.length;c++){let u=t[s[c]];zr(n,o,u,a,!1)}}}function lC(n,e){if(n.push(e),n.length>1)for(let t=n.length-2;t>=0;t--){let i=n[t];uC(i)||XF(i,e)&&eV(i)===null&&tV(i,e.index)}}function uC(n){return!(n.type&64)}function XF(n,e){return uC(e)||n.index>e.index}function eV(n){let e=n.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function tV(n,e){let t=n.insertBeforeIndex;Array.isArray(t)?t[0]=e:(kT(aC,cC),n.insertBeforeIndex=e)}function $a(n,e){let t=n.data[e];return t===null||typeof t=="string"?null:t.hasOwnProperty("currentCaseLViewIndex")?t:t.value}function nV(n,e,t){let i=n.data[e];i===null?n.data[e]=t:i.value=t}function iV(n,e){let t=n.insertBeforeIndex;t===null?(kT(aC,cC),t=n.insertBeforeIndex=[null,e]):(MO(Array.isArray(t),!0,"Expecting array here"),t.push(e))}function rV(n,e,t){let i=f_(n,t,64,null,null);return lC(e,i),i}function Ud(n,e){let t=e[n.currentCaseLViewIndex];return t===null?t:t<0?~t:t}function sV(n){return n>>>17}function oV(n){return(n&131070)>>>1}function aV(n,e,t){return n|e<<17|t<<1}function cV(n){return n===-1}function dC(n,e,t){n.index=0;let i=Ud(e,t);i!==null?n.removes=e.remove[i]:n.removes=Nt}function sm(n){if(n.index<n.removes.length){let e=n.removes[n.index++];if(e>0)return n.lView[e];{n.stack.push(n.index,n.removes);let t=~e,i=n.lView[ie].data[t];return dC(n,i,n.lView),sm(n)}}else return n.stack.length===0?null:(n.removes=n.stack.pop(),n.index=n.stack.pop(),sm(n))}function lV(){let n={stack:[],index:-1};function e(t,i){for(n.lView=i;n.stack.length;)n.stack.pop();return dC(n,t.value,i),sm.bind(null,n)}return e}var PQ=new RegExp(`^(\\d+)*(${Mk}|${Rk})*(.*)`);var uV=()=>{};function dV(n,e,t,i){uV(n,e,t,i)}var hV=()=>{};function fV(n,e,t){hV(n,e,t)}var pV=()=>null;function io(n,e){return pV(n,e)}var ro=class{},I_=new H("",{providedIn:"root",factory:()=>!1});var hC=new H(""),fC=new H(""),om=class{},ad=class{};function gV(n){let e=Error(`No component factory found for ${xt(n)}.`);return e[mV]=n,e}var mV="ngComponent";var am=class{resolveComponentFactory(e){throw gV(e)}},so=class{static{this.NULL=new am}},oo=class{},tr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>_V()}}return n})();function _V(){let n=se(),e=Et(),t=Yi(e.index,n);return(qi(t)?t:n)[Ce]}var yV=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>null})}}return n})();function cd(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Ag(r,a);else if(s==2){let c=a,u=e[++o];i=Ag(i,c+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var ld=class extends so{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ki(e);return new ao(t,this.ngModule)}};function PI(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Wi.None;e?t.push({propName:o,templateName:i,isSignal:(a&Wi.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function vV(n){let e=n.toLowerCase();return e==="svg"?ND:e==="math"?xP:null}var ao=class extends ad{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=PI(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return PI(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=hP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=me(null);try{r=r||this.ngModule;let o=r instanceof ut?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new jg(e,o):e,c=a.get(oo,null);if(c===null)throw new z(407,!1);let u=a.get(yV,null),h=a.get(ro,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:h},g=c.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",v=i?pF(g,i,this.componentDef.encapsulation,a):l_(g,_,vV(_)),S=512;this.componentDef.signals?S|=4096:this.componentDef.onPush||(S|=16);let A=null;v!==null&&(A=r_(v,a,!0));let x=__(0,null,null,1,0,null,null,null,null,null,null),V=Vd(null,x,null,S,null,null,f,g,a,null,A);Jm(V);let L,W,ge=null;try{let q=this.componentDef,I,y=null;q.findHostDirectiveDefs?(I=[],y=new Map,q.findHostDirectiveDefs(q,I,y),I.push(q)):I=[q];let w=wV(V,v);ge=bV(w,v,q,I,V,f,g),W=Gm(x,qe),v&&DV(g,q,v,i),t!==void 0&&TV(W,this.ngContentSelectors,t),L=IV(ge,q,I,y,V,[CV]),b_(x,V,null)}catch(q){throw ge!==null&&Qg(ge),Qg(V),q}finally{Ym()}return new cm(this.componentType,L,uo(W,V),V,W)}finally{me(s)}}},cm=class extends om{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new qr(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;w_(s[ie],s,r,e,t),this.previousInputValues.set(e,t);let o=Yi(this._tNode.index,s);E_(o,1)}}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function wV(n,e){let t=n[ie],i=qe;return n[i]=e,ho(t,i,2,"#host",null)}function bV(n,e,t,i,r,s,o){let a=r[ie];EV(i,n,e,o);let c=null;e!==null&&(c=r_(e,r[eo]));let u=s.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let f=Vd(r,GT(t),null,h,r[n.index],n,s,u,null,null,c);return a.firstCreatePass&&nm(a,n,i.length-1),Bd(r,f),r[n.index]=f}function EV(n,e,t,i){for(let r of n)e.mergedAttrs=qa(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(cd(e,e.mergedAttrs,!0),t!==null&&jT(i,t,e))}function IV(n,e,t,i,r,s){let o=Et(),a=r[ie],c=en(o,r);zT(a,r,o,t,null,i);for(let h=0;h<t.length;h++){let f=o.directiveStart+h,g=Gr(r,a,f,o);Sn(g,r)}qT(a,r,o),c&&Sn(c,r);let u=Gr(r,a,o.directiveStart+o.componentOffset,o);if(n[vt]=r[vt]=u,s!==null)for(let h of s)h(u,e);return p_(a,o,r),u}function DV(n,e,t,i){if(i)xg(n,t,["ng-version","18.2.11"]);else{let{attrs:r,classes:s}=fP(e.selectors[0]);r&&xg(n,t,r),s&&s.length>0&&BT(n,t,s.join(" "))}}function TV(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function CV(){let n=Et();Od(se()[ie],n)}var Rn=(()=>{class n{static{this.__NG_ELEMENT_ID__=SV}}return n})();function SV(){let n=Et();return gC(n,se())}var AV=Rn,pC=class extends AV{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Zm(this._hostTNode,this._hostLView);if(ZD(e)){let t=ed(e,this._hostLView),i=Xu(e),r=t[ie].data[i+8];return new Vr(r,t)}else return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=kI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=io(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,no(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!AP(e),a;if(o)a=t;else{let v=t||{};a=v.index,i=v.injector,r=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let c=o?e:new ao(Ki(e)),u=i||this.parentInjector;if(!s&&c.ngModule==null){let S=(o?u:this.parentInjector).get(ut,null);S&&(s=S)}let h=Ki(c.componentType??{}),f=io(this._lContainer,h?.id??null),g=f?.firstChild??null,_=c.create(u,r,g,s);return this.insertImpl(_.hostView,a,no(this._hostTNode,f)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(PP(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[bt],u=new pC(c,c[Pt],c[bt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return cc(o,r,s,i),e.attachToViewContainerRef(),cD(wg(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=kI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Ja(this._lContainer,t);i&&(Ku(wg(this._lContainer),t),Pd(i[ie],i))}detach(e){let t=this._adjustIndex(e,-1),i=Ja(this._lContainer,t);return i&&Ku(wg(this._lContainer),t)!=null?new qr(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function kI(n){return n[Yu]}function wg(n){return n[Yu]||(n[Yu]=[])}function gC(n,e){let t,i=e[n.index];return ci(i)?t=i:(t=WT(i,e,null,n),e[n.index]=t,Bd(e,t)),MV(t,e,n,i),new pC(t,n,e)}function RV(n,e){let t=n[Ce],i=t.createComment(""),r=en(e,n),s=d_(t,r);return zr(t,s,i,aF(t,r),!1),i}var MV=OV,NV=()=>!1;function xV(n,e,t){return NV(n,e,t)}function OV(n,e,t,i){if(n[jr])return;let r;t.type&8?r=Xt(i):r=RV(e,t),n[jr]=r}var lm=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},um=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)D_(e,t).matches!==null&&this.queries[t].setDirty()}},ud=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=UV(e):this.predicate=e}},dm=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},hm=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,PV(t,s)),this.matchTNodeWithReadOption(e,t,Uu(t,e,s,!1,!1))}else i===An?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Uu(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===dt||r===Rn||r===An&&t.type&4)this.addMatch(t.index,-2);else{let s=Uu(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function PV(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function kV(n,e){return n.type&11?uo(n,e):n.type&4?jd(n,e):null}function FV(n,e,t,i){return t===-1?kV(e,n):t===-2?VV(n,e,i):Gr(n,n[ie],t,e)}function VV(n,e,t){if(t===dt)return uo(e,n);if(t===An)return jd(e,n);if(t===Rn)return gC(e,n)}function mC(n,e,t,i){let r=e[ti].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let h=s[u];a.push(FV(e,h,o[c+1],t.metadata.read))}}r.matches=a}return r.matches}function fm(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=mC(n,e,r,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let u=s[a+1],h=e[-c];for(let f=wt;f<h.length;f++){let g=h[f];g[Br]===g[bt]&&fm(g[ie],g,u,i)}if(h[to]!==null){let f=h[to];for(let g=0;g<f.length;g++){let _=f[g];fm(_[ie],_,u,i)}}}}}return i}function LV(n,e){return n[ti].queries[e].queryList}function _C(n,e,t){let i=new Kg((t&4)===4);return _F(n,e,i,i.destroy),(e[ti]??=new um).queries.push(new lm(i))-1}function BV(n,e,t){let i=Ve();return i.firstCreatePass&&(yC(i,new ud(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),_C(i,se(),e)}function jV(n,e,t,i){let r=Ve();if(r.firstCreatePass){let s=Et();yC(r,new ud(e,t,i),s.index),$V(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return _C(r,se(),t)}function UV(n){return n.split(",").map(e=>e.trim())}function yC(n,e,t){n.queries===null&&(n.queries=new dm),n.queries.track(new hm(e,t))}function $V(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function D_(n,e){return n.queries.getByIndex(e)}function HV(n,e){let t=n[ie],i=D_(t,e);return i.crossesNgTemplate?fm(t,n,e,[]):mC(t,n,i,e)}var FI=new Set;function nr(n){FI.has(n)||(FI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function GV(n){return typeof n=="function"&&n[Qn]!==void 0}function fo(n,e){nr("NgSignals");let t=VE(n),i=t[Qn];return e?.equal&&(i.equal=e.equal),t.set=r=>zp(i,r),t.update=r=>LE(i,r),t.asReadonly=zV.bind(t),t}function zV(){let n=this[Qn];if(n.readonlyFn===void 0){let e=()=>this();e[Qn]=n,n.readonlyFn=e}return n.readonlyFn}function vC(n){return GV(n)&&typeof n.set=="function"}function qV(n){return Object.getPrototypeOf(n.prototype).constructor}function Gt(n){let e=qV(n.type),t=!0,i=[n];for(;e;){let r;if(Qi(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=ku(n.inputs),o.inputTransforms=ku(n.inputTransforms),o.declaredInputs=ku(n.declaredInputs),o.outputs=ku(n.outputs);let a=r.hostBindings;a&&YV(n,a);let c=r.viewQuery,u=r.contentQueries;if(c&&QV(n,c),u&&JV(n,u),WV(n,r),AO(n.outputs,r.outputs),Qi(r)&&r.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Gt&&(t=!1)}}e=Object.getPrototypeOf(e)}KV(i)}function WV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function KV(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=qa(r.hostAttrs,t=qa(t,r.hostAttrs))}}function ku(n){return n===ei?{}:n===Nt?[]:n}function QV(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function JV(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function YV(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function T_(n){let e=t=>{let i=Array.isArray(n);t.hostDirectives===null?(t.findHostDirectiveDefs=wC,t.hostDirectives=i?n.map(pm):[n]):i?t.hostDirectives.unshift(...n.map(pm)):t.hostDirectives.unshift(n)};return e.ngInherit=!0,e}function wC(n,e,t){if(n.hostDirectives!==null)for(let i of n.hostDirectives)if(typeof i=="function"){let r=i();for(let s of r)VI(pm(s),e,t)}else VI(i,e,t)}function VI(n,e,t){let i=jm(n.directive);ZV(i.declaredInputs,n.inputs),wC(i,e,t),t.set(i,n),e.push(i)}function pm(n){return typeof n=="function"?{directive:lt(n),inputs:ei,outputs:ei}:{directive:lt(n.directive),inputs:LI(n.inputs),outputs:LI(n.outputs)}}function LI(n){if(n===void 0||n.length===0)return ei;let e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function ZV(n,e){for(let t in e)if(e.hasOwnProperty(t)){let i=e[t],r=n[t];n[i]=r}}var Ji=class{},Ya=class{};var gm=class extends Ji{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ld(this);let s=_D(e);this._bootstrapComponents=IT(s.bootstrap),this._r3Injector=aT(e,t,[{provide:Ji,useValue:this},{provide:so,useValue:this.componentFactoryResolver},...i],xt(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},mm=class extends Ya{constructor(e){super(),this.moduleType=e}create(e){return new gm(this.moduleType,e,[])}};var dd=class extends Ji{constructor(e){super(),this.componentFactoryResolver=new ld(this),this.instance=null;let t=new Wa([...e.providers,{provide:Ji,useValue:this},{provide:so,useValue:this.componentFactoryResolver}],e.parent||Dd(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function C_(n,e,t=null){return new dd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function bC(n){return eL(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function XV(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function eL(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function tL(n,e,t){return n[e]=t}function Bt(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function EC(n,e,t,i){let r=Bt(n,e,t);return Bt(n,e+1,i)||r}function nL(n,e,t,i,r){let s=EC(n,e,t,i);return Bt(n,e+2,r)||s}function iL(n){return(n.flags&32)===32}function rL(n,e,t,i,r,s,o,a,c){let u=e.consts,h=ho(e,n,4,o||null,a||null);y_(e,t,h,ni(u,c)),Od(e,h);let f=h.tView=__(2,h,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}function hd(n,e,t,i,r,s,o,a,c,u){let h=t+qe,f=e.firstCreatePass?rL(h,e,n,i,r,s,o,a,c):e.data[h];Cn(f,!1);let g=sL(e,n,f,t);nc()&&kd(e,n,g,f),Sn(g,n);let _=WT(g,n,g,f);return n[h]=_,Bd(n,_),xV(_,f,n),Sd(f)&&g_(e,n,f),c!=null&&m_(n,f,u),f}function ht(n,e,t,i,r,s,o,a){let c=se(),u=Ve(),h=ni(u.consts,s);return hd(c,u,n,e,t,i,r,h,o,a),ht}var sL=oL;function oL(n,e,t,i){return ic(!0),e[Ce].createComment("")}var Xn=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Xn||{}),IC=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}}return n})(),_m=class n{constructor(){this.ngZone=N(be),this.scheduler=N(ro),this.errorHandler=N(ii,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Xn.EarlyRead,Xn.Write,Xn.MixedReadWrite,Xn.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}},ym=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function lc(n,e){!e?.injector&&$m(lc);let t=e?.injector??N(Be);return Xk(t)?(nr("NgAfterNextRender"),cL(n,t,e,!0)):lL}function aL(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function cL(n,e,t,i){let r=e.get(IC);r.impl??=e.get(_m);let s=t?.phase??Xn.MixedReadWrite,o=t?.manualCleanup!==!0?e.get(Kr):null,a=new ym(r.impl,aL(n,s),i,o);return r.impl.register(a),a}var lL={destroy(){}};function ir(n,e,t,i){let r=se(),s=Zi();if(Bt(r,s,e)){let o=Ve(),a=xd();xF(a,r,n,e,t,i)}return ir}function uL(n,e,t,i){return Bt(n,Zi(),t)?e+In(t)+i:Ht}function dL(n,e,t,i,r,s){let o=Km(),a=EC(n,o,t,r);return Nd(2),a?e+In(t)+i+In(r)+s:Ht}function hL(n,e,t,i,r,s,o,a){let c=Km(),u=nL(n,c,t,r,o);return Nd(3),u?e+In(t)+i+In(r)+s+In(o)+a:Ht}function Fu(n,e){return n<<17|e<<2}function Wr(n){return n>>17&32767}function fL(n){return(n&2)==2}function pL(n,e){return n&131071|e<<17}function vm(n){return n|2}function co(n){return(n&131068)>>2}function bg(n,e){return n&-131069|e<<2}function gL(n){return(n&1)===1}function wm(n){return n|1}function mL(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Wr(o),c=co(o);n[i]=t;let u=!1,h;if(Array.isArray(t)){let f=t;h=f[1],(h===null||tc(f,h)>0)&&(u=!0)}else h=t;if(r)if(c!==0){let g=Wr(n[a+1]);n[i+1]=Fu(g,a),g!==0&&(n[g+1]=bg(n[g+1],i)),n[a+1]=pL(n[a+1],i)}else n[i+1]=Fu(a,0),a!==0&&(n[a+1]=bg(n[a+1],i)),a=i;else n[i+1]=Fu(c,0),a===0?a=i:n[c+1]=bg(n[c+1],i),c=i;u&&(n[i+1]=vm(n[i+1])),BI(n,h,i,!0),BI(n,h,i,!1),_L(e,h,n,i,s),o=Fu(a,c),s?e.classBindings=o:e.styleBindings=o}function _L(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&tc(s,e)>=0&&(t[i+1]=wm(t[i+1]))}function BI(n,e,t,i){let r=n[t+1],s=e===null,o=i?Wr(r):co(r),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],u=n[o+1];yL(c,e)&&(a=!0,n[o+1]=i?wm(u):vm(u)),o=i?Wr(u):co(u)}a&&(n[t+1]=i?vm(r):wm(r))}function yL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?tc(n,e)>=0:!1}var un={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vL(n){return n.substring(un.key,un.keyEnd)}function wL(n){return bL(n),DC(n,TC(n,0,un.textEnd))}function DC(n,e){let t=un.textEnd;return t===e?-1:(e=un.keyEnd=EL(n,un.key=e,t),TC(n,e,t))}function bL(n){un.key=0,un.keyEnd=0,un.value=0,un.valueEnd=0,un.textEnd=n.length}function TC(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function EL(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Ie(n,e,t){let i=se(),r=Zi();if(Bt(i,r,e)){let s=Ve(),o=xd();Ld(s,o,i,n,e,i[Ce],t,!1)}return Ie}function bm(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";w_(n,t,s[o],o,i)}function uc(n,e,t){return SC(n,e,t,!1),uc}function gn(n,e){return SC(n,e,null,!0),gn}function $d(n){AC(AL,CC,n,!0)}function CC(n,e){for(let t=wL(e);t>=0;t=DC(e,t))Ed(n,vL(e),!0)}function SC(n,e,t,i){let r=se(),s=Ve(),o=Nd(2);if(s.firstUpdatePass&&MC(s,n,o,i),e!==Ht&&Bt(r,o,e)){let a=s.data[ui()];NC(s,a,r,r[Ce],n,r[o+1]=ML(e,t),i,o)}}function AC(n,e,t,i){let r=Ve(),s=Nd(2);r.firstUpdatePass&&MC(r,null,s,i);let o=se();if(t!==Ht&&Bt(o,s,t)){let a=r.data[ui()];if(xC(a,i)&&!RC(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Ag(c,t||"")),bm(r,a,o,t,i)}else RL(r,a,o,o[Ce],o[s+1],o[s+1]=SL(n,e,t),i,s)}}function RC(n,e){return e>=n.expandoStartIndex}function MC(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[ui()],o=RC(n,t);xC(s,i)&&e===null&&!o&&(e=!1),e=IL(r,s,e,i),mL(r,s,e,t,o,i)}}function IL(n,e,t,i){let r=KP(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Eg(null,n,e,t,i),t=Za(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=Eg(r,n,e,t,i),s===null){let c=DL(n,e,i);c!==void 0&&Array.isArray(c)&&(c=Eg(null,n,e,c[1],i),c=Za(c,e.attrs,i),TL(n,e,i,c))}else s=CL(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function DL(n,e,t){let i=t?e.classBindings:e.styleBindings;if(co(i)!==0)return n[Wr(i)]}function TL(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Wr(r)]=i}function CL(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=Za(i,o,t)}return Za(i,e.attrs,t)}function Eg(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=Za(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Za(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Ed(n,o,t?!0:e[++s]))}return n===void 0?null:n}function SL(n,e,t){if(t==null||t==="")return Nt;let i=[],r=rc(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function AL(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&Ed(n,i,t)}function RL(n,e,t,i,r,s,o,a){r===Ht&&(r=Nt);let c=0,u=0,h=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;h!==null||f!==null;){let g=c<r.length?r[c+1]:void 0,_=u<s.length?s[u+1]:void 0,v=null,S;h===f?(c+=2,u+=2,g!==_&&(v=f,S=_)):f===null||h!==null&&h<f?(c+=2,v=h):(u+=2,v=f,S=_),v!==null&&NC(n,e,t,i,v,S,o,a),h=c<r.length?r[c]:null,f=u<s.length?s[u]:null}}function NC(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],h=gL(u)?jI(c,e,t,r,co(u),o):void 0;if(!fd(h)){fd(s)||fL(u)&&(s=jI(c,null,t,r,a,o));let f=Ad(ui(),t);uF(i,o,f,r,s)}}function jI(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let c=n[r],u=Array.isArray(c),h=u?c[1]:c,f=h===null,g=t[r+1];g===Ht&&(g=f?Nt:void 0);let _=f?hg(g,i):h===i?g:void 0;if(u&&!fd(_)&&(_=hg(c,i)),fd(_)&&(a=_,o))return a;let v=n[r+1];r=o?Wr(v):co(v)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=hg(c,i))}return a}function fd(n){return n!==void 0}function ML(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=xt(rc(n)))),n}function xC(n,e){return(n.flags&(e?8:16))!==0}function OC(n,e,t,i,r){let s=se(),o=dL(s,n,e,t,i,r);AC(Ed,CC,o,!0)}var Em=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,t){this.attach(t,this.detach(e))}};function Ig(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function NL(n,e,t){let i,r,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let u=n.at(s),h=e[s],f=Ig(s,u,s,h,t);if(f!==0){f<0&&n.updateValue(s,h),s++;continue}let g=n.at(o),_=e[c],v=Ig(o,g,c,_,t);if(v!==0){v<0&&n.updateValue(o,_),o--,c--;continue}let S=t(s,u),A=t(o,g),x=t(s,h);if(Object.is(x,A)){let V=t(c,_);Object.is(V,S)?(n.swap(s,o),n.updateValue(o,_),c--,o--):n.move(o,s),n.updateValue(s,h),s++;continue}if(i??=new pd,r??=$I(n,s,o,t),Im(n,i,s,x))n.updateValue(s,h),s++,o++;else if(r.has(x))i.set(S,n.detach(s)),o--;else{let V=n.create(s,e[s]);n.attach(s,V),s++,o++}}for(;s<=c;)UI(n,i,t,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&s<=o;){let h=n.at(s),f=u.value,g=Ig(s,h,s,f,t);if(g!==0)g<0&&n.updateValue(s,f),s++,u=c.next();else{i??=new pd,r??=$I(n,s,o,t);let _=t(s,f);if(Im(n,i,s,_))n.updateValue(s,f),s++,o++,u=c.next();else if(!r.has(_))n.attach(s,n.create(s,f)),s++,o++,u=c.next();else{let v=t(s,h);i.set(v,n.detach(s)),o--}}}for(;!u.done;)UI(n,i,t,n.length,u.value),u=c.next()}for(;s<=o;)n.destroy(n.detach(o--));i?.forEach(c=>{n.destroy(c)})}function Im(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function UI(n,e,t,i,r){if(Im(n,e,i,t(i,r)))n.updateValue(i,r);else{let s=n.create(i,r);n.attach(i,s)}}function $I(n,e,t,i){let r=new Set;for(let s=e;s<=t;s++)r.add(i(s,n.at(s)));return r}var pd=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function PC(n,e){nr("NgControlFlow");let t=se(),i=Zi(),r=t[i]!==Ht?t[i]:-1,s=r!==-1?gd(t,qe+r):void 0,o=0;if(Bt(t,i,n)){let a=me(null);try{if(s!==void 0&&eC(s,o),n!==-1){let c=qe+n,u=gd(t,c),h=Sm(t[ie],c),f=io(u,h.tView.ssrId),g=ac(t,h,e,{dehydratedView:f});cc(u,g,o,no(h,f))}}finally{me(a)}}else if(s!==void 0){let a=XT(s,o);a!==void 0&&(a[vt]=e)}}var Dm=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-wt}};function dc(n,e){return e}var Tm=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function hc(n,e,t,i,r,s,o,a,c,u,h,f,g){nr("NgControlFlow");let _=se(),v=Ve(),S=c!==void 0,A=se(),x=a?o.bind(A[Lt][vt]):o,V=new Tm(S,x);A[qe+n]=V,hd(_,v,n+1,e,t,i,r,ni(v.consts,s)),S&&hd(_,v,n+2,c,u,h,f,ni(v.consts,g))}var Cm=class extends Em{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-wt}at(e){return this.getLView(e)[vt].$implicit}attach(e,t){let i=t[Xs];this.needsIndexUpdate||=e!==this.length,cc(this.lContainer,t,e,no(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,xL(this.lContainer,e)}create(e,t){let i=io(this.lContainer,this.templateTNode.tView.ssrId),r=ac(this.hostLView,this.templateTNode,new Dm(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Pd(e[ie],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[vt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[vt].$index=e}getLView(e){return OL(this.lContainer,e)}};function fc(n){let e=me(null),t=ui();try{let i=se(),r=i[ie],s=i[t],o=t+1,a=gd(i,o);if(s.liveCollection===void 0){let u=Sm(r,o);s.liveCollection=new Cm(a,i,u)}else s.liveCollection.reset();let c=s.liveCollection;if(NL(c,n,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let u=Zi(),h=c.length===0;if(Bt(i,u,h)){let f=t+2,g=gd(i,f);if(h){let _=Sm(r,f),v=io(g,_.tView.ssrId),S=ac(i,_,void 0,{dehydratedView:v});cc(g,S,0,no(_,v))}else eC(g,0)}}}finally{me(e)}}function gd(n,e){return n[e]}function xL(n,e){return Ja(n,e)}function OL(n,e){return XT(n,e)}function Sm(n,e){return Gm(n,e)}function PL(n,e,t,i,r,s){let o=e.consts,a=ni(o,r),c=ho(e,n,2,i,a);return y_(e,t,c,ni(o,s)),c.attrs!==null&&cd(c,c.attrs,!1),c.mergedAttrs!==null&&cd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function B(n,e,t,i){let r=se(),s=Ve(),o=qe+n,a=r[Ce],c=s.firstCreatePass?PL(o,s,r,e,t,i):s.data[o],u=kL(s,r,c,a,e,n);r[o]=u;let h=Sd(c);return Cn(c,!0),jT(a,u,c),!iL(c)&&nc()&&kd(s,r,u,c),VP()===0&&Sn(u,r),LP(),h&&(g_(s,r,c),p_(s,c,r)),i!==null&&m_(r,c),B}function j(){let n=Et();qm()?Wm():(n=n.parent,Cn(n,!1));let e=n;jP(e)&&UP(),BP();let t=Ve();return t.firstCreatePass&&(Od(t,n),Hm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&nk(e)&&bm(t,e,se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ik(e)&&bm(t,e,se(),e.stylesWithoutHost,!1),j}function it(n,e,t,i){return B(n,e,t,i),j(),it}var kL=(n,e,t,i,r,s)=>(ic(!0),l_(i,r,ZP()));function FL(n,e,t,i,r){let s=e.consts,o=ni(s,i),a=ho(e,n,8,"ng-container",o);o!==null&&cd(a,o,!0);let c=ni(s,r);return y_(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function po(n,e,t){let i=se(),r=Ve(),s=n+qe,o=r.firstCreatePass?FL(s,r,i,e,t):r.data[s];Cn(o,!0);let a=VL(r,i,o,n);return i[s]=a,nc()&&kd(r,i,a,o),Sn(a,i),Sd(o)&&(g_(r,i,o),p_(r,o,i)),t!=null&&m_(i,o),po}function go(){let n=Et(),e=Ve();return qm()?Wm():(n=n.parent,Cn(n,!1)),e.firstCreatePass&&(Od(e,n),Hm(n)&&e.queries.elementEnd(n)),go}var VL=(n,e,t,i)=>(ic(!0),CT(e[Ce],""));function mo(){return se()}function _o(n,e,t){let i=se(),r=Zi();if(Bt(i,r,e)){let s=Ve(),o=xd();Ld(s,o,i,n,e,i[Ce],t,!0)}return _o}var kr=void 0;function LL(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var BL=["en",[["a","p"],["AM","PM"],kr],[["AM","PM"],kr,kr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kr,"{1} 'at' {0}",kr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",LL],Dg={};function Hd(n){let e=jL(n),t=HI(e);if(t)return t;let i=e.split("-")[0];if(t=HI(i),t)return t;if(i==="en")return BL;throw new z(701,!1)}function kC(n){return Hd(n)[Qr.PluralCase]}function HI(n){return n in Dg||(Dg[n]=Fr.ng&&Fr.ng.common&&Fr.ng.common.locales&&Fr.ng.common.locales[n]),Dg[n]}var Qr=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Qr||{});function jL(n){return n.toLowerCase().replace(/_/g,"-")}var UL=["zero","one","two","few","many"];function $L(n,e){let t=kC(e)(parseInt(n,10)),i=UL[t];return i!==void 0?i:"other"}var md="en-US";var FC={marker:"element"},VC={marker:"ICU"},Zn=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(Zn||{}),LC=md;function HL(n){typeof n=="string"&&(LC=n.toLowerCase().replace(/_/g,"-"))}function GL(){return LC}var Xa=0,Ha=0;function zL(n){n&&(Xa=Xa|1<<Math.min(Ha,31)),Ha++}function qL(n,e,t){if(Ha>0){let i=n.data[t],r=Array.isArray(i)?i:i.update,s=Km()-Ha-1;jC(n,e,r,s,Xa)}Xa=0,Ha=0}function WL(n,e,t){let i=n[Ce];switch(t){case Node.COMMENT_NODE:return CT(i,e);case Node.TEXT_NODE:return DT(i,e);case Node.ELEMENT_NODE:return l_(i,e,null)}}var $u=(n,e,t,i)=>(ic(!0),WL(n,t,i));function KL(n,e,t,i){let r=n[Ce];for(let s=0;s<e.length;s++){let o=e[s++],a=e[s],c=(o&Zn.COMMENT)===Zn.COMMENT,u=(o&Zn.APPEND_EAGERLY)===Zn.APPEND_EAGERLY,h=o>>>Zn.SHIFT,f=n[h],g=!1;f===null&&(f=n[h]=$u(n,h,a,c?Node.COMMENT_NODE:Node.TEXT_NODE),g=nc()),u&&t!==null&&g&&zr(r,t,f,i,!1)}}function BC(n,e,t,i){let r=t[Ce],s=null,o;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="string"){let u=e[++a];t[u]===null&&(t[u]=$u(t,u,c,Node.TEXT_NODE))}else if(typeof c=="number")switch(c&1){case 0:let u=sV(c);s===null&&(s=u,o=d_(r,i));let h,f;if(u===s?(h=i,f=o):(h=null,f=Xt(t[u])),f!==null){let S=oV(c),A=t[S];zr(r,f,A,h,!1);let x=$a(n,S);if(x!==null&&typeof x=="object"){let V=Ud(x,t);V!==null&&BC(n,x.create[V],t,t[x.anchorIdx])}}break;case 1:let g=c>>>1,_=e[++a],v=e[++a];v_(r,Ad(g,t),null,null,_,v,null);break;default:}else switch(c){case VC:let u=e[++a],h=e[++a];if(t[h]===null){let _=t[h]=$u(t,h,u,Node.COMMENT_NODE);Sn(_,t)}break;case FC:let f=e[++a],g=e[++a];if(t[g]===null){let _=t[g]=$u(t,g,f,Node.ELEMENT_NODE);Sn(_,t)}break;default:}}}function jC(n,e,t,i,r){for(let s=0;s<t.length;s++){let o=t[s],a=t[++s];if(o&r){let c="";for(let u=s+1;u<=s+a;u++){let h=t[u];if(typeof h=="string")c+=h;else if(typeof h=="number")if(h<0)c+=In(e[i-h]);else{let f=h>>>2;switch(h&3){case 1:let g=t[++u],_=t[++u],v=n.data[f];typeof v=="string"?v_(e[Ce],e[f],null,v,g,c,_):Ld(n,v,e,g,c,e[Ce],_,!1);break;case 0:let S=e[f];S!==null&&TT(e[Ce],S,c);break;case 2:QL(n,$a(n,f),e,c);break;case 3:GI(n,$a(n,f),i,e);break}}}}else{let c=t[s+1];if(c>0&&(c&3)===3){let u=c>>>2,h=$a(n,u);e[h.currentCaseLViewIndex]<0&&GI(n,h,i,e)}}s+=a}}function GI(n,e,t,i){let r=i[e.currentCaseLViewIndex];if(r!==null){let s=Xa;r<0&&(r=i[e.currentCaseLViewIndex]=~r,s=-1),jC(n,i,e.update[r],t,s)}}function QL(n,e,t,i){let r=JL(e,i);if(Ud(e,t)!==r&&(UC(n,e,t),t[e.currentCaseLViewIndex]=r===null?null:~r,r!==null)){let o=t[e.anchorIdx];o&&BC(n,e.create[r],t,o),fV(t,e.anchorIdx,r)}}function UC(n,e,t){let i=Ud(e,t);if(i!==null){let r=e.remove[i];for(let s=0;s<r.length;s++){let o=r[s];if(o>0){let a=Ad(o,t);a!==null&&VT(t[Ce],a)}else UC(n,$a(n,~o),t)}}}function JL(n,e){let t=n.cases.indexOf(e);if(t===-1)switch(n.type){case 1:{let i=$L(e,GL());t=n.cases.indexOf(i),t===-1&&i!=="other"&&(t=n.cases.indexOf("other"));break}case 0:{t=n.cases.indexOf("other");break}}return t===-1?null:t}var _d=/(\d+):?\d*/gi;var YL=/(\d+)/,$C=/^\s*(\d+:?\d*)\s*,\s*(select|plural)\s*,/,Ga="\uFFFD",ZL=/\/?\*(\d+:\d+)/gi,XL=/(\/?[#*]\d+):?\d*/gi,e2=/\uE500/g;function t2(n){return n.replace(e2," ")}function n2(n,e,t,i,r,s){let o=Qa(),a=[],c=[],u=[[]],h=[[]];r=r2(r,s);let f=t2(r).split(XL);for(let g=0;g<f.length;g++){let _=f[g];if(g&1){let v=_.charCodeAt(0)===47,S=_.charCodeAt(v?1:0),A=qe+Number.parseInt(_.substring(v?2:1));if(v)u.shift(),h.shift(),Cn(Qa(),!1);else{let x=rV(n,u[0],A);u.unshift([]),Cn(x,!0);let V={kind:2,index:A,children:[],type:S===35?0:1};h[0].push(V),h.unshift(V.children)}}else{let v=Am(_);for(let S=0;S<v.length;S++){let A=v[S];if(S&1){let x=A;if(typeof x!="object")throw new Error(`Unable to parse ICU expression in "${r}" message.`);let L=HC(n,o,u[0],t,a,"",!0).index;zC(h[0],n,t,c,e,x,L)}else{let x=A;x!==""&&i2(h[0],n,o,u[0],a,c,t,x)}}}}n.data[i]={create:a,update:c,ast:h[0],parentTNodeIndex:e}}function HC(n,e,t,i,r,s,o){let a=oc(n,i,1,null),c=a<<Zn.SHIFT,u=Qa();e===u&&(u=null),u===null&&(c|=Zn.APPEND_EAGERLY),o&&(c|=Zn.COMMENT,eF(lV)),r.push(c,s===null?"":s);let h=f_(n,a,o?32:1,s===null?"":s,null);lC(t,h);let f=h.index;return Cn(h,!1),u!==null&&e!==u&&iV(u,f),h}function i2(n,e,t,i,r,s,o,a){let c=a.match(_d),h=HC(e,t,i,o,r,c?null:a,!1).index;c&&Hu(s,a,h,null,0,null),n.push({kind:0,index:h})}function Hu(n,e,t,i,r,s){let o=n.length,a=o+1;n.push(null,null);let c=o+2,u=e.split(_d),h=0;for(let f=0;f<u.length;f++){let g=u[f];if(f&1){let _=r+parseInt(g,10);n.push(-1-_),h=h|GC(_)}else g!==""&&n.push(g)}return n.push(t<<2|(i?1:0)),i&&n.push(i,s),n[o]=h,n[a]=n.length-c,h}function GC(n){return 1<<Math.min(n,31)}function zI(n){let e,t="",i=0,r=!1,s;for(;(e=ZL.exec(n))!==null;)r?e[0]===`${Ga}/*${s}${Ga}`&&(i=e.index,r=!1):(t+=n.substring(i,e.index+e[0].length),s=e[1],r=!0);return t+=n.slice(i),t}function r2(n,e){if(cV(e))return zI(n);{let t=n.indexOf(`:${e}${Ga}`)+2+e.toString().length,i=n.search(new RegExp(`${Ga}\\/\\*\\d+:${e}${Ga}`));return zI(n.substring(t,i))}}function zC(n,e,t,i,r,s,o){let a=0,c={type:s.type,currentCaseLViewIndex:oc(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};c2(i,s,o),nV(e,o,c);let u=s.values,h=[];for(let f=0;f<u.length;f++){let g=u[f],_=[];for(let S=0;S<g.length;S++){let A=g[S];if(typeof A!="string"){let x=_.push(A)-1;g[S]=`<!--\uFFFD${x}\uFFFD-->`}}let v=[];h.push(v),a=o2(v,e,c,t,i,r,s.cases[f],g.join(""),_)|a}a&&l2(i,a,o),n.push({kind:3,index:o,cases:h,currentCaseLViewIndex:c.currentCaseLViewIndex})}function s2(n){let e=[],t=[],i=1,r=0;n=n.replace($C,function(o,a,c){return c==="select"?i=0:i=1,r=parseInt(a.slice(1),10),""});let s=Am(n);for(let o=0;o<s.length;){let a=s[o++].trim();i===1&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);let c=Am(s[o++]);e.length>t.length&&t.push(c)}return{type:i,mainBinding:r,cases:e,values:t}}function Am(n){if(!n)return[];let e=0,t=[],i=[],r=/[{}]/g;r.lastIndex=0;let s;for(;s=r.exec(n);){let a=s.index;if(s[0]=="}"){if(t.pop(),t.length==0){let c=n.substring(e,a);$C.test(c)?i.push(s2(c)):i.push(c),e=a+1}}else{if(t.length==0){let c=n.substring(e,a);i.push(c),e=a+1}t.push("{")}}let o=n.substring(e);return i.push(o),i}function o2(n,e,t,i,r,s,o,a,c){let u=[],h=[],f=[];t.cases.push(o),t.create.push(u),t.remove.push(h),t.update.push(f);let _=kk(_T()).getInertBodyElement(a),v=qk(_)||_;return v?qC(n,e,t,i,r,u,h,f,v,s,c,0):0}function qC(n,e,t,i,r,s,o,a,c,u,h,f){let g=0,_=c.firstChild;for(;_;){let v=oc(e,i,1,null);switch(_.nodeType){case Node.ELEMENT_NODE:let S=_,A=S.tagName.toLowerCase();if($k.hasOwnProperty(A)){Tg(s,FC,A,u,v),e.data[v]=A;let W=S.attributes;for(let q=0;q<W.length;q++){let I=W.item(q),y=I.name.toLowerCase();!!I.value.match(_d)?zk.hasOwnProperty(y)&&(ET[y]?Hu(a,I.value,v,I.name,0,o_):Hu(a,I.value,v,I.name,0,null)):u2(s,v,I)}let ge={kind:1,index:v,children:[]};n.push(ge),g=qC(ge.children,e,t,i,r,s,o,a,_,v,h,f+1)|g,qI(o,v,f)}break;case Node.TEXT_NODE:let x=_.textContent||"",V=x.match(_d);Tg(s,null,V?"":x,u,v),qI(o,v,f),V&&(g=Hu(a,x,v,null,0,null)|g),n.push({kind:0,index:v});break;case Node.COMMENT_NODE:let L=YL.exec(_.textContent||"");if(L){let W=parseInt(L[1],10),ge=h[W];Tg(s,VC,"",u,v),zC(n,e,i,r,u,ge,v),a2(o,v,f)}break}_=_.nextSibling}return g}function qI(n,e,t){t===0&&n.push(e)}function a2(n,e,t){t===0&&(n.push(~e),n.push(e))}function c2(n,e,t){n.push(GC(e.mainBinding),2,-1-e.mainBinding,t<<2|2)}function l2(n,e,t){n.push(e,1,t<<2|3)}function Tg(n,e,t,i,r){e!==null&&n.push(e),n.push(t,r,aV(0,i,r))}function u2(n,e,t){n.push(e<<1|1,t.name,t.value)}function d2(n,e,t=-1){let i=Ve(),r=se(),s=qe+n,o=ni(i.consts,e),a=Qa();if(i.firstCreatePass&&n2(i,a===null?0:a.index,r,s,o,t),i.type===2){let g=r[Lt];g[X]|=32}else r[X]|=32;let c=i.data[s],u=a===r[Pt]?null:a,h=MT(i,u,r),f=a&&a.type&8?r[a.index]:null;dV(r,s,a,t),KL(r,c.create,h,f),UD(!0)}function h2(){UD(!1)}function WC(n,e,t){d2(n,e,t),h2()}function S_(n){let e=se();return zL(Bt(e,Zi(),n)),S_}function KC(n){qL(Ve(),se(),n+qe)}var f2=(n,e,t)=>{};function Xe(n,e,t,i){let r=se(),s=Ve(),o=Et();return QC(s,r,r[Ce],o,n,e,i),Xe}function p2(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Ju],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function QC(n,e,t,i,r,s,o){let a=Sd(i),u=n.firstCreatePass&&JT(n),h=e[vt],f=QT(e),g=!0;if(i.type&3||o){let S=en(i,e),A=o?o(S):S,x=f.length,V=o?W=>o(Xt(W[i.index])):i.index,L=null;if(!o&&a&&(L=p2(n,e,r,i.index)),L!==null){let W=L.__ngLastListenerFn__||L;W.__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,g=!1}else{s=KI(i,e,h,s),f2(S,r,s);let W=t.listen(A,r,s);f.push(s,W),u&&u.push(r,V,x,x+1)}}else s=KI(i,e,h,s);let _=i.outputs,v;if(g&&_!==null&&(v=_[r])){let S=v.length;if(S)for(let A=0;A<S;A+=2){let x=v[A],V=v[A+1],ge=e[x][V].subscribe(s),q=f.length;f.push(s,ge),u&&u.push(r,i.index,q,-(q+1))}}}function WI(n,e,t,i){let r=me(null);try{return bn(6,e,t),t(i)!==!1}catch(s){return YT(n,s),!1}finally{bn(7,e,t),me(r)}}function KI(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?Yi(n.index,e):e;E_(o,5);let a=WI(e,t,i,s),c=r.__ngNextListenerFn__;for(;c;)a=WI(e,t,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function We(n=1){return JP(n)}function g2(n,e){let t=null,i=aP(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?fD(n,s,!0):uP(i,s))return r}return t}function Gd(n){let e=se()[Lt][Pt];if(!e.projection){let t=n?n.length:1,i=e.projection=YO(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?g2(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function zd(n,e=0,t,i,r,s){let o=se(),a=Ve(),c=i?n+1:null;c!==null&&hd(o,a,c,i,r,s,null,t);let u=ho(a,qe+n,16,null,t||null);u.projection===null&&(u.projection=e),Wm();let f=!o[Xs]||LD();o[Lt][Pt].projection[u.projection]===null&&c!==null?m2(o,a,c):f&&(u.flags&32)!==32&&cF(a,o,u)}function m2(n,e,t){let i=qe+t,r=e.data[i],s=n[i],o=io(s,r.tView.ssrId),a=ac(n,r,void 0,{dehydratedView:o});cc(s,a,0,no(r,o))}function pc(n,e,t,i){jV(n,e,t,i)}function JC(n,e,t){BV(n,e,t)}function yo(n){let e=se(),t=Ve(),i=$D();Qm(i+1);let r=D_(t,i);if(n.dirty&&OP(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=HV(e,i);n.reset(s,Ik),n.notifyOnChanges()}return!0}return!1}function vo(){return LV(se(),$D())}function _2(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function qd(n){let e=$P();return xD(e,qe+n)}function pe(n,e=""){let t=se(),i=Ve(),r=n+qe,s=i.firstCreatePass?ho(i,r,1,e,null):i.data[r],o=y2(i,t,s,e,n);t[r]=o,nc()&&kd(i,t,o,s),Cn(s,!1)}var y2=(n,e,t,i,r)=>(ic(!0),DT(e[Ce],i));function gc(n){return fi("",n,""),gc}function fi(n,e,t){let i=se(),r=uL(i,n,e,t);return r!==Ht&&ZT(i,ui(),r),fi}function mc(n,e,t,i,r,s,o){let a=se(),c=hL(a,n,e,t,i,r,s,o);return c!==Ht&&ZT(a,ui(),c),mc}function Wd(n,e,t){vC(e)&&(e=e());let i=se(),r=Zi();if(Bt(i,r,e)){let s=Ve(),o=xd();Ld(s,o,i,n,e,i[Ce],t,!1)}return Wd}function A_(n,e){let t=vC(n);return t&&n.set(e),t}function Kd(n,e){let t=se(),i=Ve(),r=Et();return QC(i,t,t[Ce],r,n,e),Kd}function v2(n,e,t){let i=Ve();if(i.firstCreatePass){let r=Qi(n);Rm(t,i.data,i.blueprint,r,!0),Rm(e,i.data,i.blueprint,r,!1)}}function Rm(n,e,t,i,r){if(n=lt(n),Array.isArray(n))for(let s=0;s<n.length;s++)Rm(n[s],e,t,i,r);else{let s=Ve(),o=se(),a=Et(),c=Zs(n)?n:lt(n.provide),u=ID(n),h=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(Zs(n)||!n.multi){let _=new Hr(u,r,re),v=Sg(c,e,r?h:h+g,f);v===-1?($g(nd(a,o),s,c),Cg(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(_),o.push(_)):(t[v]=_,o[v]=_)}else{let _=Sg(c,e,h+g,f),v=Sg(c,e,h,h+g),S=_>=0&&t[_],A=v>=0&&t[v];if(r&&!A||!r&&!S){$g(nd(a,o),s,c);let x=E2(r?b2:w2,t.length,r,i,u);!r&&A&&(t[v].providerFactory=x),Cg(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(x),o.push(x)}else{let x=YC(t[r?v:_],u,!r&&i);Cg(s,n,_>-1?_:v,x)}!r&&i&&A&&t[v].componentProviders++}}}function Cg(n,e,t,i){let r=Zs(e),s=bP(e);if(r||s){let c=(s?lt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[i,c]):u[h+1].push(i,c)}else u.push(t,c)}}}function YC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Sg(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function w2(n,e,t,i){return Mm(this.multi,[])}function b2(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Gr(t,t[ie],this.providerFactory.index,i);s=a.slice(0,o),Mm(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Mm(r,s);return s}function Mm(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function E2(n,e,t,i,r){let s=new Hr(n,t,re);return s.multi=[],s.index=e,s.componentProviders=0,YC(s,r,i&&!t),s}function pi(n,e=[]){return t=>{t.providersResolver=(i,r)=>v2(i,r?r(n):n,e)}}var I2=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=wD(!1,t.type),r=i.length>0?C_([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(ee(ut))})}}return n})();function gi(n){nr("NgStandalone"),n.getStandaloneInjector=e=>e.get(I2).getOrCreateStandaloneInjector(n)}function D2(n,e){let t=n[e];return t===Ht?void 0:t}function T2(n,e,t,i,r,s){let o=e+t;return Bt(n,o,r)?tL(n,o+1,s?i.call(s,r):i(r)):D2(n,o+1)}function ZC(n,e){let t=Ve(),i,r=n+qe;t.firstCreatePass?(i=C2(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=Lr(i.type,!0)),o,a=Vt(re);try{let c=td(!1),u=s();return td(c),_2(t,se(),r,u),u}finally{Vt(a)}}function C2(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function XC(n,e,t){let i=n+qe,r=se(),s=xD(r,i);return S2(r,i)?T2(r,HP(),e,s.transform,t,s):s.transform(t)}function S2(n,e){return n[ie].data[e].pure}function Qd(n,e){return jd(n,e)}var si=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},e1=new si("18.2.11");var Jd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var t1=new H("");function Jr(n){return!!n&&typeof n.then=="function"}function n1(n){return!!n&&typeof n.subscribe=="function"}var i1=new H(""),r1=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=N(i1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let s=r();if(Jr(s))t.push(s);else if(n1(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Yd=new H("");function A2(){FE(()=>{throw new z(600,!1)})}function R2(n){return n.isBoundToModule}var M2=10;function N2(n,e,t){try{let i=t();return Jr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var Mn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(bk),this.afterRenderManager=N(IC),this.zonelessEnabled=N(I_),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new xe,this.afterTick=new xe,this.componentTypes=[],this.components=[],this.isStable=N(hi).hasPendingTasks.pipe(Y(t=>!t)),this._injector=N(ut)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof ad;if(!this._injector.get(r1).done){let g=!r&&mD(t),_=!1;throw new z(405,_)}let o;r?o=t:o=this._injector.get(so).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=R2(o)?void 0:this._injector.get(Ji),c=i||o.selector,u=o.create(Be.NULL,[],c,a),h=u.location.nativeElement,f=u.injector.get(t1,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Gu(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let t=me(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,me(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(oo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<M2;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)x2(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Rd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Gu(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Yd,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Gu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Gu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function x2(n,e,t,i){if(!t&&!Rd(n))return;iC(n,e,t&&!i?0:1)}var Nm=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},R_=(()=>{class n{compileModuleSync(t){return new mm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=_D(t),s=IT(r.declarations).reduce((o,a)=>{let c=Ki(a);return c&&o.push(new ao(c)),o},[]);return new Nm(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var O2=(()=>{class n{constructor(){this.zone=N(be),this.changeDetectionScheduler=N(ro),this.applicationRef=N(Mn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function P2({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new be(ue(F({},k2()),{scheduleInRootZone:t})),[{provide:be,useFactory:n},{provide:Ys,multi:!0,useFactory:()=>{let i=N(O2,{optional:!0});return()=>i.initialize()}},{provide:Ys,multi:!0,useFactory:()=>{let i=N(F2);return()=>{i.initialize()}}},e===!0?{provide:hC,useValue:!0}:[],{provide:fC,useValue:t??cT}]}function k2(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var F2=(()=>{class n{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=N(be),this.pendingTasks=N(hi)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var V2=(()=>{class n{constructor(){this.appRef=N(Mn),this.taskService=N(hi),this.ngZone=N(be),this.zonelessEnabled=N(I_),this.disableScheduling=N(hC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new $e,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(rd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(fC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Wg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?SI:lT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(rd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,SI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function L2(){return typeof $localize<"u"&&$localize.locale||md}var _c=new H("",{providedIn:"root",factory:()=>N(_c,he.Optional|he.SkipSelf)||L2()});var xm=new H("");function Vu(n){return!n.moduleRef}function B2(n){let e=Vu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(be);return t.run(()=>{Vu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(ii,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),Vu(n)){let s=()=>e.destroy(),o=n.platformInjector.get(xm);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(xm);o.add(s),n.moduleRef.onDestroy(()=>{Gu(n.allPlatformModules,n.moduleRef),r.unsubscribe(),o.delete(s)})}return N2(i,t,()=>{let s=e.get(r1);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(_c,md);if(HL(o||md),Vu(n)){let a=e.get(Mn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return j2(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function j2(n,e){let t=n.injector.get(Mn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new z(-403,!1);e.push(n)}var zu=null;function U2(n=[],e){return Be.create({name:e,providers:[{provide:Id,useValue:"platform"},{provide:xm,useValue:new Set([()=>zu=null])},...n]})}function $2(n=[]){if(zu)return zu;let e=U2(n);return zu=e,A2(),H2(e),e}function H2(n){n.get(n_,null)?.forEach(t=>t())}var Nn=(()=>{class n{static{this.__NG_ELEMENT_ID__=G2}}return n})();function G2(n){return z2(Et(),se(),(n&16)===16)}function z2(n,e,t){if(Cd(n)&&!t){let i=Yi(n.index,e);return new qr(i,i)}else if(n.type&175){let i=e[Lt];return new qr(i,e)}return null}var Om=class{constructor(){}supports(e){return bC(e)}create(e){return new Pm(e)}},q2=(n,e)=>e,Pm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||q2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<QI(i,r,s)?t:i,a=QI(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,h=c-r;if(u!=h){for(let g=0;g<u;g++){let _=g<s.length?s[g]:s[g]=0,v=_+g;h<=v&&v<u&&(s[g]=_+1)}let f=o.previousIndex;s[f]=h-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!bC(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,XV(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new km(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new yd),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},km=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Fm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},yd=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Fm,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function QI(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function JI(){return new M_([new Om])}var M_=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:JI})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||JI()),deps:[[n,new aD,new Ot]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new z(901,!1)}}return n})();function s1(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=$2(i),s=[P2({}),{provide:ro,useExisting:V2},...t||[]],o=new dd({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return B2({r3Injector:o.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function Zd(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function wo(n,e){nr("NgSignals");let t=OE(n);return e?.equal&&(t[Qn].equal=e.equal),t}function xn(n){let e=me(null);try{return n()}finally{me(e)}}function Xd(n,e){let t=Ki(n),i=e.elementInjector||Dd();return new ao(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var h1=null;function _i(){return h1}function f1(n){h1??=n}var eh=class{};var rt=new H(""),p1=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>N(Q2),providedIn:"platform"})}}return n})();var Q2=(()=>{class n extends p1{constructor(){super(),this._doc=N(rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _i().getBaseHref(this._doc)}onPopState(t){let i=_i().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=_i().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function g1(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function o1(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function Yr(n){return n&&n[0]!=="?"?"?"+n:n}var nh=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>N(m1),providedIn:"root"})}}return n})(),J2=new H(""),m1=(()=>{class n extends nh{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g1(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Yr(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Yr(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Yr(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(ee(p1),ee(J2,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var vc=(()=>{class n{constructor(t){this._subject=new ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=X2(o1(a1(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Yr(i))}normalize(t){return n.stripTrailingSlash(Z2(this._basePath,a1(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yr(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Yr}static{this.joinWithSlash=g1}static{this.stripTrailingSlash=o1}static{this.\u0275fac=function(i){return new(i||n)(ee(nh))}}static{this.\u0275prov=$({token:n,factory:()=>Y2(),providedIn:"root"})}}return n})();function Y2(){return new vc(ee(nh))}function Z2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function a1(n){return n.replace(/\/index.html$/,"")}function X2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var _1=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(_1||{});var On={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function bo(n,e){let t=Hd(n),i=t[Qr.NumberSymbols][e];if(typeof i>"u"){if(e===On.CurrencyDecimal)return t[Qr.NumberSymbols][On.Decimal];if(e===On.CurrencyGroup)return t[Qr.NumberSymbols][On.Group]}return i}function eB(n,e){return Hd(n)[Qr.NumberFormats][e]}var tB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,c1=22,th=".",yc="0",nB=";",iB=",",N_="#";var rB="%";function sB(n,e,t,i,r,s,o=!1){let a="",c=!1;if(!isFinite(n))a=bo(t,On.Infinity);else{let u=lB(n);o&&(u=cB(u));let h=e.minInt,f=e.minFrac,g=e.maxFrac;if(s){let V=s.match(tB);if(V===null)throw new Error(`${s} is not a valid digit info`);let L=V[1],W=V[3],ge=V[5];L!=null&&(h=x_(L)),W!=null&&(f=x_(W)),ge!=null?g=x_(ge):W!=null&&f>g&&(g=f)}uB(u,f,g);let _=u.digits,v=u.integerLen,S=u.exponent,A=[];for(c=_.every(V=>!V);v<h;v++)_.unshift(0);for(;v<0;v++)_.unshift(0);v>0?A=_.splice(v,_.length):(A=_,_=[0]);let x=[];for(_.length>=e.lgSize&&x.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)x.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&x.unshift(_.join("")),a=x.join(bo(t,i)),A.length&&(a+=bo(t,r)+A.join("")),S&&(a+=bo(t,On.Exponential)+"+"+S)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function oB(n,e,t){let i=eB(e,_1.Percent),r=aB(i,bo(e,On.MinusSign));return sB(n,r,e,On.Group,On.Decimal,t,!0).replace(new RegExp(rB,"g"),bo(e,On.PercentSign))}function aB(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(nB),r=i[0],s=i[1],o=r.indexOf(th)!==-1?r.split(th):[r.substring(0,r.lastIndexOf(yc)+1),r.substring(r.lastIndexOf(yc)+1)],a=o[0],c=o[1]||"";t.posPre=a.substring(0,a.indexOf(N_));for(let h=0;h<c.length;h++){let f=c.charAt(h);f===yc?t.minFrac=t.maxFrac=h+1:f===N_?t.maxFrac=h+1:t.posSuf+=f}let u=a.split(iB);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let h=r.length-t.posPre.length-t.posSuf.length,f=s.indexOf(N_);t.negPre=s.substring(0,f).replace(/'/g,""),t.negSuf=s.slice(f+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function cB(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function lB(n){let e=Math.abs(n)+"",t=0,i,r,s,o,a;for((r=e.indexOf(th))>-1&&(e=e.replace(th,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===yc;s++);if(s===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===yc;)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(e.charAt(s))}return r>c1&&(i=i.splice(0,c1-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function uB(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen,s=Math.min(Math.max(e,r),t),o=s+n.integerLen,a=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let f=o;f<i.length;f++)i[f]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let f=1;f<o;f++)i[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let c=s!==0,u=e+n.integerLen,h=i.reduceRight(function(f,g,_,v){return g=g+f,v[_]=g<10?g:g-10,c&&(v[_]===0&&_>=u?v.pop():c=!1),g>=10?1:0},0);h&&(i.unshift(h),n.integerLen++)}function x_(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function ih(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var O_=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},y1=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new O_(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),l1(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);l1(s,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(re(Rn),re(An),re(M_))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function l1(n,e){n.context.$implicit=e.item}var v1=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new P_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){u1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){u1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(re(Rn),re(An))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),P_=class{constructor(){this.$implicit=null,this.ngIf=null}};function u1(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${xt(e)}'.`)}function dB(n,e){return new z(2100,!1)}var w1=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!hB(t))return null;r||=this._locale;try{let s=fB(t);return oB(s,r,i)}catch(s){throw dB(n,s.message)}}static{this.\u0275fac=function(i){return new(i||n)(re(_c,16))}}static{this.\u0275pipe=pD({name:"percent",type:n,pure:!0,standalone:!0})}}return n})();function hB(n){return!(n==null||n===""||n!==n)}function fB(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var k_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=$t({type:n})}static{this.\u0275inj=Ut({})}}return n})(),b1="browser",pB="server";function rh(n){return n===pB}var Eo=class{};var bc=class{},oh=class{},yi=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var V_=class{encodeKey(e){return I1(e)}encodeValue(e){return I1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function gB(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}var mB=/%(\d[a-f0-9])/gi,_B={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function I1(n){return encodeURIComponent(n).replace(mB,(e,t)=>_B[t]??e)}function sh(n){return`${n}`}var sr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new V_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=gB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(sh):[sh(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(sh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(sh(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var L_=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function yB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function D1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function T1(n){return typeof Blob<"u"&&n instanceof Blob}function C1(n){return typeof FormData<"u"&&n instanceof FormData}function vB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var wc=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(yB(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new yi,this.context??=new L_,!this.params)this.params=new sr,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||D1(this.body)||T1(this.body)||C1(this.body)||vB(this.body)?this.body:this.body instanceof sr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||C1(this.body)?null:T1(this.body)?this.body.type||null:D1(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof sr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,_)=>g.set(_,e.setHeaders[_]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,_)=>g.set(_,e.setParams[_]),h)),new n(t,i,o,{params:h,headers:u,context:f,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},or=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(or||{}),Ec=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new yi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ah=class n extends Ec{constructor(e={}){super(e),this.type=or.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ic=class n extends Ec{constructor(e={}){super(e),this.type=or.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rr=class extends Ec{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},N1=200,wB=204;function F_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Dc=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof wc)s=t;else{let c;r.headers instanceof yi?c=r.headers:c=new yi(r.headers);let u;r.params&&(r.params instanceof sr?u=r.params:u=new sr({fromObject:r.params})),s=new wc(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=Z(s).pipe($i(c=>this.handler.handle(c)));if(t instanceof wc||r.observe==="events")return o;let a=o.pipe(Ze(c=>c instanceof Ic));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Y(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Y(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Y(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Y(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new sr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,F_(r,i))}post(t,i,r={}){return this.request("POST",t,F_(r,i))}put(t,i,r={}){return this.request("PUT",t,F_(r,i))}static{this.\u0275fac=function(i){return new(i||n)(ee(bc))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),bB=/^\)\]\}',?\n/,EB="X-Request-URL";function S1(n){if(n.url)return n.url;let e=EB.toLocaleLowerCase();return n.headers.get(e)}var IB=(()=>{class n{constructor(){this.fetchImpl=N(B_,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=N(be)}handle(t){return new J(i=>{let r=new AbortController;return this.doRequest(t,r.signal,i).then(j_,s=>i.error(new rr({error:s}))),()=>r.abort()})}doRequest(t,i,r){return E(this,null,function*(){let s=this.createRequestInit(t),o;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,F({signal:i},s)));DB(_),r.next({type:or.Sent}),o=yield _}catch(_){r.error(new rr({error:_,status:_.status??0,statusText:_.statusText,url:t.urlWithParams,headers:_.headers}));return}let a=new yi(o.headers),c=o.statusText,u=S1(o)??t.urlWithParams,h=o.status,f=null;if(t.reportProgress&&r.next(new ah({headers:a,status:h,statusText:c,url:u})),o.body){let _=o.headers.get("content-length"),v=[],S=o.body.getReader(),A=0,x,V,L=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:ge,value:q}=yield S.read();if(ge)break;if(v.push(q),A+=q.length,t.reportProgress){V=t.responseType==="text"?(V??"")+(x??=new TextDecoder).decode(q,{stream:!0}):void 0;let I=()=>r.next({type:or.DownloadProgress,total:_?+_:void 0,loaded:A,partialText:V});L?L.run(I):I()}}}));let W=this.concatChunks(v,A);try{let ge=o.headers.get("Content-Type")??"";f=this.parseBody(t,W,ge)}catch(ge){r.error(new rr({error:ge,headers:new yi(o.headers),status:o.status,statusText:o.statusText,url:S1(o)??t.urlWithParams}));return}}h===0&&(h=f?N1:0),h>=200&&h<300?(r.next(new Ic({body:f,headers:a,status:h,statusText:c,url:u})),r.complete()):r.error(new rr({error:f,headers:a,status:h,statusText:c,url:u}))})}parseBody(t,i,r){switch(t.responseType){case"json":let s=new TextDecoder().decode(i).replace(bB,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>i[s]=o.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r}}concatChunks(t,i){let r=new Uint8Array(i),s=0;for(let o of t)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),B_=class{};function j_(){}function DB(n){n.then(j_,j_)}function x1(n,e){return e(n)}function TB(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}function CB(n,e,t){return(i,r)=>pn(t,()=>e(i,s=>n(s,r)))}var SB=new H(""),U_=new H(""),AB=new H(""),O1=new H("",{providedIn:"root",factory:()=>!0});function RB(){let n=null;return(e,t)=>{n===null&&(n=(N(SB,{optional:!0})??[]).reduceRight(TB,x1));let i=N(hi);if(N(O1)){let s=i.add();return n(e,t).pipe(Yn(()=>i.remove(s)))}else return n(e,t)}}var A1=(()=>{class n extends bc{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=N(hi),this.contributeToStability=N(O1)}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(U_),...this.injector.get(AB,[])]));this.chain=i.reduceRight((r,s)=>CB(r,s,this.injector),x1)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Yn(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(ee(oh),ee(ut))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();var MB=/^\)\]\}',?\n/;function NB(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var R1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new z(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Oe(i.\u0275loadImpl()):Z(null)).pipe(Mt(()=>new J(s=>{let o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((S,A)=>o.setRequestHeader(S,A.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let S=t.detectContentTypeHeader();S!==null&&o.setRequestHeader("Content-Type",S)}if(t.responseType){let S=t.responseType.toLowerCase();o.responseType=S!=="json"?S:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let S=o.statusText||"OK",A=new yi(o.getAllResponseHeaders()),x=NB(o)||t.url;return c=new ah({headers:A,status:o.status,statusText:S,url:x}),c},h=()=>{let{headers:S,status:A,statusText:x,url:V}=u(),L=null;A!==wB&&(L=typeof o.response>"u"?o.responseText:o.response),A===0&&(A=L?N1:0);let W=A>=200&&A<300;if(t.responseType==="json"&&typeof L=="string"){let ge=L;L=L.replace(MB,"");try{L=L!==""?JSON.parse(L):null}catch(q){L=ge,W&&(W=!1,L={error:q,text:L})}}W?(s.next(new Ic({body:L,headers:S,status:A,statusText:x,url:V||void 0})),s.complete()):s.error(new rr({error:L,headers:S,status:A,statusText:x,url:V||void 0}))},f=S=>{let{url:A}=u(),x=new rr({error:S,status:o.status||0,statusText:o.statusText||"Unknown Error",url:A||void 0});s.error(x)},g=!1,_=S=>{g||(s.next(u()),g=!0);let A={type:or.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(A.total=S.total),t.responseType==="text"&&o.responseText&&(A.partialText=o.responseText),s.next(A)},v=S=>{let A={type:or.UploadProgress,loaded:S.loaded};S.lengthComputable&&(A.total=S.total),s.next(A)};return o.addEventListener("load",h),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",_),a!==null&&o.upload&&o.upload.addEventListener("progress",v)),o.send(a),s.next({type:or.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",h),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",_),a!==null&&o.upload&&o.upload.removeEventListener("progress",v)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(ee(Eo))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),P1=new H(""),xB="XSRF-TOKEN",OB=new H("",{providedIn:"root",factory:()=>xB}),PB="X-XSRF-TOKEN",kB=new H("",{providedIn:"root",factory:()=>PB}),ch=class{},FB=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ih(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(ee(rt),ee(rn),ee(OB))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function VB(n,e){let t=n.url.toLowerCase();if(!N(P1)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=N(ch).getToken(),r=N(kB);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var k1=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(k1||{});function LB(n,e){return{\u0275kind:n,\u0275providers:e}}function $_(...n){let e=[Dc,R1,A1,{provide:bc,useExisting:A1},{provide:oh,useFactory:()=>N(IB,{optional:!0})??N(R1)},{provide:U_,useValue:VB,multi:!0},{provide:P1,useValue:!0},{provide:ch,useClass:FB}];for(let t of n)e.push(...t.\u0275providers);return fn(e)}var M1=new H("");function BB(){return LB(k1.LegacyInterceptors,[{provide:M1,useFactory:RB},{provide:U_,useExisting:M1,multi:!0}])}var F1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=$t({type:n})}static{this.\u0275inj=Ut({providers:[$_(BB())]})}}return n})();var z_=class extends eh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},q_=class n extends z_{static makeCurrent(){f1(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=jB();return t==null?null:UB(t)}resetBaseElement(){Tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ih(document.cookie,e)}},Tc=null;function jB(){return Tc=Tc||document.querySelector("base"),Tc?Tc.getAttribute("href"):null}function UB(n){return new URL(n,document.baseURI).pathname}var $B=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),W_=new H(""),U1=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(ee(W_),ee(be))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),lh=class{constructor(e){this._doc=e}},H_="ng-app-id",$1=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rh(s),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${H_}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(H_),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(H_,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(ee(rt),ee(t_),ee(i_,8),ee(rn))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),G_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Q_=/%COMP%/g,H1="%COMP%",HB=`_nghost-${H1}`,GB=`_ngcontent-${H1}`,zB=!0,qB=new H("",{providedIn:"root",factory:()=>zB});function WB(n){return GB.replace(Q_,n)}function KB(n){return HB.replace(Q_,n)}function G1(n,e){return e.map(t=>t.replace(Q_,n))}var L1=(()=>{class n{constructor(t,i,r,s,o,a,c,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=rh(a),this.defaultRenderer=new Cc(t,o,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dn.ShadowDom&&(i=ue(F({},i),{encapsulation:Dn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof uh?r.applyToHost(t):r instanceof Sc&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Dn.Emulated:s=new uh(c,u,i,this.appId,h,o,a,f);break;case Dn.ShadowDom:return new K_(c,u,t,i,o,a,this.nonce,f);default:s=new Sc(c,u,i,h,o,a,f);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(ee(U1),ee($1),ee(t_),ee(qB),ee(rt),ee(rn),ee(be),ee(i_))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Cc=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(G_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(B1(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(B1(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new z(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=G_[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=G_[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ri.DashCase|ri.Important)?e.style.setProperty(t,i,r&ri.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ri.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=_i().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function B1(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var K_=class extends Cc{constructor(e,t,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=G1(r.id,r.styles);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sc=class extends Cc{constructor(e,t,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?G1(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},uh=class extends Sc{constructor(e,t,i,r,s,o,a,c){let u=r+"-"+i.id;super(e,t,i,s,o,a,c,u),this.contentAttr=WB(u),this.hostAttr=KB(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},QB=(()=>{class n extends lh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(ee(rt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),j1=["alt","control","meta","shift"],JB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},ZB=(()=>{class n extends lh{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_i().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),j1.forEach(u=>{let h=i.indexOf(u);h>-1&&(i.splice(h,1),o+=u+".")}),o+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(t,i){let r=JB[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),j1.forEach(o=>{if(o!==r){let a=YB[o];a(t)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(ee(rt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function z1(n,e){return s1(F({rootComponent:n},XB(e)))}function XB(n){return{appProviders:[...rj,...n?.providers??[]],platformProviders:ij}}function ej(){q_.makeCurrent()}function tj(){return new ii}function nj(){return mT(document),document}var ij=[{provide:rn,useValue:b1},{provide:n_,useValue:ej,multi:!0},{provide:rt,useFactory:nj,deps:[]}];var rj=[{provide:Id,useValue:"root"},{provide:ii,useFactory:tj,deps:[]},{provide:W_,useClass:QB,multi:!0,deps:[rt,be,rn]},{provide:W_,useClass:ZB,multi:!0,deps:[rt]},L1,$1,U1,{provide:oo,useExisting:L1},{provide:Eo,useClass:$B,deps:[]},[]];var q1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(ee(rt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var de="primary",Gc=Symbol("RouteTitle"),ey=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ao(n){return new ey(n)}function oj(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function aj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pn(n[t],e[t]))return!1;return!0}function Pn(n,e){let t=n?ty(n):void 0,i=e?ty(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!eS(n[r],e[r]))return!1;return!0}function ty(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function eS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function tS(n){return n.length>0?n[n.length-1]:null}function ar(n){return rg(n)?n:Jr(n)?Oe(Promise.resolve(n)):Z(n)}var cj={exact:iS,subset:rS},nS={exact:lj,subset:uj,ignored:()=>!0};function W1(n,e,t){return cj[t.paths](n.root,e.root,t.matrixParams)&&nS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function lj(n,e){return Pn(n,e)}function iS(n,e,t){if(!Xr(n.segments,e.segments)||!fh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!iS(n.children[i],e.children[i],t))return!1;return!0}function uj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>eS(n[t],e[t]))}function rS(n,e,t){return sS(n,e,e.segments,t)}function sS(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Xr(r,t)||e.hasChildren()||!fh(r,t,i))}else if(n.segments.length===t.length){if(!Xr(n.segments,t)||!fh(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!rS(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Xr(n.segments,r)||!fh(n.segments,r,i)||!n.children[de]?!1:sS(n.children[de],e,s,i)}}function fh(n,e,t){return e.every((i,r)=>nS[t](n[r].parameters,i.parameters))}var wi=class{constructor(e=new Se([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){return fj.serialize(this)}},Se=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ph(this)}},Zr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ao(this.parameters),this._parameterMap}toString(){return aS(this)}};function dj(n,e){return Xr(n,e)&&n.every((t,i)=>Pn(t.parameters,e[i].parameters))}function Xr(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function hj(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===de&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==de&&(t=t.concat(e(r,i)))}),t}var Sy=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>new Pc,providedIn:"root"})}}return n})(),Pc=class{parse(e){let t=new iy(e);return new wi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ac(e.root,!0)}`,i=mj(e.queryParams),r=typeof e.fragment=="string"?`#${pj(e.fragment)}`:"";return`${t}${i}${r}`}},fj=new Pc;function ph(n){return n.segments.map(e=>aS(e)).join("/")}function Ac(n,e){if(!n.hasChildren())return ph(n);if(e){let t=n.children[de]?Ac(n.children[de],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==de&&i.push(`${r}:${Ac(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=hj(n,(i,r)=>r===de?[Ac(n.children[de],!1)]:[`${r}:${Ac(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[de]!=null?`${ph(n)}/${t[0]}`:`${ph(n)}/(${t.join("//")})`}}function oS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dh(n){return oS(n).replace(/%3B/gi,";")}function pj(n){return encodeURI(n)}function ny(n){return oS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gh(n){return decodeURIComponent(n)}function K1(n){return gh(n.replace(/\+/g,"%20"))}function aS(n){return`${ny(n.path)}${gj(n.parameters)}`}function gj(n){return Object.entries(n).map(([e,t])=>`;${ny(e)}=${ny(t)}`).join("")}function mj(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${dh(t)}=${dh(r)}`).join("&"):`${dh(t)}=${dh(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _j=/^[^\/()?;#]+/;function J_(n){let e=n.match(_j);return e?e[0]:""}var yj=/^[^\/()?;=#]+/;function vj(n){let e=n.match(yj);return e?e[0]:""}var wj=/^[^=?&#]+/;function bj(n){let e=n.match(wj);return e?e[0]:""}var Ej=/^[^&#]+/;function Ij(n){let e=n.match(Ej);return e?e[0]:""}var iy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[de]=new Se(e,t)),i}parseSegment(){let e=J_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Zr(gh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=vj(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=J_(this.remaining);r&&(i=r,this.capture(i))}e[gh(t)]=gh(i)}parseQueryParam(e){let t=bj(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=Ij(this.remaining);o&&(i=o,this.capture(i))}let r=K1(t),s=K1(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=J_(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new z(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[de]:new Se([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function cS(n){return n.segments.length>0?new Se([],{[de]:n}):n}function lS(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=lS(r);if(i===de&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new Se(n.segments,e);return Dj(t)}function Dj(n){if(n.numberOfChildren===1&&n.children[de]){let e=n.children[de];return new Se(n.segments.concat(e.segments),e.children)}return n}function kc(n){return n instanceof wi}function Tj(n,e,t=null,i=null){let r=uS(n);return dS(r,e,t,i)}function uS(n){let e;function t(s){let o={};for(let c of s.children){let u=t(c);o[c.outlet]=u}let a=new Se(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=cS(i);return e??r}function dS(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Y_(r,r,r,t,i);let s=Cj(e);if(s.toRoot())return Y_(r,r,new Se([],{}),t,i);let o=Sj(s,r,n),a=o.processChildren?Nc(o.segmentGroup,o.index,s.commands):fS(o.segmentGroup,o.index,s.commands);return Y_(r,o.segmentGroup,a,t,i)}function mh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Fc(n){return typeof n=="object"&&n!=null&&n.outlets}function Y_(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let o;n===e?o=t:o=hS(n,e,t);let a=cS(lS(o));return new wi(a,s,r)}function hS(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=hS(s,e,t)}),new Se(n.segments,i)}var _h=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&mh(i[0]))throw new z(4003,!1);let r=i.find(Fc);if(r&&r!==tS(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Cj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new _h(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new _h(t,e,i)}var To=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function Sj(n,e,t){if(n.isAbsolute)return new To(e,!0,0);if(!t)return new To(e,!1,NaN);if(t.parent===null)return new To(t,!0,0);let i=mh(n.commands[0])?0:1,r=t.segments.length-1+i;return Aj(t,r,n.numberOfDoubleDots)}function Aj(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new To(i,!1,r-s)}function Rj(n){return Fc(n[0])?n[0].outlets:{[de]:n}}function fS(n,e,t){if(n??=new Se([],{}),n.segments.length===0&&n.hasChildren())return Nc(n,e,t);let i=Mj(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new Se(n.segments.slice(0,i.pathIndex),{});return s.children[de]=new Se(n.segments.slice(i.pathIndex),n.children),Nc(s,0,r)}else return i.match&&r.length===0?new Se(n.segments,{}):i.match&&!n.hasChildren()?ry(n,e,t):i.match?Nc(n,0,r):ry(n,e,t)}function Nc(n,e,t){if(t.length===0)return new Se(n.segments,{});{let i=Rj(t),r={};if(Object.keys(i).some(s=>s!==de)&&n.children[de]&&n.numberOfChildren===1&&n.children[de].segments.length===0){let s=Nc(n.children[de],e,t);return new Se(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=fS(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Se(n.segments,r)}}function Mj(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(Fc(a))break;let c=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!J1(c,u,o))return s;i+=2}else{if(!J1(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function ry(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(Fc(s)){let c=Nj(s.outlets);return new Se(i,c)}if(r===0&&mh(t[0])){let c=n.segments[e];i.push(new Zr(c.path,Q1(t[0]))),r++;continue}let o=Fc(s)?s.outlets[de]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&mh(a)?(i.push(new Zr(o,Q1(a))),r+=2):(i.push(new Zr(o,{})),r++)}return new Se(i,{})}function Nj(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=ry(new Se([],{}),0,i))}),e}function Q1(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function J1(n,e,t){return n==t.path&&Pn(e,t.parameters)}var xc="imperative",ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ft||{}),sn=class{constructor(e,t){this.id=e,this.url=t}},Vc=class extends sn{constructor(e,t,i="imperative",r=null){super(e,t),this.type=ft.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},es=class extends sn{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(qt||{}),sy=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(sy||{}),vi=class extends sn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ts=class extends sn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=ft.NavigationSkipped}},Lc=class extends sn{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yh=class extends sn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oy=class extends sn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ay=class extends sn{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cy=class extends sn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ly=class extends sn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uy=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dy=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hy=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fy=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},py=class{constructor(e){this.snapshot=e,this.type=ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gy=class{constructor(e){this.snapshot=e,this.type=ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Bc=class{},Ro=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function xj(n,e){return n.providers&&!n._injector&&(n._injector=C_(n.providers,e,`Route: ${n.path}`)),n._injector??e}function mn(n){return n.outlet||de}function Oj(n,e){let t=n.filter(i=>mn(i)===e);return t.push(...n.filter(i=>mn(i)!==e)),t}function zc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var my=class{get injector(){return zc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Th(this.rootInjector),this.attachRef=null}},Th=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new my(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(ee(ut))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=_y(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=_y(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=yy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return yy(e,this._root).map(t=>t.value)}};function _y(n,e){if(n===e.value)return e;for(let t of e.children){let i=_y(n,t);if(i)return i}return null}function yy(n,e){if(n===e.value)return[e];for(let t of e.children){let i=yy(n,t);if(i.length)return i.unshift(e),i}return[]}var zt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Do(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var wh=class extends vh{constructor(e,t){super(e),this.snapshot=t,Ay(this,e)}toString(){return this.snapshot.toString()}};function pS(n){let e=Pj(n),t=new tt([new Zr("",{})]),i=new tt({}),r=new tt({}),s=new tt({}),o=new tt(""),a=new Mo(t,i,s,o,r,de,n,e.root);return a.snapshot=e.root,new wh(new zt(a,[]),e)}function Pj(n){let e={},t={},i={},r="",s=new Co([],e,i,r,t,de,n,null,{});return new Eh("",new zt(s,[]))}var Mo=class{constructor(e,t,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(u=>u[Gc]))??Z(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>Ao(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>Ao(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bh(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),r?.data),n._resolvedData)}:i={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},r&&mS(r)&&(i.resolve[Gc]=r.title),i}var Co=class{get title(){return this.data?.[Gc]}constructor(e,t,i,r,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ao(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Eh=class extends vh{constructor(e,t){super(t),this.url=e,Ay(this,t)}toString(){return gS(this._root)}};function Ay(n,e){e.value._routerState=n,e.children.forEach(t=>Ay(n,t))}function gS(n){let e=n.children.length>0?` { ${n.children.map(gS).join(", ")} } `:"";return`${n.value}${e}`}function Z_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Pn(e.params,t.params)||n.paramsSubject.next(t.params),aj(e.url,t.url)||n.urlSubject.next(t.url),Pn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function vy(n,e){let t=Pn(n.params,e.params)&&dj(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||vy(n.parent,e.parent))}function mS(n){return typeof n.title=="string"||n.title===null}var kj=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new ye,this.deactivateEvents=new ye,this.attachEvents=new ye,this.detachEvents=new ye,this.parentContexts=N(Th),this.location=N(Rn),this.changeDetector=N(Nn),this.inputBinder=N(Ry,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new wy(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Re({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[li]})}}return n})(),wy=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Mo?this.route:e===Th?this.childContexts:this.parent.get(e,t)}},Ry=new H("");function Fj(n,e,t){let i=jc(n,e._root,t?t._root:void 0);return new wh(i,e)}function jc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=Vj(n,e,t);return new zt(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>jc(n,a)),o}}let i=Lj(e.value),r=e.children.map(s=>jc(n,s));return new zt(i,r)}}function Vj(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return jc(n,i,r);return jc(n,i)})}function Lj(n){return new Mo(new tt(n.url),new tt(n.params),new tt(n.queryParams),new tt(n.fragment),new tt(n.data),n.outlet,n.component,n)}var Uc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},_S="ngNavigationCancelingError";function Ih(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=kc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=yS(!1,qt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function yS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[_S]=!0,t.cancellationCode=e,t}function Bj(n){return vS(n)&&kc(n.url)}function vS(n){return!!n&&n[_S]}var jj=(n,e,t,i)=>Y(r=>(new by(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),by=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Z_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Do(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Do(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Do(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Do(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new gy(s.value.snapshot))}),e.children.length&&this.forwardEvent(new fy(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(Z_(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Z_(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},Dh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},So=class{constructor(e,t){this.component=e,this.route=t}};function Uj(n,e,t){let i=n._root,r=e?e._root:null;return Rc(i,r,t,[i.value])}function $j(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function xo(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!eD(n)?n:e.get(n):i}function Rc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Do(e);return n.children.forEach(o=>{Hj(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Oc(a,t.getContext(o),r)),r}function Hj(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Gj(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Dh(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Rc(n,e,a?a.children:null,i,r):Rc(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new So(a.outlet.component,o))}else o&&Oc(e,a,r),r.canActivateChecks.push(new Dh(i)),s.component?Rc(n,null,a?a.children:null,i,r):Rc(n,null,t,i,r);return r}function Gj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Xr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xr(n.url,e.url)||!Pn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vy(n,e)||!Pn(n.queryParams,e.queryParams);case"paramsChange":default:return!vy(n,e)}}function Oc(n,e,t){let i=Do(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Oc(o,e.children.getContext(s),t):Oc(o,null,t):Oc(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new So(e.outlet.component,r)):t.canDeactivateChecks.push(new So(null,r)):t.canDeactivateChecks.push(new So(null,r))}function qc(n){return typeof n=="function"}function zj(n){return typeof n=="boolean"}function qj(n){return n&&qc(n.canLoad)}function Wj(n){return n&&qc(n.canActivate)}function Kj(n){return n&&qc(n.canActivateChild)}function Qj(n){return n&&qc(n.canDeactivate)}function Jj(n){return n&&qc(n.canMatch)}function wS(n){return n instanceof Jn||n?.name==="EmptyError"}var hh=Symbol("INITIAL_VALUE");function No(){return Mt(n=>Pr(n.map(e=>e.pipe(Yt(1),Ba(hh)))).pipe(Y(e=>{for(let t of e)if(t!==!0){if(t===hh)return hh;if(t===!1||Yj(t))return t}return!0}),Ze(e=>e!==hh),Yt(1)))}function Yj(n){return kc(n)||n instanceof Uc}function Zj(n,e){return He(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?Z(ue(F({},t),{guardsResult:!0})):Xj(o,i,r,n).pipe(He(a=>a&&zj(a)?eU(i,s,n,e):Z(a)),Y(a=>ue(F({},t),{guardsResult:a})))})}function Xj(n,e,t,i){return Oe(n).pipe(He(r=>sU(r.component,r.route,t,e,i)),wn(r=>r!==!0,!0))}function eU(n,e,t,i){return Oe(e).pipe($i(r=>ji(nU(r.route.parent,i),tU(r.route,i),rU(n,r.path,t),iU(n,r.route,t))),wn(r=>r!==!0,!0))}function tU(n,e){return n!==null&&e&&e(new py(n)),Z(!0)}function nU(n,e){return n!==null&&e&&e(new hy(n)),Z(!0)}function iU(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Z(!0);let r=i.map(s=>Au(()=>{let o=zc(e)??t,a=xo(s,o),c=Wj(a)?a.canActivate(e,n):pn(o,()=>a(e,n));return ar(c).pipe(wn())}));return Z(r).pipe(No())}function rU(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>$j(o)).filter(o=>o!==null).map(o=>Au(()=>{let a=o.guards.map(c=>{let u=zc(o.node)??t,h=xo(c,u),f=Kj(h)?h.canActivateChild(i,n):pn(u,()=>h(i,n));return ar(f).pipe(wn())});return Z(a).pipe(No())}));return Z(s).pipe(No())}function sU(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(a=>{let c=zc(e)??r,u=xo(a,c),h=Qj(u)?u.canDeactivate(n,e,t,i):pn(c,()=>u(n,e,t,i));return ar(h).pipe(wn())});return Z(o).pipe(No())}function oU(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return Z(!0);let s=r.map(o=>{let a=xo(o,n),c=qj(a)?a.canLoad(e,t):pn(n,()=>a(e,t));return ar(c)});return Z(s).pipe(No(),bS(i))}function bS(n){return uu(Ge(e=>{if(typeof e!="boolean")throw Ih(n,e)}),Y(e=>e===!0))}function aU(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return Z(!0);let s=r.map(o=>{let a=xo(o,n),c=Jj(a)?a.canMatch(e,t):pn(n,()=>a(e,t));return ar(c)});return Z(s).pipe(No(),bS(i))}var $c=class{constructor(e){this.segmentGroup=e||null}},Hc=class extends Error{constructor(e){super(),this.urlTree=e}};function Io(n){return Hs(new $c(n))}function cU(n){return Hs(new z(4e3,!1))}function lU(n){return Hs(yS(!1,qt.GuardRejected))}var Ey=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Z(i);if(r.numberOfChildren>1||!r.children[de])return cU(`${e.redirectTo}`);r=r.children[de]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:h,url:f,outlet:g,params:_,data:v,title:S}=r,A=pn(s,()=>a({params:_,data:v,queryParams:c,fragment:u,routeConfig:h,url:f,outlet:g,title:S}));if(A instanceof wi)throw new Hc(A);t=A}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new Hc(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new wi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new Se(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Iy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uU(n,e,t,i,r){let s=ES(n,e,t);return s.matched?(i=xj(e,i),aU(i,e,t,r).pipe(Y(o=>o===!0?s:F({},Iy)))):Z(s)}function ES(n,e,t){if(e.path==="**")return dU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},Iy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||oj)(t,n,e);if(!r)return F({},Iy);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?F(F({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function dU(n){return{matched:!0,parameters:n.length>0?tS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Y1(n,e,t,i){return t.length>0&&pU(n,t,i)?{segmentGroup:new Se(e,fU(i,new Se(t,n.children))),slicedSegments:[]}:t.length===0&&gU(n,t,i)?{segmentGroup:new Se(n.segments,hU(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Se(n.segments,n.children),slicedSegments:t}}function hU(n,e,t,i){let r={};for(let s of t)if(Ch(n,e,s)&&!i[mn(s)]){let o=new Se([],{});r[mn(s)]=o}return F(F({},i),r)}function fU(n,e){let t={};t[de]=e;for(let i of n)if(i.path===""&&mn(i)!==de){let r=new Se([],{});t[mn(i)]=r}return t}function pU(n,e,t){return t.some(i=>Ch(n,e,i)&&mn(i)!==de)}function gU(n,e,t){return t.some(i=>Ch(n,e,i))}function Ch(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function mU(n,e,t){return e.length===0&&!n.children[t]}var Dy=class{};function _U(n,e,t,i,r,s,o="emptyOnly"){return new Ty(n,e,t,i,r,o,s).recognize()}var yU=31,Ty=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Ey(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=Y1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:t,rootSnapshot:i})=>{let r=new zt(i,t),s=new Eh("",r),o=Tj(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Co([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),de,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,de,t).pipe(Y(i=>({children:i,rootSnapshot:t})),Ui(i=>{if(i instanceof Hc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof $c?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(Y(o=>o instanceof zt?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Oe(s).pipe($i(o=>{let a=i.children[o],c=Oj(t,o);return this.processSegmentGroup(e,c,a,o,r)}),Nu((o,a)=>(o.push(...a),o)),Hi(null),dg(),He(o=>{if(o===null)return Io(i);let a=IS(o);return vU(a),Z(a)}))}processSegment(e,t,i,r,s,o,a){return Oe(t).pipe($i(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,s,o,a).pipe(Ui(u=>{if(u instanceof $c)return Z(null);throw u}))),wn(c=>!!c),Ui(c=>{if(wS(c))return mU(i,r,s)?Z(new Dy):Io(i);throw c}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,c){return mn(i)!==o&&(o===de||!Ch(r,s,i))?Io(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,c):Io(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:c,parameters:u,consumedSegments:h,positionalParamSegments:f,remainingSegments:g}=ES(t,r,s);if(!c)return Io(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yU&&(this.allowRedirects=!1));let _=new Co(s,u,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Z1(r),mn(r),r.component??r._loadedComponent??null,r,X1(r)),v=bh(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);let S=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,f,_,e);return this.applyRedirects.lineralizeSegments(r,S).pipe(He(A=>this.processSegment(e,i,t,A.concat(g),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=uU(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Mt(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Mt(({routes:u})=>{let h=i._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:_}=c,v=new Co(g,f,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Z1(i),mn(i),i.component??i._loadedComponent??null,i,X1(i)),S=bh(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let{segmentGroup:A,slicedSegments:x}=Y1(t,g,_,u);if(x.length===0&&A.hasChildren())return this.processChildren(h,u,A,v).pipe(Y(L=>new zt(v,L)));if(u.length===0&&x.length===0)return Z(new zt(v,[]));let V=mn(i)===s;return this.processSegment(h,u,A,x,V?de:s,!0,v).pipe(Y(L=>new zt(v,L instanceof zt?[L]:[])))}))):Io(t)))}getChildConfig(e,t,i){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):oU(e,t,i,this.urlSerializer).pipe(He(r=>r?this.configLoader.loadChildren(e,t).pipe(Ge(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):lU(t))):Z({routes:[],injector:e})}};function vU(n){n.sort((e,t)=>e.value.outlet===de?-1:t.value.outlet===de?1:e.value.outlet.localeCompare(t.value.outlet))}function wU(n){let e=n.value.routeConfig;return e&&e.path===""}function IS(n){let e=[],t=new Set;for(let i of n){if(!wU(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=IS(i.children);e.push(new zt(i.value,r))}return e.filter(i=>!t.has(i))}function Z1(n){return n.data||{}}function X1(n){return n.resolve||{}}function bU(n,e,t,i,r,s){return He(o=>_U(n,e,t,i,o.extractedUrl,r,s).pipe(Y(({state:a,tree:c})=>ue(F({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function EU(n,e){return He(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Z(t);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of DS(c))o.add(u);let a=0;return Oe(o).pipe($i(c=>s.has(c)?IU(c,i,n,e):(c.data=bh(c,c.parent,n).resolve,Z(void 0))),Ge(()=>a++),zs(1),He(c=>a===o.size?Z(t):ct))})}function DS(n){let e=n.children.map(t=>DS(t)).flat();return[n,...e]}function IU(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!mS(r)&&(s[Gc]=r.title),DU(s,n,e,i).pipe(Y(o=>(n._resolvedData=o,n.data=bh(n,n.parent,t).resolve,null)))}function DU(n,e,t,i){let r=ty(n);if(r.length===0)return Z({});let s={};return Oe(r).pipe(He(o=>TU(n[o],e,t,i).pipe(wn(),Ge(a=>{if(a instanceof Uc)throw Ih(new Pc,a);s[o]=a}))),zs(1),lg(s),Ui(o=>wS(o)?ct:Hs(o)))}function TU(n,e,t,i){let r=zc(e)??i,s=xo(n,r),o=s.resolve?s.resolve(e,t):pn(r,()=>s(e,t));return ar(o)}function X_(n){return Mt(e=>{let t=n(e);return t?Oe(t).pipe(Y(()=>e)):Z(e)})}var TS=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===de);return i}getResolvedTitleForRoute(t){return t.data[Gc]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>N(CU),providedIn:"root"})}}return n})(),CU=(()=>{class n extends TS{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(ee(q1))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),My=new H("",{providedIn:"root",factory:()=>({})}),SU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=oi({type:n,selectors:[["ng-component"]],standalone:!0,features:[gi],decls:1,vars:0,template:function(i,r){i&1&&it(0,"router-outlet")},dependencies:[kj],encapsulation:2})}}return n})();function Ny(n){let e=n.children&&n.children.map(Ny),t=e?ue(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=SU),t}var xy=new H(""),AU=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(R_)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=ar(t.loadComponent()).pipe(Y(CS),Ge(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Yn(()=>{this.componentLoaders.delete(t)})),r=new Ls(i,()=>new xe).pipe(Vs());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=RU(i,this.compiler,t,this.onLoadEndListener).pipe(Yn(()=>{this.childrenLoaders.delete(i)})),o=new Ls(s,()=>new xe).pipe(Vs());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function RU(n,e,t,i){return ar(n.loadChildren()).pipe(Y(CS),He(r=>r instanceof Ya||Array.isArray(r)?Z(r):Oe(e.compileModuleAsync(r))),Y(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(xy,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ny),injector:s}}))}function MU(n){return n&&typeof n=="object"&&"default"in n}function CS(n){return MU(n)?n.default:n}var Oy=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>N(NU),providedIn:"root"})}}return n})(),NU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xU=new H("");var OU=new H(""),PU=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xe,this.transitionAbortSubject=new xe,this.configLoader=N(AU),this.environmentInjector=N(ut),this.urlSerializer=N(Sy),this.rootContexts=N(Th),this.location=N(vc),this.inputBindingEnabled=N(Ry,{optional:!0})!==null,this.titleStrategy=N(TS),this.options=N(My,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Oy),this.createViewTransition=N(xU,{optional:!0}),this.navigationErrorHandler=N(OU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let t=r=>this.events.next(new uy(r)),i=r=>this.events.next(new dy(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(ue(F(F({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new tt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:xc,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ze(s=>s.id!==0),Y(s=>ue(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Mt(s=>{let o=!1,a=!1;return Z(s).pipe(Mt(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",qt.SupersededByNewNavigation),ct;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ue(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&h!=="reload"){let f="";return this.events.next(new ts(c.id,this.urlSerializer.serialize(c.rawUrl),f,sy.IgnoredSameUrlNavigation)),c.resolve(!1),ct}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Z(c).pipe(Mt(f=>{let g=this.transitions?.getValue();return this.events.next(new Vc(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),g!==this.transitions?.getValue()?ct:Promise.resolve(f)}),bU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ue(F({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let g=new yh(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:g,source:_,restoredState:v,extras:S}=c,A=new Vc(f,this.urlSerializer.serialize(g),_,v);this.events.next(A);let x=pS(this.rootComponentType).snapshot;return this.currentTransition=s=ue(F({},c),{targetSnapshot:x,urlAfterRedirects:g,extras:ue(F({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Z(s)}else{let f="";return this.events.next(new ts(c.id,this.urlSerializer.serialize(c.extractedUrl),f,sy.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ct}}),Ge(c=>{let u=new oy(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Y(c=>(this.currentTransition=s=ue(F({},c),{guards:Uj(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),Zj(this.environmentInjector,c=>this.events.next(c)),Ge(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Ih(this.urlSerializer,c.guardsResult);let u=new ay(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ze(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",qt.GuardRejected),!1)),X_(c=>{if(c.guards.canActivateChecks.length)return Z(c).pipe(Ge(u=>{let h=new cy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),Mt(u=>{let h=!1;return Z(u).pipe(EU(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",qt.NoDataFromResolver)}}))}),Ge(u=>{let h=new ly(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),X_(c=>{let u=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ge(g=>{h.component=g}),Y(()=>{})));for(let g of h.children)f.push(...u(g));return f};return Pr(u(c.targetSnapshot.root)).pipe(Hi(null),Yt(1))}),X_(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return h?Oe(h).pipe(Y(()=>s)):Z(s)}),Y(c=>{let u=Fj(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=ue(F({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Ge(()=>{this.events.next(new Bc)}),jj(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Yt(1),Ge({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new es(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),nt(this.transitionAbortSubject.pipe(Ge(c=>{throw c}))),Yn(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",qt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ui(c=>{if(a=!0,vS(c))this.events.next(new vi(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),Bj(c)?this.events.next(new Ro(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Lc(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let h=pn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof Uc){let{message:f,cancellationCode:g}=Ih(this.urlSerializer,h);this.events.next(new vi(s.id,this.urlSerializer.serialize(s.extractedUrl),f,g)),this.events.next(new Ro(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let f=t.errorHandler(c);s.resolve(!!f)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return ct}))}))}cancelNavigationTransition(t,i,r){let s=new vi(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kU(n){return n!==xc}var FU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>N(VU),providedIn:"root"})}}return n})(),Cy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},VU=(()=>{class n extends Cy{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=di(n)))(r||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>N(LU),providedIn:"root"})}}return n})(),LU=(()=>{class n extends SS{constructor(){super(...arguments),this.location=N(vc),this.urlSerializer=N(Sy),this.options=N(My,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Oy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Vc)this.stateMemento=this.createStateMemento();else if(t instanceof ts)this.rawUrlTree=i.initialUrl;else if(t instanceof yh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof Bc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof vi&&(t.code===qt.GuardRejected||t.code===qt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Lc?this.restoreHistory(i,!0):t instanceof es&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof wi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=F(F({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=di(n)))(r||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Mc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Mc||{});function BU(n,e){n.events.pipe(Ze(t=>t instanceof es||t instanceof vi||t instanceof Lc||t instanceof ts),Y(t=>t instanceof es||t instanceof ts?Mc.COMPLETE:(t instanceof vi?t.code===qt.Redirect||t.code===qt.SupersededByNewNavigation:!1)?Mc.REDIRECTING:Mc.FAILED),Ze(t=>t!==Mc.REDIRECTING),Yt(1)).subscribe(()=>{e()})}function jU(n){throw n}var UU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$U={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},AS=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=N(Jd),this.stateManager=N(SS),this.options=N(My,{optional:!0})||{},this.pendingTasks=N(hi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(PU),this.urlSerializer=N(Sy),this.location=N(vc),this.urlHandlingStrategy=N(Oy),this._events=new xe,this.errorHandler=this.options.errorHandler||jU,this.navigated=!1,this.routeReuseStrategy=N(FU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(xy,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(Ry,{optional:!0}),this.eventsSubscription=new $e,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof vi&&i.code!==qt.Redirect&&i.code!==qt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof es)this.navigated=!0;else if(i instanceof Ro){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=F({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kU(r.source)},o);this.scheduleNavigation(a,xc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}GU(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let c=F({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ny),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let g=r?r.snapshot:this.routerState.snapshot.root;f=uS(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return dS(f,t,h,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=kc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,xc,null,i)}navigate(t,i={skipLocationChange:!1}){return HU(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=F({},UU):i===!1?r=F({},$U):r=i,kc(t))return W1(this.currentUrlTree,t,r);let s=this.parseUrl(t);return W1(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((f,g)=>{a=f,c=g});let h=this.pendingTasks.add();return BU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function HU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}function GU(n){return!(n instanceof Bc)&&!(n instanceof Ro)}var zU=new H("");function RS(n,...e){return fn([{provide:xy,multi:!0,useValue:n},[],{provide:Mo,useFactory:qU,deps:[AS]},{provide:Yd,multi:!0,useFactory:WU},e.map(t=>t.\u0275providers)])}function qU(n){return n.routerState.root}function WU(){let n=N(Be);return e=>{let t=n.get(Mn);if(e!==t.components[0])return;let i=n.get(AS),r=n.get(KU);n.get(QU)===1&&i.initialNavigation(),n.get(JU,null,he.Optional)?.setUpPreloading(),n.get(zU,null,he.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var KU=new H("",{factory:()=>new xe}),QU=new H("",{providedIn:"root",factory:()=>1});var JU=new H("");var MS=[];var xS=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},YU=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],a=n[t++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},OS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,c=r+2<n.length,u=c?n[r+2]:0,h=s>>2,f=(s&3)<<4|a>>4,g=(a&15)<<2|u>>6,_=u&63;c||(_=64,o||(g=64)),i.push(t[h],t[f],t[g],t[_])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let f=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||u==null||f==null)throw new ky;let g=s<<2|a>>4;if(i.push(g),u!==64){let _=a<<4&240|u>>2;if(i.push(_),f!==64){let v=u<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ky=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ZU=function(n){let e=xS(n);return OS.encodeByteArray(e,!0)},Wc=function(n){return ZU(n).replace(/\./g,"")},Vy=function(n){try{return OS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var e$=()=>XU().__FIREBASE_DEFAULTS__,t$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Vy(n[1]);return e&&JSON.parse(e)},Ah=()=>{try{return e$()||t$()||n$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ly=n=>{var e,t;return(t=(e=Ah())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},PS=n=>{let e=Ly(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},By=()=>{var n;return(n=Ah())===null||n===void 0?void 0:n.config},jy=n=>{var e;return(e=Ah())===null||e===void 0?void 0:e[`_${n}`]};var Sh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function kS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Wc(JSON.stringify(t)),Wc(JSON.stringify(o)),""].join(".")}function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function i$(){var n;let e=(n=Ah())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jS(){let n=st();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function US(){return!i$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uy(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var r$="FirebaseError",Wt=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=r$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bi.prototype.create)}},bi=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?s$(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Wt(r,a,i)}};function s$(n,e){return n.replace(o$,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var o$=/\{\$([^}]+)}/g;function HS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ns(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(NS(s)&&NS(o)){if(!ns(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function NS(n){return n!==null&&typeof n=="object"}function Kc(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Oo(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Po(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function GS(n,e){let t=new Fy(n,e);return t.subscribe.bind(t)}var Fy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");a$(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Py),r.error===void 0&&(r.error=Py),r.complete===void 0&&(r.complete=Py);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function a$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Py(){}var dY=4*60*60*1e3;function It(n){return n&&n._delegate?n._delegate:n}var on=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var is="[DEFAULT]";var $y=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Sh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l$(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:c$(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function c$(n){return n===is?void 0:n}function l$(n){return n.instantiationMode==="EAGER"}var Rh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new $y(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var u$=[],ve=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ve||{}),d$={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},h$=ve.INFO,f$={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},p$=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=f$[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},cr=class{constructor(e){this.name=e,this._logLevel=h$,this._logHandler=p$,this._userLogHandler=null,u$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var g$=(n,e)=>e.some(t=>n instanceof t),zS,qS;function m$(){return zS||(zS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _$(){return qS||(qS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var WS=new WeakMap,Gy=new WeakMap,KS=new WeakMap,Hy=new WeakMap,qy=new WeakMap;function y$(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(kn(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&WS.set(t,n)}).catch(()=>{}),qy.set(e,n),e}function v$(n){if(Gy.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Gy.set(n,e)}var zy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return kn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function QS(n){zy=n(zy)}function w$(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Mh(this),e,...t);return KS.set(i,e.sort?e.sort():[e]),kn(i)}:_$().includes(n)?function(...e){return n.apply(Mh(this),e),kn(WS.get(this))}:function(...e){return kn(n.apply(Mh(this),e))}}function b$(n){return typeof n=="function"?w$(n):(n instanceof IDBTransaction&&v$(n),g$(n,m$())?new Proxy(n,zy):n)}function kn(n){if(n instanceof IDBRequest)return y$(n);if(Hy.has(n))return Hy.get(n);let e=b$(n);return e!==n&&(Hy.set(n,e),qy.set(e,n)),e}var Mh=n=>qy.get(n);function YS(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),a=kn(o);return i&&o.addEventListener("upgradeneeded",c=>{i(kn(o.result),c.oldVersion,c.newVersion,kn(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var E$=["get","getKey","getAll","getAllKeys","count"],I$=["put","add","delete","clear"],Wy=new Map;function JS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wy.get(e))return Wy.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=I$.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||E$.includes(t)))return;let s=function(o,...a){return E(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),r&&c.done]))[0]})};return Wy.set(e,s),s}QS(n=>ue(F({},n),{get:(e,t,i)=>JS(e,t)||n.get(e,t,i),has:(e,t)=>!!JS(e,t)||n.has(e,t)}));var Qy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(D$(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function D$(n){let e=n.getComponent();return e?.type==="VERSION"}var Jy="@firebase/app",ZS="0.10.13";var Ei=new cr("@firebase/app"),T$="@firebase/app-compat",C$="@firebase/analytics-compat",S$="@firebase/analytics",A$="@firebase/app-check-compat",R$="@firebase/app-check",M$="@firebase/auth",N$="@firebase/auth-compat",x$="@firebase/database",O$="@firebase/data-connect",P$="@firebase/database-compat",k$="@firebase/functions",F$="@firebase/functions-compat",V$="@firebase/installations",L$="@firebase/installations-compat",B$="@firebase/messaging",j$="@firebase/messaging-compat",U$="@firebase/performance",$$="@firebase/performance-compat",H$="@firebase/remote-config",G$="@firebase/remote-config-compat",z$="@firebase/storage",q$="@firebase/storage-compat",W$="@firebase/firestore",K$="@firebase/vertexai-preview",Q$="@firebase/firestore-compat",J$="firebase",Y$="10.14.1";var Yy="[DEFAULT]",Z$={[Jy]:"fire-core",[T$]:"fire-core-compat",[S$]:"fire-analytics",[C$]:"fire-analytics-compat",[R$]:"fire-app-check",[A$]:"fire-app-check-compat",[M$]:"fire-auth",[N$]:"fire-auth-compat",[x$]:"fire-rtdb",[O$]:"fire-data-connect",[P$]:"fire-rtdb-compat",[k$]:"fire-fn",[F$]:"fire-fn-compat",[V$]:"fire-iid",[L$]:"fire-iid-compat",[B$]:"fire-fcm",[j$]:"fire-fcm-compat",[U$]:"fire-perf",[$$]:"fire-perf-compat",[H$]:"fire-rc",[G$]:"fire-rc-compat",[z$]:"fire-gcs",[q$]:"fire-gcs-compat",[W$]:"fire-fst",[Q$]:"fire-fst-compat",[K$]:"fire-vertex","fire-js":"fire-js",[J$]:"fire-js-all"};var Qc=new Map,X$=new Map,Zy=new Map;function XS(n,e){try{n.container.addComponent(e)}catch(t){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ur(n){let e=n.name;if(Zy.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;Zy.set(e,n);for(let t of Qc.values())XS(t,n);for(let t of X$.values())XS(t,n);return!0}function Yc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fn(n){return n.settings!==void 0}var eH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new bi("app","Firebase",eH);var Xy=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}};var dr=Y$;function nv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Yy,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw lr.create("bad-app-name",{appName:String(r)});if(t||(t=By()),!t)throw lr.create("no-options");let s=Qc.get(r);if(s){if(ns(t,s.options)&&ns(i,s.config))return s;throw lr.create("duplicate-app",{appName:r})}let o=new Rh(r);for(let c of Zy.values())o.addComponent(c);let a=new Xy(t,i,o);return Qc.set(r,a),a}function ko(n=Yy){let e=Qc.get(n);if(!e&&n===Yy&&By())return nv();if(!e)throw lr.create("no-app",{appName:n});return e}function Nh(){return Array.from(Qc.values())}function et(n,e,t){var i;let r=(i=Z$[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(a.join(" "));return}ur(new on(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var tH="firebase-heartbeat-database",nH=1,Jc="firebase-heartbeat-store",Ky=null;function iA(){return Ky||(Ky=YS(tH,nH,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jc)}catch(t){console.warn(t)}}}}).catch(n=>{throw lr.create("idb-open",{originalErrorMessage:n.message})})),Ky}function iH(n){return E(this,null,function*(){try{let t=(yield iA()).transaction(Jc),i=yield t.objectStore(Jc).get(rA(n));return yield t.done,i}catch(e){if(e instanceof Wt)Ei.warn(e.message);else{let t=lr.create("idb-get",{originalErrorMessage:e?.message});Ei.warn(t.message)}}})}function eA(n,e){return E(this,null,function*(){try{let i=(yield iA()).transaction(Jc,"readwrite");yield i.objectStore(Jc).put(e,rA(n)),yield i.done}catch(t){if(t instanceof Wt)Ei.warn(t.message);else{let i=lr.create("idb-set",{originalErrorMessage:t?.message});Ei.warn(i.message)}}})}function rA(n){return`${n.name}!${n.options.appId}`}var rH=1024,sH=30*24*60*60*1e3,ev=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new tv(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=sH}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ei.warn(i)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=tA(),{heartbeatsToSend:i,unsentEntries:r}=oH(this._heartbeatsCache.heartbeats),s=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ei.warn(t),""}})}};function tA(){return new Date().toISOString().substring(0,10)}function oH(n,e=rH){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),nA(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),nA(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var tv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Uy()?$S().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield iH(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return eA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return eA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function nA(n){return Wc(JSON.stringify({version:2,heartbeats:n})).length}function aH(n){ur(new on("platform-logger",e=>new Qy(e),"PRIVATE")),ur(new on("heartbeat",e=>new ev(e),"PRIVATE")),et(Jy,ZS,n),et(Jy,ZS,"esm2017"),et("fire-js","")}aH("");var cH="firebase",lH="10.14.1";et(cH,lH,"app");var ss=new si("ANGULARFIRE2_VERSION");function Oh(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Zc=(n,e)=>{let t=e?[e]:Nh(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Vo=class{constructor(){return Zc(uH)}},uH="app-check";function Fo(){}var xh=class{zone;delegate;constructor(e,t=ng){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},iv=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fo,{},Fo,Fo)),t.pipe(Ge({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Lo=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new xh(Zone.current)),this.insideAngular=t.run(()=>new xh(Zone.current,fu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(ee(be))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ph(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function dH(n){return Ph().ngZone.runOutsideAngular(()=>n())}function rs(n){return Ph().ngZone.run(()=>n())}function hH(n){return fH(Ph())(n)}function fH(n){return function(t){return t=t.lift(new iv(n.ngZone)),t.pipe(Bi(n.outsideAngular),Li(n.insideAngular))}}var pH=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),rs(()=>n.apply(void 0,i))},Kt=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=rs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fo,{},Fo,Fo))),i[s]=pH(i[s],t));let r=dH(()=>n.apply(this,i));if(!e)if(r instanceof J){let s=Ph();return r.pipe(Bi(s.outsideAngular),Li(s.insideAngular))}else return rs(()=>r);return r instanceof J?r.pipe(hH):r instanceof Promise?rs(()=>new Promise((s,o)=>r.then(a=>rs(()=>s(a)),a=>rs(()=>o(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:rs(()=>r)};var Ii=class{constructor(e){return e}},os=class{constructor(){return Nh()}};function gH(n){return n&&n.length===1?n[0]:new Ii(ko())}var rv=new H("angularfire2._apps"),mH={provide:Ii,useFactory:gH,deps:[[new Ot,rv]]},_H={provide:os,deps:[[new Ot,rv]]};function yH(n){return(e,t)=>{let i=t.get(rn);et("angularfire",ss.full,"core"),et("angularfire",ss.full,"app"),et("angular",e1.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Ii(r)}}function sA(n,...e){return fn([mH,_H,{provide:rv,useFactory:yH(n),multi:!0,deps:[be,Be,Lo,...e]}])}var oA=Kt(nv,!0);function DA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var TA=DA,CA=new bi("auth","Firebase",DA());var jh=new cr("@firebase/auth");function vH(n,...e){jh.logLevel<=ve.WARN&&jh.warn(`Auth (${dr}): ${n}`,...e)}function Fh(n,...e){jh.logLevel<=ve.ERROR&&jh.error(`Auth (${dr}): ${n}`,...e)}function Ln(n,...e){throw Cv(n,...e)}function as(n,...e){return Cv(n,...e)}function SA(n,e,t){let i=Object.assign(Object.assign({},TA()),{[e]:t});return new bi("auth","Firebase",i).create(e,{appName:n.name})}function fr(n){return SA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cv(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return CA.create(n,...e)}function te(n,e,...t){if(!n)throw Cv(e,...t)}function Di(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Fh(e),new Error(e)}function pr(n,e){n||Di(e)}function cv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wH(){return aA()==="http:"||aA()==="https:"}function aA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function bH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wH()||LS()||"connection"in navigator)?navigator.onLine:!0}function EH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var cs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,pr(t>e,"Short delay should be less than long delay!"),this.isMobile=FS()||BS()}get(){return bH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Sv(n,e){pr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Uh=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var IH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var DH=new cs(3e4,6e4);function us(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function gr(s,o,a,c){return E(this,arguments,function*(n,e,t,i,r={}){return AA(n,r,()=>E(this,null,function*(){let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});let f=Kc(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:g},u);return VS()||(_.referrerPolicy="no-referrer"),Uh.fetch()(RA(n,n.config.apiHost,t,f),_)}))})}function AA(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},IH),e);try{let r=new lv(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw kh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw kh(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw kh(n,"user-disabled",o);let h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw SA(n,h,u);Ln(n,h)}}catch(r){if(r instanceof Wt)throw r;Ln(n,"network-request-failed",{message:String(r)})}})}function Yh(s,o,a,c){return E(this,arguments,function*(n,e,t,i,r={}){let u=yield gr(n,e,t,i,r);return"mfaPendingCredential"in u&&Ln(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function RA(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?Sv(n.config,r):`${n.config.apiScheme}://${r}`}function TH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var lv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(as(this.auth,"network-request-failed")),DH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function kh(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=as(n,e,i);return r.customData._tokenResponse=t,r}function cA(n){return n!==void 0&&n.enterprise!==void 0}var uv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return TH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function CH(n,e){return E(this,null,function*(){return gr(n,"GET","/v2/recaptchaConfig",us(n,e))})}function SH(n,e){return E(this,null,function*(){return gr(n,"POST","/v1/accounts:delete",e)})}function MA(n,e){return E(this,null,function*(){return gr(n,"POST","/v1/accounts:lookup",e)})}function Xc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Av(n,e=!1){return E(this,null,function*(){let t=It(n),i=yield t.getIdToken(e),r=Rv(i);te(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Xc(sv(r.auth_time)),issuedAtTime:Xc(sv(r.iat)),expirationTime:Xc(sv(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function sv(n){return Number(n)*1e3}function Rv(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{let r=Vy(t);return r?JSON.parse(r):(Fh("Failed to decode base64 JWT payload"),null)}catch(r){return Fh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function lA(n){let e=Rv(n);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function tl(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Wt&&AH(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function AH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var dv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var nl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xc(this.lastLoginAt),this.creationTime=Xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function $h(n){return E(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield tl(n,MA(t,{idToken:i}));te(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NA(s.providerUserInfo):[],a=RH(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,h=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nl(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,f)})}function Mv(n){return E(this,null,function*(){let e=It(n);yield $h(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function RH(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function NA(n){return n.map(e=>{var{providerId:t}=e,i=ig(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function MH(n,e){return E(this,null,function*(){let t=yield AA(n,{},()=>E(this,null,function*(){let i=Kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=RA(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Uh.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function NH(n,e){return E(this,null,function*(){return gr(n,"POST","/v2/accounts:revokeToken",us(n,e))})}var el=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){te(e.length!==0,"internal-error");let t=lA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield MH(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(te(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(te(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Di("not implemented")}};function hr(n,e){te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Bo=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nl(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield tl(this,this.stsTokenManager.getToken(this.auth,e));return te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Av(this,e)}reload(){return Mv(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield $h(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Fn(this.auth.app))return Promise.reject(fr(this.auth));let e=yield this.getIdToken();return yield tl(this,SH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,c,u,h;let f=(i=t.displayName)!==null&&i!==void 0?i:void 0,g=(r=t.email)!==null&&r!==void 0?r:void 0,_=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=t.photoURL)!==null&&o!==void 0?o:void 0,S=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=t.createdAt)!==null&&u!==void 0?u:void 0,V=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:L,emailVerified:W,isAnonymous:ge,providerData:q,stsTokenManager:I}=t;te(L&&I,e,"internal-error");let y=el.fromJSON(this.name,I);te(typeof L=="string",e,"internal-error"),hr(f,e.name),hr(g,e.name),te(typeof W=="boolean",e,"internal-error"),te(typeof ge=="boolean",e,"internal-error"),hr(_,e.name),hr(v,e.name),hr(S,e.name),hr(A,e.name),hr(x,e.name),hr(V,e.name);let w=new n({uid:L,auth:e,email:g,emailVerified:W,displayName:f,isAnonymous:ge,photoURL:v,phoneNumber:_,tenantId:S,stsTokenManager:y,createdAt:x,lastLoginAt:V});return q&&Array.isArray(q)&&(w.providerData=q.map(D=>Object.assign({},D))),A&&(w._redirectEventId=A),w}static _fromIdTokenResponse(e,t,i=!1){return E(this,null,function*(){let r=new el;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield $h(s),s})}static _fromGetAccountInfoResponse(e,t,i){return E(this,null,function*(){let r=t.users[0];te(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?NA(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new el;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new nl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var uA=new Map;function Ti(n){pr(n instanceof Function,"Expected a class definition");let e=uA.get(n);return e?(pr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uA.set(n,e),e)}var xH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,i){return E(this,null,function*(){this.storage[t]=i})}_get(t){return E(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),hv=xH;function Vh(n,e,t){return`firebase:${n}:${e}:${t}`}var Hh=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Vh(this.userKey,r.apiKey,s),this.fullPersistenceKey=Vh("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Bo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return E(this,null,function*(){if(!t.length)return new n(Ti(hv),e,i);let r=(yield Promise.all(t.map(u=>E(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Ti(hv),o=Vh(i,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(o);if(h){let f=Bo._fromJSON(e,h);u!==s&&(a=f),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(u=>E(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,i))})}};function dA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VA(e))return"Blackberry";if(LA(e))return"Webos";if(OA(e))return"Safari";if((e.includes("chrome/")||PA(e))&&!e.includes("edge/"))return"Chrome";if(FA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function xA(n=st()){return/firefox\//i.test(n)}function OA(n=st()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PA(n=st()){return/crios\//i.test(n)}function kA(n=st()){return/iemobile/i.test(n)}function FA(n=st()){return/android/i.test(n)}function VA(n=st()){return/blackberry/i.test(n)}function LA(n=st()){return/webos/i.test(n)}function Nv(n=st()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function OH(n=st()){var e;return Nv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PH(){return jS()&&document.documentMode===10}function BA(n=st()){return Nv(n)||FA(n)||LA(n)||VA(n)||/windows phone/i.test(n)||kA(n)}function jA(n,e=[]){let t;switch(n){case"Browser":t=dA(st());break;case"Worker":t=`${dA(st())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dr}/${i}`}var fv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function kH(t){return E(this,arguments,function*(n,e={}){return gr(n,"GET","/v2/passwordPolicy",us(n,e))})}var FH=6,pv=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:FH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var gv=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gh(this),this.idTokenSubscription=new Gh(this),this.beforeStateQueue=new fv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Hh.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield MA(this,{idToken:e}),i=yield Bo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(Fn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield $h(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=EH()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Fn(this.app))return Promise.reject(fr(this));let t=e?It(e):null;return t&&te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Fn(this.app)?Promise.reject(fr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Fn(this.app)?Promise.reject(fr(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Ti(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield kH(this),t=new pv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield NH(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ti(e)||this._popupRedirectResolver;te(t,this,"argument-error"),this.redirectPersistenceManager=yield Hh.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return E(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&vH(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function jo(n){return It(n)}var Gh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=GS(t=>this.observer=t)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Zh={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VH(n){Zh=n}function UA(n){return Zh.loadJS(n)}function LH(){return Zh.recaptchaEnterpriseScript}function BH(){return Zh.gapiScript}function $A(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var jH="recaptcha-enterprise",UH="NO_RECAPTCHA",mv=class{constructor(e){this.type=jH,this.auth=jo(e)}verify(e="verify",t=!1){return E(this,null,function*(){function i(s){return E(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>E(this,null,function*(){CH(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new uv(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;cA(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(UH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!t&&cA(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=LH();c.length!==0&&(c+=a),UA(c).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function hA(n,e,t,i=!1){return E(this,null,function*(){let r=new mv(n),s;try{s=yield r.verify(t)}catch{s=yield r.verify(t,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function fA(n,e,t,i){return E(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield hA(n,e,t,t==="getOobCode");return i(n,s)}else return i(n,e).catch(s=>E(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield hA(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(s)}))})}function xv(n,e){let t=Yc(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(ns(s,e??{}))return r;Ln(r,"already-initialized")}return t.initialize({options:e})}function $H(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ti);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Ov(n,e,t){let i=jo(n);te(i._canInitEmulator,i,"emulator-config-failed"),te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=HA(e),{host:o,port:a}=HH(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||GH()}function HA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function HH(n){let e=HA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:pA(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:pA(o)}}}function pA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function GH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var il=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}};function zH(n,e){return E(this,null,function*(){return gr(n,"POST","/v1/accounts:signUp",e)})}function qH(n,e){return E(this,null,function*(){return Yh(n,"POST","/v1/accounts:signInWithPassword",us(n,e))})}function WH(n,e){return E(this,null,function*(){return Yh(n,"POST","/v1/accounts:signInWithEmailLink",us(n,e))})}function KH(n,e){return E(this,null,function*(){return Yh(n,"POST","/v1/accounts:signInWithEmailLink",us(n,e))})}var rl=class n extends il{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fA(e,t,"signInWithPassword",qH);case"emailLink":return WH(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}})}_linkToIdToken(e,t){return E(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fA(e,i,"signUpPassword",zH);case"emailLink":return KH(e,{idToken:t,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ov(n,e){return E(this,null,function*(){return Yh(n,"POST","/v1/accounts:signInWithIdp",us(n,e))})}function QH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JH(n){let e=Oo(Po(n)).link,t=e?Oo(Po(e)).deep_link_id:null,i=Oo(Po(n)).deep_link_id;return(i?Oo(Po(i)).link:null)||i||t||e||n}var zh=class n{constructor(e){var t,i,r,s,o,a;let c=Oo(Po(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(i=c.oobCode)!==null&&i!==void 0?i:null,f=QH((r=c.mode)!==null&&r!==void 0?r:null);te(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=JH(e);try{return new n(t)}catch{return null}}};var GA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return rl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=zh.parseLink(i);return te(r,"argument-error"),rl._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),qh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var _v=class extends qh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var sl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return E(this,null,function*(){let s=yield Bo._fromIdTokenResponse(e,i,r),o=gA(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return E(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=gA(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function gA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var yv=class n extends Wt{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function zA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yv._fromErrorAndOperation(n,s,e,i):s})}function YH(n,e,t=!1){return E(this,null,function*(){let i=yield tl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return sl._forOperation(n,"link",i)})}function ZH(n,e,t=!1){return E(this,null,function*(){let{auth:i}=n;if(Fn(i.app))return Promise.reject(fr(i));let r="reauthenticate";try{let s=yield tl(n,zA(i,r,e,n),t);te(s.idToken,i,"internal-error");let o=Rv(s.idToken);te(o,i,"internal-error");let{sub:a}=o;return te(n.uid===a,i,"user-mismatch"),sl._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ln(i,"user-mismatch"),s}})}function qA(n,e,t=!1){return E(this,null,function*(){if(Fn(n.app))return Promise.reject(fr(n));let i="signIn",r=yield zA(n,i,e),s=yield sl._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function Pv(n,e){return E(this,null,function*(){return qA(jo(n),e)})}function XH(n){return E(this,null,function*(){let e=jo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function kv(n,e,t){return Fn(n.app)?Promise.reject(fr(n)):Pv(It(n),GA.credential(e,t)).catch(i=>E(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&XH(n),i}))}function Fv(n,e,t,i){return It(n).onIdTokenChanged(e,t,i)}function Vv(n,e,t){return It(n).beforeAuthStateChanged(e,t)}var Wh="__sak";var Kh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var eG=1e3,tG=10,nG=(()=>{class n extends Kh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=t.key;i?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);PH()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,tG):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},eG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return E(this,null,function*(){yield ki(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return E(this,null,function*(){let i=yield ki(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return E(this,null,function*(){yield ki(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),WA=nG;var iG=(()=>{class n extends Kh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),Lv=iG;function rG(n){return Promise.all(n.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var sG=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let i=t,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(h=>E(this,null,function*(){return h(i.origin,o)})),u=yield rG(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function KA(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var vv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return E(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=KA("",20);r.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){let g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Vn(){return window}function oG(n){Vn().location.href=n}function QA(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}function aG(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function cG(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function lG(){return QA()?self:null}var JA="firebaseLocalStorageDb",uG=1,Qh="firebaseLocalStorage",YA="fbase_key",ls=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Xh(n,e){return n.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function dG(){let n=indexedDB.deleteDatabase(JA);return new ls(n).toPromise()}function wv(){let n=indexedDB.open(JA,uG);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Qh,{keyPath:YA})}catch(r){t(r)}}),n.addEventListener("success",()=>E(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Qh)?e(i):(i.close(),yield dG(),e(yield wv()))}))})}function mA(n,e,t){return E(this,null,function*(){let i=Xh(n,!0).put({[YA]:e,value:t});return new ls(i).toPromise()})}function hG(n,e){return E(this,null,function*(){let t=Xh(n,!1).get(e),i=yield new ls(t).toPromise();return i===void 0?null:i.value})}function _A(n,e){let t=Xh(n,!0).delete(e);return new ls(t).toPromise()}var fG=800,pG=3,gG=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield wv(),this.db)})}_withRetries(t){return E(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>pG)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return QA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=sG._getInstance(lG()),this.receiver._subscribe("keyChanged",(t,i)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,i;if(this.activeServiceWorker=yield aG(),!this.activeServiceWorker)return;this.sender=new vv(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||cG()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield wv();return yield mA(t,Wh,"1"),yield _A(t,Wh),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>mA(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let i=yield this._withRetries(r=>hG(r,t));return this.localCache[t]=i,i})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>_A(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(s=>{let o=Xh(s,!1).getAll();return new ls(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),fG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),ZA=gG;var rZ=$A("rcb"),sZ=new cs(3e4,6e4);function mG(n,e){return e?Ti(e):(te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ol=class extends il{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ov(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ov(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ov(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function _G(n){return qA(n.auth,new ol(n),n.bypassAuthState)}function yG(n){let{auth:e,user:t}=n;return te(t,e,"internal-error"),ZH(t,new ol(n),n.bypassAuthState)}function vG(n){return E(this,null,function*(){let{auth:e,user:t}=n;return te(t,e,"internal-error"),YH(t,new ol(n),n.bypassAuthState)})}var bv=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _G;case"linkViaPopup":case"linkViaRedirect":return vG;case"reauthViaPopup":case"reauthViaRedirect":return yG;default:Ln(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var oZ=new cs(2e3,1e4);var wG="pendingRedirect",Lh=new Map,Ev=class n extends bv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return E(this,null,function*(){let e=Lh.get(this.auth._key());if(!e){try{let i=(yield bG(this.resolver,this.auth))?yield ki(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return ki(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ki(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function bG(n,e){return E(this,null,function*(){let t=DG(e),i=IG(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function EG(n,e){Lh.set(n._key(),e)}function IG(n){return Ti(n._redirectPersistence)}function DG(n){return Vh(wG,n.config.apiKey,n.name)}function TG(n,e,t=!1){return E(this,null,function*(){if(Fn(n.app))return Promise.reject(fr(n));let i=jo(n),r=mG(i,e),o=yield new Ev(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var CG=10*60*1e3,Iv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SG(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!XA(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(as(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CG&&this.cachedEventUids.clear(),this.cachedEventUids.has(yA(e))}saveEventToCache(e){this.cachedEventUids.add(yA(e)),this.lastProcessedEventTime=Date.now()}};function yA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function SG(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XA(n);default:return!1}}function AG(t){return E(this,arguments,function*(n,e={}){return gr(n,"GET","/v1/projects",e)})}var RG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MG=/^https?/;function NG(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield AG(n);for(let t of e)try{if(xG(t))return}catch{}Ln(n,"unauthorized-domain")})}function xG(n){let e=cv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!MG.test(t))return!1;if(RG.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var OG=new cs(3e4,6e4);function vA(){let n=Vn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PG(n){return new Promise((e,t)=>{var i,r,s;function o(){vA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vA(),t(as(n,"network-request-failed"))},timeout:OG.get()})}if(!((r=(i=Vn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Vn().gapi)===null||s===void 0)&&s.load)o();else{let a=$A("iframefcb");return Vn()[a]=()=>{gapi.load?o():t(as(n,"network-request-failed"))},UA(`${BH()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Bh=null,e})}var Bh=null;function kG(n){return Bh=Bh||PG(n),Bh}var FG=new cs(5e3,15e3),VG="__/auth/iframe",LG="emulator/auth/iframe",BG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UG(n){let e=n.config;te(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Sv(e,LG):`https://${n.config.authDomain}/${VG}`,i={apiKey:e.apiKey,appName:n.name,v:dr},r=jG.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Kc(i).slice(1)}`}function $G(n){return E(this,null,function*(){let e=yield kG(n),t=Vn().gapi;return te(t,n,"internal-error"),e.open({where:document.body,url:UG(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BG,dontclear:!0},i=>new Promise((r,s)=>E(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=as(n,"network-request-failed"),a=Vn().setTimeout(()=>{s(o)},FG.get());function c(){Vn().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var HG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GG=500,zG=600,qG="_blank",WG="http://localhost",Jh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function KG(n,e,t,i=GG,r=zG){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},HG),{width:i.toString(),height:r.toString(),top:s,left:o}),u=st().toLowerCase();t&&(a=PA(u)?qG:t),xA(u)&&(e=e||WG,c.scrollbars="yes");let h=Object.entries(c).reduce((g,[_,v])=>`${g}${_}=${v},`,"");if(OH(u)&&a!=="_self")return QG(e||"",a),new Jh(null);let f=window.open(e||"",a,h);te(f,n,"popup-blocked");try{f.focus()}catch{}return new Jh(f)}function QG(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var JG="__/auth/handler",YG="emulator/auth/handler",ZG=encodeURIComponent("fac");function wA(n,e,t,i,r,s){return E(this,null,function*(){te(n.config.authDomain,n,"auth-domain-config-required"),te(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:dr,eventId:r};if(e instanceof qh){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",HS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,f]of Object.entries(s||{}))o[h]=f}if(e instanceof _v){let h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield n._getAppCheckToken(),u=c?`#${ZG}=${encodeURIComponent(c)}`:"";return`${XG(n)}?${Kc(a).slice(1)}${u}`})}function XG({config:n}){return n.emulator?Sv(n,YG):`https://${n.authDomain}/${JG}`}var av="webStorageSupport",Dv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lv,this._completeRedirectFn=TG,this._overrideRedirectResult=EG}_openPopup(e,t,i,r){return E(this,null,function*(){var s;pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield wA(e,t,i,cv(),r);return KG(e,o,KA())})}_openRedirect(e,t,i,r){return E(this,null,function*(){yield this._originValidation(e);let s=yield wA(e,t,i,cv(),r);return oG(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(pr(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return E(this,null,function*(){let t=yield $G(e),i=new Iv(e);return t.register("authEvent",r=>(te(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(av,{type:av},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[av];o!==void 0&&t(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NG(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BA()||OA()||Nv()}},eR=Dv;var bA="@firebase/auth",EA="1.7.9";var Tv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function e4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t4(n){ur(new on("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jA(n)},u=new gv(i,r,s,c);return $H(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ur(new on("auth-internal",e=>{let t=jo(e.getProvider("auth").getImmediate());return(i=>new Tv(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(bA,EA,e4(n)),et(bA,EA,"esm2017")}var n4=5*60,i4=jy("authIdTokenMaxAge")||n4,IA=null,r4=n=>e=>E(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>i4)return;let r=t?.token;IA!==r&&(IA=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Bv(n=ko()){let e=Yc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=xv(n,{popupRedirectResolver:eR,persistence:[ZA,WA,Lv]}),i=jy("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=r4(s.toString());Vv(t,o,()=>o(t.currentUser)),Fv(t,a=>o(a))}}let r=Ly("auth");return r&&Ov(t,`http://${r}`),t}function s4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}VH({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=as("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",s4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t4("Browser");var tR="auth",ds=class{constructor(e){return e}},al=class{constructor(){return Zc(tR)}};var jv=new H("angularfire2.auth-instances");function Y4(n,e){let t=Oh(tR,n,e);return t&&new ds(t)}function Z4(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new ds(i)}}var X4={provide:al,deps:[[new Ot,jv]]},e3={provide:ds,useFactory:Y4,deps:[[new Ot,jv],Ii]};function nR(n,...e){return et("angularfire",ss.full,"auth"),fn([e3,X4,{provide:jv,useFactory:Z4(n),multi:!0,deps:[be,Be,Lo,os,[new Ot,Vo],...e]}])}var iR=Kt(Bv,!0);var rR=Kt(kv,!0);var sR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oR={};var mr,Uv;(function(){var n;function e(I,y){function w(){}w.prototype=y.prototype,I.D=y.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(D,T,R){for(var b=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)b[qn-2]=arguments[qn];return y.prototype[T].apply(D,b)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,y,w){w||(w=0);var D=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)D[T]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(T=0;16>T;++T)D[T]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=I.g[0],w=I.g[1],T=I.g[2];var R=I.g[3],b=y+(R^w&(T^R))+D[0]+3614090360&4294967295;y=w+(b<<7&4294967295|b>>>25),b=R+(T^y&(w^T))+D[1]+3905402710&4294967295,R=y+(b<<12&4294967295|b>>>20),b=T+(w^R&(y^w))+D[2]+606105819&4294967295,T=R+(b<<17&4294967295|b>>>15),b=w+(y^T&(R^y))+D[3]+3250441966&4294967295,w=T+(b<<22&4294967295|b>>>10),b=y+(R^w&(T^R))+D[4]+4118548399&4294967295,y=w+(b<<7&4294967295|b>>>25),b=R+(T^y&(w^T))+D[5]+1200080426&4294967295,R=y+(b<<12&4294967295|b>>>20),b=T+(w^R&(y^w))+D[6]+2821735955&4294967295,T=R+(b<<17&4294967295|b>>>15),b=w+(y^T&(R^y))+D[7]+4249261313&4294967295,w=T+(b<<22&4294967295|b>>>10),b=y+(R^w&(T^R))+D[8]+1770035416&4294967295,y=w+(b<<7&4294967295|b>>>25),b=R+(T^y&(w^T))+D[9]+2336552879&4294967295,R=y+(b<<12&4294967295|b>>>20),b=T+(w^R&(y^w))+D[10]+4294925233&4294967295,T=R+(b<<17&4294967295|b>>>15),b=w+(y^T&(R^y))+D[11]+2304563134&4294967295,w=T+(b<<22&4294967295|b>>>10),b=y+(R^w&(T^R))+D[12]+1804603682&4294967295,y=w+(b<<7&4294967295|b>>>25),b=R+(T^y&(w^T))+D[13]+4254626195&4294967295,R=y+(b<<12&4294967295|b>>>20),b=T+(w^R&(y^w))+D[14]+2792965006&4294967295,T=R+(b<<17&4294967295|b>>>15),b=w+(y^T&(R^y))+D[15]+1236535329&4294967295,w=T+(b<<22&4294967295|b>>>10),b=y+(T^R&(w^T))+D[1]+4129170786&4294967295,y=w+(b<<5&4294967295|b>>>27),b=R+(w^T&(y^w))+D[6]+3225465664&4294967295,R=y+(b<<9&4294967295|b>>>23),b=T+(y^w&(R^y))+D[11]+643717713&4294967295,T=R+(b<<14&4294967295|b>>>18),b=w+(R^y&(T^R))+D[0]+3921069994&4294967295,w=T+(b<<20&4294967295|b>>>12),b=y+(T^R&(w^T))+D[5]+3593408605&4294967295,y=w+(b<<5&4294967295|b>>>27),b=R+(w^T&(y^w))+D[10]+38016083&4294967295,R=y+(b<<9&4294967295|b>>>23),b=T+(y^w&(R^y))+D[15]+3634488961&4294967295,T=R+(b<<14&4294967295|b>>>18),b=w+(R^y&(T^R))+D[4]+3889429448&4294967295,w=T+(b<<20&4294967295|b>>>12),b=y+(T^R&(w^T))+D[9]+568446438&4294967295,y=w+(b<<5&4294967295|b>>>27),b=R+(w^T&(y^w))+D[14]+3275163606&4294967295,R=y+(b<<9&4294967295|b>>>23),b=T+(y^w&(R^y))+D[3]+4107603335&4294967295,T=R+(b<<14&4294967295|b>>>18),b=w+(R^y&(T^R))+D[8]+1163531501&4294967295,w=T+(b<<20&4294967295|b>>>12),b=y+(T^R&(w^T))+D[13]+2850285829&4294967295,y=w+(b<<5&4294967295|b>>>27),b=R+(w^T&(y^w))+D[2]+4243563512&4294967295,R=y+(b<<9&4294967295|b>>>23),b=T+(y^w&(R^y))+D[7]+1735328473&4294967295,T=R+(b<<14&4294967295|b>>>18),b=w+(R^y&(T^R))+D[12]+2368359562&4294967295,w=T+(b<<20&4294967295|b>>>12),b=y+(w^T^R)+D[5]+4294588738&4294967295,y=w+(b<<4&4294967295|b>>>28),b=R+(y^w^T)+D[8]+2272392833&4294967295,R=y+(b<<11&4294967295|b>>>21),b=T+(R^y^w)+D[11]+1839030562&4294967295,T=R+(b<<16&4294967295|b>>>16),b=w+(T^R^y)+D[14]+4259657740&4294967295,w=T+(b<<23&4294967295|b>>>9),b=y+(w^T^R)+D[1]+2763975236&4294967295,y=w+(b<<4&4294967295|b>>>28),b=R+(y^w^T)+D[4]+1272893353&4294967295,R=y+(b<<11&4294967295|b>>>21),b=T+(R^y^w)+D[7]+4139469664&4294967295,T=R+(b<<16&4294967295|b>>>16),b=w+(T^R^y)+D[10]+3200236656&4294967295,w=T+(b<<23&4294967295|b>>>9),b=y+(w^T^R)+D[13]+681279174&4294967295,y=w+(b<<4&4294967295|b>>>28),b=R+(y^w^T)+D[0]+3936430074&4294967295,R=y+(b<<11&4294967295|b>>>21),b=T+(R^y^w)+D[3]+3572445317&4294967295,T=R+(b<<16&4294967295|b>>>16),b=w+(T^R^y)+D[6]+76029189&4294967295,w=T+(b<<23&4294967295|b>>>9),b=y+(w^T^R)+D[9]+3654602809&4294967295,y=w+(b<<4&4294967295|b>>>28),b=R+(y^w^T)+D[12]+3873151461&4294967295,R=y+(b<<11&4294967295|b>>>21),b=T+(R^y^w)+D[15]+530742520&4294967295,T=R+(b<<16&4294967295|b>>>16),b=w+(T^R^y)+D[2]+3299628645&4294967295,w=T+(b<<23&4294967295|b>>>9),b=y+(T^(w|~R))+D[0]+4096336452&4294967295,y=w+(b<<6&4294967295|b>>>26),b=R+(w^(y|~T))+D[7]+1126891415&4294967295,R=y+(b<<10&4294967295|b>>>22),b=T+(y^(R|~w))+D[14]+2878612391&4294967295,T=R+(b<<15&4294967295|b>>>17),b=w+(R^(T|~y))+D[5]+4237533241&4294967295,w=T+(b<<21&4294967295|b>>>11),b=y+(T^(w|~R))+D[12]+1700485571&4294967295,y=w+(b<<6&4294967295|b>>>26),b=R+(w^(y|~T))+D[3]+2399980690&4294967295,R=y+(b<<10&4294967295|b>>>22),b=T+(y^(R|~w))+D[10]+4293915773&4294967295,T=R+(b<<15&4294967295|b>>>17),b=w+(R^(T|~y))+D[1]+2240044497&4294967295,w=T+(b<<21&4294967295|b>>>11),b=y+(T^(w|~R))+D[8]+1873313359&4294967295,y=w+(b<<6&4294967295|b>>>26),b=R+(w^(y|~T))+D[15]+4264355552&4294967295,R=y+(b<<10&4294967295|b>>>22),b=T+(y^(R|~w))+D[6]+2734768916&4294967295,T=R+(b<<15&4294967295|b>>>17),b=w+(R^(T|~y))+D[13]+1309151649&4294967295,w=T+(b<<21&4294967295|b>>>11),b=y+(T^(w|~R))+D[4]+4149444226&4294967295,y=w+(b<<6&4294967295|b>>>26),b=R+(w^(y|~T))+D[11]+3174756917&4294967295,R=y+(b<<10&4294967295|b>>>22),b=T+(y^(R|~w))+D[2]+718787259&4294967295,T=R+(b<<15&4294967295|b>>>17),b=w+(R^(T|~y))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(T+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+R&4294967295}i.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var w=y-this.blockSize,D=this.B,T=this.h,R=0;R<y;){if(T==0)for(;R<=w;)r(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<y;)if(D[T++]=I.charCodeAt(R++),T==this.blockSize){r(this,D),T=0;break}}else for(;R<y;)if(D[T++]=I[R++],T==this.blockSize){r(this,D),T=0;break}}this.h=T,this.o+=y},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var w=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=w&255,w/=256;for(this.u(I),I=Array(16),y=w=0;4>y;++y)for(var D=0;32>D;D+=8)I[w++]=this.g[y]>>>D&255;return I};function s(I,y){var w=a;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=y(I)}function o(I,y){this.h=y;for(var w=[],D=!0,T=I.length-1;0<=T;T--){var R=I[T]|0;D&&R==y||(w[T]=R,D=!1)}this.g=w}var a={};function c(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return A(u(-I));for(var y=[],w=1,D=0;I>=w;D++)y[D]=I/w|0,w*=4294967296;return new o(y,0)}function h(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return A(h(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(y,8)),D=f,T=0;T<I.length;T+=8){var R=Math.min(8,I.length-T),b=parseInt(I.substring(T,T+R),y);8>R?(R=u(Math.pow(y,R)),D=D.j(R).add(u(b))):(D=D.j(w),D=D.add(u(b)))}return D}var f=c(0),g=c(1),_=c(16777216);n=o.prototype,n.m=function(){if(S(this))return-A(this).m();for(var I=0,y=1,w=0;w<this.g.length;w++){var D=this.i(w);I+=(0<=D?D:4294967296+D)*y,y*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(S(this))return"-"+A(this).toString(I);for(var y=u(Math.pow(I,6)),w=this,D="";;){var T=W(w,y).g;w=x(w,T.j(y));var R=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=T,v(w))return R+D;for(;6>R.length;)R="0"+R;D=R+D}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function S(I){return I.h==-1}n.l=function(I){return I=x(this,I),S(I)?-1:v(I)?0:1};function A(I){for(var y=I.g.length,w=[],D=0;D<y;D++)w[D]=~I.g[D];return new o(w,~I.h).add(g)}n.abs=function(){return S(this)?A(this):this},n.add=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],D=0,T=0;T<=y;T++){var R=D+(this.i(T)&65535)+(I.i(T)&65535),b=(R>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);D=b>>>16,R&=65535,b&=65535,w[T]=b<<16|R}return new o(w,w[w.length-1]&-2147483648?-1:0)};function x(I,y){return I.add(A(y))}n.j=function(I){if(v(this)||v(I))return f;if(S(this))return S(I)?A(this).j(A(I)):A(A(this).j(I));if(S(I))return A(this.j(A(I)));if(0>this.l(_)&&0>I.l(_))return u(this.m()*I.m());for(var y=this.g.length+I.g.length,w=[],D=0;D<2*y;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<I.g.length;T++){var R=this.i(D)>>>16,b=this.i(D)&65535,qn=I.i(T)>>>16,ma=I.i(T)&65535;w[2*D+2*T]+=b*ma,V(w,2*D+2*T),w[2*D+2*T+1]+=R*ma,V(w,2*D+2*T+1),w[2*D+2*T+1]+=b*qn,V(w,2*D+2*T+1),w[2*D+2*T+2]+=R*qn,V(w,2*D+2*T+2)}for(D=0;D<y;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=y;D<2*y;D++)w[D]=0;return new o(w,0)};function V(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function L(I,y){this.g=I,this.h=y}function W(I,y){if(v(y))throw Error("division by zero");if(v(I))return new L(f,f);if(S(I))return y=W(A(I),y),new L(A(y.g),A(y.h));if(S(y))return y=W(I,A(y)),new L(A(y.g),y.h);if(30<I.g.length){if(S(I)||S(y))throw Error("slowDivide_ only works with positive integers.");for(var w=g,D=y;0>=D.l(I);)w=ge(w),D=ge(D);var T=q(w,1),R=q(D,1);for(D=q(D,2),w=q(w,2);!v(D);){var b=R.add(D);0>=b.l(I)&&(T=T.add(w),R=b),D=q(D,1),w=q(w,1)}return y=x(I,T.j(y)),new L(T,y)}for(T=f;0<=I.l(y);){for(w=Math.max(1,Math.floor(I.m()/y.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),R=u(w),b=R.j(y);S(b)||0<b.l(I);)w-=D,R=u(w),b=R.j(y);v(R)&&(R=g),T=T.add(R),I=x(I,b)}return new L(T,I)}n.A=function(I){return W(this,I).h},n.and=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)&I.i(D);return new o(w,this.h&I.h)},n.or=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)|I.i(D);return new o(w,this.h|I.h)},n.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)^I.i(D);return new o(w,this.h^I.h)};function ge(I){for(var y=I.g.length+1,w=[],D=0;D<y;D++)w[D]=I.i(D)<<1|I.i(D-1)>>>31;return new o(w,I.h)}function q(I,y){var w=y>>5;y%=32;for(var D=I.g.length-w,T=[],R=0;R<D;R++)T[R]=0<y?I.i(R+w)>>>y|I.i(R+w+1)<<32-y:I.i(R+w);return new o(T,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Uv=oR.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,mr=oR.Integer=o}).apply(typeof sR<"u"?sR:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ci={};var $v,n3,Uo,Hv,cl,tf,Gv,zv,qv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,p){return l==Array.prototype||l==Object.prototype||(l[d]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=t(this);function r(l,d){if(d)e:{var p=i;l=l.split(".");for(var m=0;m<l.length-1;m++){var C=l[m];if(!(C in p))break e;p=p[C]}l=l[l.length-1],m=p[l],d=d(m),d!=m&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var p=0,m=!1,C={next:function(){if(!m&&p<l.length){var M=p++;return{value:d(M,l[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(l){return l||function(){return s(this,function(d,p){return p})}});var o=o||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,p){return l.call.apply(l.bind,arguments)}function f(l,d,p){if(!l)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),l.apply(d,C)}}return function(){return l.apply(d,arguments)}}function g(l,d,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function _(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var m=p.slice();return m.push.apply(m,arguments),l.apply(this,m)}}function v(l,d){function p(){}p.prototype=d.prototype,l.aa=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(m,C,M){for(var k=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)k[Ne-2]=arguments[Ne];return d.prototype[C].apply(m,k)}}function S(l){let d=l.length;if(0<d){let p=Array(d);for(let m=0;m<d;m++)p[m]=l[m];return p}return[]}function A(l,d){for(let p=1;p<arguments.length;p++){let m=arguments[p];if(c(m)){let C=l.length||0,M=m.length||0;l.length=C+M;for(let k=0;k<M;k++)l[C+k]=m[k]}else l.push(m)}}class x{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(l){return/^[\s\xa0]*$/.test(l)}function L(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function W(l){return W[" "](l),l}W[" "]=function(){};var ge=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function q(l,d,p){for(let m in l)d.call(p,l[m],m,l)}function I(l,d){for(let p in l)d.call(void 0,l[p],p,l)}function y(l){let d={};for(let p in l)d[p]=l[p];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,d){let p,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(p in m)l[p]=m[p];for(let M=0;M<w.length;M++)p=w[M],Object.prototype.hasOwnProperty.call(m,p)&&(l[p]=m[p])}}function T(l){var d=1;l=l.split(":");let p=[];for(;0<d&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function R(l){a.setTimeout(()=>{throw l},0)}function b(){var l=pp;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class qn{constructor(){this.h=this.g=null}add(d,p){let m=ma.get();m.set(d,p),this.h?this.h.next=m:this.g=m,this.h=m}}var ma=new x(()=>new sx,l=>l.reset());class sx{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let _a,ya=!1,pp=new qn,Eb=()=>{let l=a.Promise.resolve(void 0);_a=()=>{l.then(ox)}};var ox=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(p){R(p)}var d=ma;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ya=!1};function Ni(){this.s=this.s,this.C=this.C}Ni.prototype.s=!1,Ni.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ni.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var ax=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return l}();function va(l,d){if(gt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,m=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(ge){e:{try{W(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:cx[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&va.aa.h.call(this)}}v(va,gt);var cx={2:"touch",3:"pen",4:"mouse"};va.prototype.h=function(){va.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var wa="closure_listenable_"+(1e6*Math.random()|0),lx=0;function ux(l,d,p,m,C){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!m,this.ha=C,this.key=++lx,this.da=this.fa=!1}function Vl(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ll(l){this.src=l,this.g={},this.h=0}Ll.prototype.add=function(l,d,p,m,C){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var k=mp(l,d,m,C);return-1<k?(d=l[k],p||(d.fa=!1)):(d=new ux(d,this.src,M,!!m,C),d.fa=p,l.push(d)),d};function gp(l,d){var p=d.type;if(p in l.g){var m=l.g[p],C=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=C)&&Array.prototype.splice.call(m,C,1),M&&(Vl(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function mp(l,d,p,m){for(var C=0;C<l.length;++C){var M=l[C];if(!M.da&&M.listener==d&&M.capture==!!p&&M.ha==m)return C}return-1}var _p="closure_lm_"+(1e6*Math.random()|0),yp={};function Ib(l,d,p,m,C){if(m&&m.once)return Tb(l,d,p,m,C);if(Array.isArray(d)){for(var M=0;M<d.length;M++)Ib(l,d[M],p,m,C);return null}return p=Ep(p),l&&l[wa]?l.K(d,p,u(m)?!!m.capture:!!m,C):Db(l,d,p,!1,m,C)}function Db(l,d,p,m,C,M){if(!d)throw Error("Invalid event type");var k=u(C)?!!C.capture:!!C,Ne=wp(l);if(Ne||(l[_p]=Ne=new Ll(l)),p=Ne.add(d,p,m,k,M),p.proxy)return p;if(m=dx(),p.proxy=m,m.src=l,m.listener=p,l.addEventListener)ax||(C=k),C===void 0&&(C=!1),l.addEventListener(d.toString(),m,C);else if(l.attachEvent)l.attachEvent(Sb(d.toString()),m);else if(l.addListener&&l.removeListener)l.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return p}function dx(){function l(p){return d.call(l.src,l.listener,p)}let d=hx;return l}function Tb(l,d,p,m,C){if(Array.isArray(d)){for(var M=0;M<d.length;M++)Tb(l,d[M],p,m,C);return null}return p=Ep(p),l&&l[wa]?l.L(d,p,u(m)?!!m.capture:!!m,C):Db(l,d,p,!0,m,C)}function Cb(l,d,p,m,C){if(Array.isArray(d))for(var M=0;M<d.length;M++)Cb(l,d[M],p,m,C);else m=u(m)?!!m.capture:!!m,p=Ep(p),l&&l[wa]?(l=l.i,d=String(d).toString(),d in l.g&&(M=l.g[d],p=mp(M,p,m,C),-1<p&&(Vl(M[p]),Array.prototype.splice.call(M,p,1),M.length==0&&(delete l.g[d],l.h--)))):l&&(l=wp(l))&&(d=l.g[d.toString()],l=-1,d&&(l=mp(d,p,m,C)),(p=-1<l?d[l]:null)&&vp(p))}function vp(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[wa])gp(d.i,l);else{var p=l.type,m=l.proxy;d.removeEventListener?d.removeEventListener(p,m,l.capture):d.detachEvent?d.detachEvent(Sb(p),m):d.addListener&&d.removeListener&&d.removeListener(m),(p=wp(d))?(gp(p,l),p.h==0&&(p.src=null,d[_p]=null)):Vl(l)}}}function Sb(l){return l in yp?yp[l]:yp[l]="on"+l}function hx(l,d){if(l.da)l=!0;else{d=new va(d,this);var p=l.listener,m=l.ha||l.src;l.fa&&vp(l),l=p.call(m,d)}return l}function wp(l){return l=l[_p],l instanceof Ll?l:null}var bp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ep(l){return typeof l=="function"?l:(l[bp]||(l[bp]=function(d){return l.handleEvent(d)}),l[bp])}function mt(){Ni.call(this),this.i=new Ll(this),this.M=this,this.F=null}v(mt,Ni),mt.prototype[wa]=!0,mt.prototype.removeEventListener=function(l,d,p,m){Cb(this,l,d,p,m)};function St(l,d){var p,m=l.F;if(m)for(p=[];m;m=m.F)p.push(m);if(l=l.M,m=d.type||d,typeof d=="string")d=new gt(d,l);else if(d instanceof gt)d.target=d.target||l;else{var C=d;d=new gt(m,l),D(d,C)}if(C=!0,p)for(var M=p.length-1;0<=M;M--){var k=d.g=p[M];C=Bl(k,m,!0,d)&&C}if(k=d.g=l,C=Bl(k,m,!0,d)&&C,C=Bl(k,m,!1,d)&&C,p)for(M=0;M<p.length;M++)k=d.g=p[M],C=Bl(k,m,!1,d)&&C}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var p=l.g[d],m=0;m<p.length;m++)Vl(p[m]);delete l.g[d],l.h--}}this.F=null},mt.prototype.K=function(l,d,p,m){return this.i.add(String(l),d,!1,p,m)},mt.prototype.L=function(l,d,p,m){return this.i.add(String(l),d,!0,p,m)};function Bl(l,d,p,m){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,M=0;M<d.length;++M){var k=d[M];if(k&&!k.da&&k.capture==p){var Ne=k.listener,at=k.ha||k.src;k.fa&&gp(l.i,k),C=Ne.call(at,m)!==!1&&C}}return C&&!m.defaultPrevented}function Ab(l,d,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function Rb(l){l.g=Ab(()=>{l.g=null,l.i&&(l.i=!1,Rb(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class fx extends Ni{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Rb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ba(l){Ni.call(this),this.h=l,this.g={}}v(ba,Ni);var Mb=[];function Nb(l){q(l.g,function(d,p){this.g.hasOwnProperty(p)&&vp(d)},l),l.g={}}ba.prototype.N=function(){ba.aa.N.call(this),Nb(this)},ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ip=a.JSON.stringify,px=a.JSON.parse,gx=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Dp(){}Dp.prototype.h=null;function xb(l){return l.h||(l.h=l.i())}function Ob(){}var Ea={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tp(){gt.call(this,"d")}v(Tp,gt);function Cp(){gt.call(this,"c")}v(Cp,gt);var Tr={},Pb=null;function jl(){return Pb=Pb||new mt}Tr.La="serverreachability";function kb(l){gt.call(this,Tr.La,l)}v(kb,gt);function Ia(l){let d=jl();St(d,new kb(d))}Tr.STAT_EVENT="statevent";function Fb(l,d){gt.call(this,Tr.STAT_EVENT,l),this.stat=d}v(Fb,gt);function At(l){let d=jl();St(d,new Fb(d,l))}Tr.Ma="timingevent";function Vb(l,d){gt.call(this,Tr.Ma,l),this.size=d}v(Vb,gt);function Da(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Ta(){this.g=!0}Ta.prototype.xa=function(){this.g=!1};function mx(l,d,p,m,C,M){l.info(function(){if(l.g)if(M)for(var k="",Ne=M.split("&"),at=0;at<Ne.length;at++){var De=Ne[at].split("=");if(1<De.length){var _t=De[0];De=De[1];var yt=_t.split("_");k=2<=yt.length&&yt[1]=="type"?k+(_t+"="+De+"&"):k+(_t+"=redacted&")}}else k=null;else k=M;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+p+`
`+k})}function _x(l,d,p,m,C,M,k){l.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+p+`
`+M+" "+k})}function As(l,d,p,m){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+vx(l,p)+(m?" "+m:"")})}function yx(l,d){l.info(function(){return"TIMEOUT: "+d})}Ta.prototype.info=function(){};function vx(l,d){if(!l.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var m=p[l];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var M=C[0];if(M!="noop"&&M!="stop"&&M!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return Ip(p)}catch{return d}}var Ul={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sp;function $l(){}v($l,Dp),$l.prototype.g=function(){return new XMLHttpRequest},$l.prototype.i=function(){return{}},Sp=new $l;function xi(l,d,p,m){this.j=l,this.i=d,this.l=p,this.R=m||1,this.U=new ba(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bb}function Bb(){this.i=null,this.g="",this.h=!1}var jb={},Ap={};function Rp(l,d,p){l.L=1,l.v=ql(Wn(d)),l.m=p,l.P=!0,Ub(l,null)}function Ub(l,d){l.F=Date.now(),Hl(l),l.A=Wn(l.v);var p=l.A,m=l.R;Array.isArray(m)||(m=[String(m)]),tE(p.i,"t",m),l.C=0,p=l.j.J,l.h=new Bb,l.g=vE(l.j,p?d:null,!l.m),0<l.O&&(l.M=new fx(g(l.Y,l,l.g),l.O)),d=l.U,p=l.g,m=l.ca;var C="readystatechange";Array.isArray(C)||(C&&(Mb[0]=C.toString()),C=Mb);for(var M=0;M<C.length;M++){var k=Ib(p,C[M],m||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Ia(),mx(l.i,l.u,l.A,l.l,l.R,l.m)}xi.prototype.ca=function(l){l=l.target;let d=this.M;d&&Kn(l)==3?d.j():this.Y(l)},xi.prototype.Y=function(l){try{if(l==this.g)e:{let yt=Kn(this.g);var d=this.g.Ba();let Ns=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||cE(this.g)))){this.J||yt!=4||d==7||(d==8||0>=Ns?Ia(3):Ia(2)),Mp(this);var p=this.g.Z();this.X=p;t:if($b(this)){var m=cE(this.g);l="";var C=m.length,M=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),Ca(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,l+=this.h.i.decode(m[d],{stream:!(M&&d==C-1)});m.length=0,this.h.g+=l,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=p==200,_x(this.i,this.u,this.A,this.l,this.R,yt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,at=this.g;if((Ne=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ne)){var De=Ne;break t}}De=null}if(p=De)As(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Np(this,p);else{this.o=!1,this.s=3,At(12),Cr(this),Ca(this);break e}}if(this.P){p=!0;let an;for(;!this.J&&this.C<k.length;)if(an=wx(this,k),an==Ap){yt==4&&(this.s=4,At(14),p=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(an==jb){this.s=4,At(15),As(this.i,this.l,k,"[Invalid Chunk]"),p=!1;break}else As(this.i,this.l,an,null),Np(this,an);if($b(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||k.length!=0||this.h.h||(this.s=1,At(16),p=!1),this.o=this.o&&p,!p)As(this.i,this.l,k,"[Invalid Chunked Response]"),Cr(this),Ca(this);else if(0<k.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Vp(_t),_t.M=!0,At(11))}}else As(this.i,this.l,k,null),Np(this,k);yt==4&&Cr(this),this.o&&!this.J&&(yt==4?gE(this.j,this):(this.o=!1,Hl(this)))}else Vx(this.g),p==400&&0<k.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Cr(this),Ca(this)}}}catch{}finally{}};function $b(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function wx(l,d){var p=l.C,m=d.indexOf(`
`,p);return m==-1?Ap:(p=Number(d.substring(p,m)),isNaN(p)?jb:(m+=1,m+p>d.length?Ap:(d=d.slice(m,m+p),l.C=m+p,d)))}xi.prototype.cancel=function(){this.J=!0,Cr(this)};function Hl(l){l.S=Date.now()+l.I,Hb(l,l.I)}function Hb(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Da(g(l.ba,l),d)}function Mp(l){l.B&&(a.clearTimeout(l.B),l.B=null)}xi.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(yx(this.i,this.A),this.L!=2&&(Ia(),At(17)),Cr(this),this.s=2,Ca(this)):Hb(this,this.S-l)};function Ca(l){l.j.G==0||l.J||gE(l.j,l)}function Cr(l){Mp(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Nb(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Np(l,d){try{var p=l.j;if(p.G!=0&&(p.g==l||xp(p.h,l))){if(!l.K&&xp(p.h,l)&&p.G==3){try{var m=p.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Yl(p),Ql(p);else break e;Fp(p),At(18)}}else p.za=C[1],0<p.za-p.T&&37500>C[2]&&p.F&&p.v==0&&!p.C&&(p.C=Da(g(p.Za,p),6e3));if(1>=qb(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ar(p,11)}else if((l.K||p.g==l)&&Yl(p),!V(d))for(C=p.Da.g.parse(d),d=0;d<C.length;d++){let De=C[d];if(p.T=De[0],De=De[1],p.G==2)if(De[0]=="c"){p.K=De[1],p.ia=De[2];let _t=De[3];_t!=null&&(p.la=_t,p.j.info("VER="+p.la));let yt=De[4];yt!=null&&(p.Aa=yt,p.j.info("SVER="+p.Aa));let Ns=De[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(m=1.5*Ns,p.L=m,p.j.info("backChannelRequestTimeoutMs_="+m)),m=p;let an=l.g;if(an){let Xl=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xl){var M=m.h;M.g||Xl.indexOf("spdy")==-1&&Xl.indexOf("quic")==-1&&Xl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Op(M,M.h),M.h=null))}if(m.D){let Lp=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Lp&&(m.ya=Lp,Fe(m.I,m.D,Lp))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),m=p;var k=l;if(m.qa=yE(m,m.J?m.ia:null,m.W),k.K){Wb(m.h,k);var Ne=k,at=m.L;at&&(Ne.I=at),Ne.B&&(Mp(Ne),Hl(Ne)),m.g=k}else fE(m);0<p.i.length&&Jl(p)}else De[0]!="stop"&&De[0]!="close"||Ar(p,7);else p.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Ar(p,7):kp(p):De[0]!="noop"&&p.l&&p.l.ta(De),p.v=0)}}Ia(4)}catch{}}var bx=class{constructor(l,d){this.g=l,this.map=d}};function Gb(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zb(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function qb(l){return l.h?1:l.g?l.g.size:0}function xp(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Op(l,d){l.g?l.g.add(d):l.h=d}function Wb(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Gb.prototype.cancel=function(){if(this.i=Kb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Kb(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let p of l.g.values())d=d.concat(p.D);return d}return S(l.i)}function Ex(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],p=l.length,m=0;m<p;m++)d.push(l[m]);return d}d=[],p=0;for(m in l)d[p++]=l[m];return d}function Ix(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var p=0;p<l;p++)d.push(p);return d}d=[],p=0;for(let m in l)d[p++]=m;return d}}}function Qb(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var p=Ix(l),m=Ex(l),C=m.length,M=0;M<C;M++)d.call(void 0,m[M],p&&p[M],l)}var Jb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dx(l,d){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var m=l[p].indexOf("="),C=null;if(0<=m){var M=l[p].substring(0,m);C=l[p].substring(m+1)}else M=l[p];d(M,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Sr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Sr){this.h=l.h,Gl(this,l.j),this.o=l.o,this.g=l.g,zl(this,l.s),this.l=l.l;var d=l.i,p=new Ra;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Yb(this,p),this.m=l.m}else l&&(d=String(l).match(Jb))?(this.h=!1,Gl(this,d[1]||"",!0),this.o=Sa(d[2]||""),this.g=Sa(d[3]||"",!0),zl(this,d[4]),this.l=Sa(d[5]||"",!0),Yb(this,d[6]||"",!0),this.m=Sa(d[7]||"")):(this.h=!1,this.i=new Ra(null,this.h))}Sr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Aa(d,Zb,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Aa(d,Zb,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Aa(p,p.charAt(0)=="/"?Sx:Cx,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Aa(p,Rx)),l.join("")};function Wn(l){return new Sr(l)}function Gl(l,d,p){l.j=p?Sa(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function zl(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Yb(l,d,p){d instanceof Ra?(l.i=d,Mx(l.i,l.h)):(p||(d=Aa(d,Ax)),l.i=new Ra(d,l.h))}function Fe(l,d,p){l.i.set(d,p)}function ql(l){return Fe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Sa(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Aa(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,Tx),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Tx(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Zb=/[#\/\?@]/g,Cx=/[#\?:]/g,Sx=/[#\?]/g,Ax=/[#\?@]/g,Rx=/#/g;function Ra(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Oi(l){l.g||(l.g=new Map,l.h=0,l.i&&Dx(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}n=Ra.prototype,n.add=function(l,d){Oi(this),this.i=null,l=Rs(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function Xb(l,d){Oi(l),d=Rs(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function eE(l,d){return Oi(l),d=Rs(l,d),l.g.has(d)}n.forEach=function(l,d){Oi(this),this.g.forEach(function(p,m){p.forEach(function(C){l.call(d,C,m,this)},this)},this)},n.na=function(){Oi(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let m=0;m<d.length;m++){let C=l[m];for(let M=0;M<C.length;M++)p.push(d[m])}return p},n.V=function(l){Oi(this);let d=[];if(typeof l=="string")eE(this,l)&&(d=d.concat(this.g.get(Rs(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)d=d.concat(l[p])}return d},n.set=function(l,d){return Oi(this),this.i=null,l=Rs(this,l),eE(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},n.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function tE(l,d,p){Xb(l,d),0<p.length&&(l.i=null,l.g.set(Rs(l,d),S(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var m=d[p];let M=encodeURIComponent(String(m)),k=this.V(m);for(m=0;m<k.length;m++){var C=M;k[m]!==""&&(C+="="+encodeURIComponent(String(k[m]))),l.push(C)}}return this.i=l.join("&")};function Rs(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Mx(l,d){d&&!l.j&&(Oi(l),l.i=null,l.g.forEach(function(p,m){var C=m.toLowerCase();m!=C&&(Xb(this,m),tE(this,C,p))},l)),l.j=d}function Nx(l,d){let p=new Ta;if(a.Image){let m=new Image;m.onload=_(Pi,p,"TestLoadImage: loaded",!0,d,m),m.onerror=_(Pi,p,"TestLoadImage: error",!1,d,m),m.onabort=_(Pi,p,"TestLoadImage: abort",!1,d,m),m.ontimeout=_(Pi,p,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=l}else d(!1)}function xx(l,d){let p=new Ta,m=new AbortController,C=setTimeout(()=>{m.abort(),Pi(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:m.signal}).then(M=>{clearTimeout(C),M.ok?Pi(p,"TestPingServer: ok",!0,d):Pi(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Pi(p,"TestPingServer: error",!1,d)})}function Pi(l,d,p,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(p)}catch{}}function Ox(){this.g=new gx}function Px(l,d,p){let m=p||"";try{Qb(l,function(C,M){let k=C;u(C)&&(k=Ip(C)),d.push(m+M+"="+encodeURIComponent(k))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Ma(l){this.l=l.Ub||null,this.j=l.eb||!1}v(Ma,Dp),Ma.prototype.g=function(){return new Wl(this.l,this.j)},Ma.prototype.i=function(l){return function(){return l}}({});function Wl(l,d){mt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Wl,mt),n=Wl.prototype,n.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,xa(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Na(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nE(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function nE(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Na(this):xa(this),this.readyState==3&&nE(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Na(this))},n.Qa=function(l){this.g&&(this.response=l,Na(this))},n.ga=function(){this.g&&Na(this)};function Na(l){l.readyState=4,l.l=null,l.j=null,l.v=null,xa(l)}n.setRequestHeader=function(l,d){this.u.append(l,d)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join(`\r
`)};function xa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function iE(l){let d="";return q(l,function(p,m){d+=m,d+=":",d+=p,d+=`\r
`}),d}function Pp(l,d,p){e:{for(m in p){var m=!1;break e}m=!0}m||(p=iE(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Fe(l,d,p))}function Ue(l){mt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ue,mt);var kx=/^https?$/i,Fx=["POST","PUT"];n=Ue.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,d,p,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sp.g(),this.v=this.o?xb(this.o):xb(Sp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(M){rE(this,M);return}if(l=p||"",p=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)p.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())p.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),C=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Fx,d,void 0))||m||C||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,k]of p)this.g.setRequestHeader(M,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aE(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){rE(this,M)}};function rE(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,sE(l),Kl(l)}function sE(l){l.A||(l.A=!0,St(l,"complete"),St(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,St(this,"complete"),St(this,"abort"),Kl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kl(this,!0)),Ue.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?oE(this):this.bb())},n.bb=function(){oE(this)};function oE(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Kn(l)!=4||l.Z()!=2)){if(l.u&&Kn(l)==4)Ab(l.Ea,0,l);else if(St(l,"readystatechange"),Kn(l)==4){l.h=!1;try{let k=l.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var m;if(m=k===0){var C=String(l.D).match(Jb)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!kx.test(C?C.toLowerCase():"")}p=m}if(p)St(l,"complete"),St(l,"success");else{l.m=6;try{var M=2<Kn(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",sE(l)}}finally{Kl(l)}}}}function Kl(l,d){if(l.g){aE(l);let p=l.g,m=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||St(l,"ready");try{p.onreadystatechange=m}catch{}}}function aE(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Kn(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),px(d)}};function cE(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Vx(l){let d={};l=(l.g&&2<=Kn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<l.length;m++){if(V(l[m]))continue;var p=T(l[m]);let C=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let M=d[C]||[];d[C]=M,M.push(p)}I(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function lE(l){this.Aa=0,this.i=[],this.j=new Ta,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,l),this.cb=Oa("retryDelaySeedMs",1e4,l),this.Wa=Oa("forwardChannelMaxRetries",2,l),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Gb(l&&l.concurrentRequestLimit),this.Da=new Ox,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=lE.prototype,n.la=8,n.G=1,n.connect=function(l,d,p,m){At(0),this.W=l,this.H=d||{},p&&m!==void 0&&(this.H.OSID=p,this.H.OAID=m),this.F=this.X,this.I=yE(this,null,this.W),Jl(this)};function kp(l){if(uE(l),l.G==3){var d=l.U++,p=Wn(l.I);if(Fe(p,"SID",l.K),Fe(p,"RID",d),Fe(p,"TYPE","terminate"),Pa(l,p),d=new xi(l,l.j,d),d.L=2,d.v=ql(Wn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=vE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Hl(d)}_E(l)}function Ql(l){l.g&&(Vp(l),l.g.cancel(),l.g=null)}function uE(l){Ql(l),l.u&&(a.clearTimeout(l.u),l.u=null),Yl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Jl(l){if(!zb(l.h)&&!l.s){l.s=!0;var d=l.Ga;_a||Eb(),ya||(_a(),ya=!0),pp.add(d,l),l.B=0}}function Lx(l,d){return qb(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Da(g(l.Ga,l,d),mE(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let C=new xi(this,this.j,l),M=this.o;if(this.S&&(M?(M=y(M),D(M,this.S)):M=this.S),this.m!==null||this.O||(C.H=M,M=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var m=this.i[p];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=hE(this,C,d),p=Wn(this.I),Fe(p,"RID",l),Fe(p,"CVER",22),this.D&&Fe(p,"X-HTTP-Session-Id",this.D),Pa(this,p),M&&(this.O?d="headers="+encodeURIComponent(String(iE(M)))+"&"+d:this.m&&Pp(p,this.m,M)),Op(this.h,C),this.Ua&&Fe(p,"TYPE","init"),this.P?(Fe(p,"$req",d),Fe(p,"SID","null"),C.T=!0,Rp(C,p,null)):Rp(C,p,d),this.G=2}}else this.G==3&&(l?dE(this,l):this.i.length==0||zb(this.h)||dE(this))};function dE(l,d){var p;d?p=d.l:p=l.U++;let m=Wn(l.I);Fe(m,"SID",l.K),Fe(m,"RID",p),Fe(m,"AID",l.T),Pa(l,m),l.m&&l.o&&Pp(m,l.m,l.o),p=new xi(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),d&&(l.i=d.D.concat(l.i)),d=hE(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Op(l.h,p),Rp(p,m,d)}function Pa(l,d){l.H&&q(l.H,function(p,m){Fe(d,m,p)}),l.l&&Qb({},function(p,m){Fe(d,m,p)})}function hE(l,d,p){p=Math.min(l.i.length,p);var m=l.l?g(l.l.Na,l.l,l):null;e:{var C=l.i;let M=-1;for(;;){let k=["count="+p];M==-1?0<p?(M=C[0].g,k.push("ofs="+M)):M=0:k.push("ofs="+M);let Ne=!0;for(let at=0;at<p;at++){let De=C[at].g,_t=C[at].map;if(De-=M,0>De)M=Math.max(0,C[at].g-100),Ne=!1;else try{Px(_t,k,"req"+De+"_")}catch{m&&m(_t)}}if(Ne){m=k.join("&");break e}}}return l=l.i.splice(0,p),d.D=l,m}function fE(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;_a||Eb(),ya||(_a(),ya=!0),pp.add(d,l),l.v=0}}function Fp(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Da(g(l.Fa,l),mE(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,pE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Da(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Ql(this),pE(this))};function Vp(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function pE(l){l.g=new xi(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Wn(l.qa);Fe(d,"RID","rpc"),Fe(d,"SID",l.K),Fe(d,"AID",l.T),Fe(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Fe(d,"TO",l.ja),Fe(d,"TYPE","xmlhttp"),Pa(l,d),l.m&&l.o&&Pp(d,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=ql(Wn(d)),p.m=null,p.P=!0,Ub(p,l)}n.Za=function(){this.C!=null&&(this.C=null,Ql(this),Fp(this),At(19))};function Yl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function gE(l,d){var p=null;if(l.g==d){Yl(l),Vp(l),l.g=null;var m=2}else if(xp(l.h,d))p=d.D,Wb(l.h,d),m=1;else return;if(l.G!=0){if(d.o)if(m==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var C=l.B;m=jl(),St(m,new Vb(m,p)),Jl(l)}else fE(l);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&Lx(l,d)||m==2&&Fp(l)))switch(p&&0<p.length&&(d=l.h,d.i=d.i.concat(p)),C){case 1:Ar(l,5);break;case 4:Ar(l,10);break;case 3:Ar(l,6);break;default:Ar(l,2)}}}function mE(l,d){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*d}function Ar(l,d){if(l.j.info("Error code "+d),d==2){var p=g(l.fb,l),m=l.Xa;let C=!m;m=new Sr(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gl(m,"https"),ql(m),C?Nx(m.toString(),p):xx(m.toString(),p)}else At(2);l.G=0,l.l&&l.l.sa(d),_E(l),uE(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function _E(l){if(l.G=0,l.ka=[],l.l){let d=Kb(l.h);(d.length!=0||l.i.length!=0)&&(A(l.ka,d),A(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function yE(l,d,p){var m=p instanceof Sr?Wn(p):new Sr(p);if(m.g!="")d&&(m.g=d+"."+m.g),zl(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var M=new Sr(null);m&&Gl(M,m),d&&(M.g=d),C&&zl(M,C),p&&(M.l=p),m=M}return p=l.D,d=l.ya,p&&d&&Fe(m,p,d),Fe(m,"VER",l.la),Pa(l,m),m}function vE(l,d,p){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ue(new Ma({eb:p})):new Ue(l.pa),d.Ha(l.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wE(){}n=wE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Zl(){}Zl.prototype.g=function(l,d){return new jt(l,d)};function jt(l,d){mt.call(this),this.g=new lE(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!V(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Ms(this)}v(jt,mt),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){kp(this.g)},jt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Ip(l),l=p);d.i.push(new bx(d.Ya++,l)),d.G==3&&Jl(d)},jt.prototype.N=function(){this.g.l=null,delete this.j,kp(this.g),delete this.g,jt.aa.N.call(this)};function bE(l){Tp.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}v(bE,Tp);function EE(){Cp.call(this),this.status=1}v(EE,Cp);function Ms(l){this.g=l}v(Ms,wE),Ms.prototype.ua=function(){St(this.g,"a")},Ms.prototype.ta=function(l){St(this.g,new bE(l))},Ms.prototype.sa=function(l){St(this.g,new EE)},Ms.prototype.ra=function(){St(this.g,"b")},Zl.prototype.createWebChannel=Zl.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,qv=Ci.createWebChannelTransport=function(){return new Zl},zv=Ci.getStatEventTarget=function(){return jl()},Gv=Ci.Event=Tr,tf=Ci.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ul.NO_ERROR=0,Ul.TIMEOUT=8,Ul.HTTP_ERROR=6,cl=Ci.ErrorCode=Ul,Lb.COMPLETE="complete",Hv=Ci.EventType=Lb,Ob.EventType=Ea,Ea.OPEN="a",Ea.CLOSE="b",Ea.ERROR="c",Ea.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Uo=Ci.WebChannel=Ob,n3=Ci.FetchXmlHttpFactory=Ma,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,$v=Ci.XhrIo=Ue}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});var aR="@firebase/firestore";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var aa="10.14.0";var ms=new cr("@firebase/firestore");function ll(){return ms.logLevel}function G(n,...e){if(ms.logLevel<=ve.DEBUG){let t=e.map(Mw);ms.debug(`Firestore (${aa}): ${n}`,...t)}}function Si(n,...e){if(ms.logLevel<=ve.ERROR){let t=e.map(Mw);ms.error(`Firestore (${aa}): ${n}`,...t)}}function Ko(n,...e){if(ms.logLevel<=ve.WARN){let t=e.map(Mw);ms.warn(`Firestore (${aa}): ${n}`,...t)}}function Mw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ne(n="Unexpected state"){let e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+n;throw Si(e),new Error(e)}function Me(n,e){n||ne()}function oe(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Wt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Un=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var af=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Yv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ot.UNAUTHENTICATED))}shutdown(){}},Zv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Xv=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0);let i=this.i,r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),s=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Un,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Un)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Me(typeof i.accessToken=="string"),new af(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new ot(e)}},e0=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},t0=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new e0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},n0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},i0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Me(this.o===void 0);let i=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string"),this.R=t.token,new n0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function i3(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var cf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=i3(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function Te(n,e){return n<e?-1:n>e?1:0}function Qo(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var pt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new U(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var le=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new pt(0,0))}static max(){return new n(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lf=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ne(),i===void 0?i=e.length-t:i>e.length-t&&ne(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},je=class n extends lf{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new U(O.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},r3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class n extends lf{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return r3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new U(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new U(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new U(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new U(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(je.fromString(e))}static fromName(e){return new n(je.fromString(e).popFirst(5))}static empty(){return new n(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new je(e.slice()))}};var r0=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};r0.UNKNOWN_ID=-1;function s3(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=le.fromTimestamp(i===1e9?new pt(t+1,0):new pt(t,i));return new _s(r,K.empty(),e)}function o3(n){return new _s(n.readTime,n.key,-1)}var _s=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(le.min(),K.empty(),-1)}static max(){return new n(le.max(),K.empty(),-1)}};function a3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:Te(n.largestBatchId,e.largestBatchId))}var c3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",s0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Sl(n){return E(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==c3)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},c=>i(c))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;t(e[u]).next(h=>{o[u]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function l3(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Al(n){return n.name==="IndexedDbTransactionError"}var $R=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Bf(n){return n==null}function gl(n){return n===0&&1/n==-1/0}function u3(n){return typeof n=="number"&&Number.isInteger(n)&&!gl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var d3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tX=[...d3,"documentOverlays"],h3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],f3=h3,p3=[...f3,"indexConfiguration","indexState","indexEntries"];var nX=[...p3,"globals"];function cR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ca(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ze=class n{constructor(e,t){this.comparator=e,this.root=t||$n.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zo(this.root,e,this.comparator,!1)}getReverseIterator(){return new zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zo(this.root,e,this.comparator,!0)}},zo=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$n=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,t,i,r,s){return this}insert(e,t,i){return new $n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Tt=class n{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uf(this.data.getIterator())}getIteratorFrom(e){return new uf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},uf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var jn=class n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Tt(Qt.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var df=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ct=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new df("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ct.EMPTY_BYTE_STRING=new Ct("");var g3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(n){if(Me(!!n),typeof n=="string"){let e=0,t=g3.exec(n);if(Me(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Le(n.seconds),nanos:Le(n.nanos)}}function Le(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vr(n){return typeof n=="string"?Ct.fromBase64String(n):Ct.fromUint8Array(n)}function Nw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function xw(n){let e=n.mapValue.fields.__previous_value__;return Nw(e)?xw(e):e}function ml(n){let e=Ai(n.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}var o0=class{constructor(e,t,i,r,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},hf=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var nf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nw(n)?4:zR(n)?9007199254740991:GR(n)?10:11:ne()}function zn(n,e){if(n===e)return!0;let t=ys(n);if(t!==ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ml(n).isEqual(ml(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Ai(r.timestampValue),a=Ai(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return vr(r.bytesValue).isEqual(vr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Le(r.geoPointValue.latitude)===Le(s.geoPointValue.latitude)&&Le(r.geoPointValue.longitude)===Le(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Le(r.integerValue)===Le(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Le(r.doubleValue),a=Le(s.doubleValue);return o===a?gl(o)===gl(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Qo(n.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(cR(o)!==cR(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!zn(o[c],a[c])))return!1;return!0}(n,e);default:return ne()}}function _l(n,e){return(n.values||[]).find(t=>zn(t,e))!==void 0}function Jo(n,e){if(n===e)return 0;let t=ys(n),i=ys(e);if(t!==i)return Te(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Le(s.integerValue||s.doubleValue),c=Le(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return lR(n.timestampValue,e.timestampValue);case 4:return lR(ml(n),ml(e));case 5:return Te(n.stringValue,e.stringValue);case 6:return function(s,o){let a=vr(s),c=vr(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let h=Te(a[u],c[u]);if(h!==0)return h}return Te(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Te(Le(s.latitude),Le(o.latitude));return a!==0?a:Te(Le(s.longitude),Le(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return uR(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,h;let f=s.fields||{},g=o.fields||{},_=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(c=g.value)===null||c===void 0?void 0:c.arrayValue,S=Te(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((h=v?.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:uR(_,v)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===nf.mapValue&&o===nf.mapValue)return 0;if(s===nf.mapValue)return 1;if(o===nf.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){let g=Te(c[f],h[f]);if(g!==0)return g;let _=Jo(a[c[f]],u[h[f]]);if(_!==0)return _}return Te(c.length,h.length)}(n.mapValue,e.mapValue);default:throw ne()}}function lR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let t=Ai(n),i=Ai(e),r=Te(t.seconds,i.seconds);return r!==0?r:Te(t.nanos,i.nanos)}function uR(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=Jo(t[r],i[r]);if(s)return s}return Te(t.length,i.length)}function Yo(n){return a0(n)}function a0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Ai(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return vr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=a0(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${a0(t.fields[o])}`;return r+"}"}(n.mapValue):ne()}function dR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function c0(n){return!!n&&"integerValue"in n}function Ow(n){return!!n&&"arrayValue"in n}function hR(n){return!!n&&"nullValue"in n}function fR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sf(n){return!!n&&"mapValue"in n}function GR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function dl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ca(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=dl(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var _n=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!sf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(t)}setAll(e){let t=Qt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=dl(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());sf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];sf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ca(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(dl(this.value))}};function qR(n){let e=[];return ca(n.fields,(t,i)=>{let r=new Qt([t]);if(sf(i)){let s=qR(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new jn(e)}var yn=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,le.min(),le.min(),le.min(),_n.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,le.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,le.min(),le.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,le.min(),le.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Zo=class{constructor(e,t){this.position=e,this.inclusive=t}};function pR(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=K.comparator(K.fromName(o.referenceValue),t.key):i=Jo(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function gR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zn(n.position[t],e.position[t]))return!1;return!0}var Xo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function m3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ff=class{},Je=class n extends ff{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new u0(e,t,i):t==="array-contains"?new f0(e,i):t==="in"?new p0(e,i):t==="not-in"?new g0(e,i):t==="array-contains-any"?new m0(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new d0(e,i):new h0(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Jo(t,this.value)):t!==null&&ys(this.value)===ys(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},vn=class n extends ff{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return WR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function WR(n){return n.op==="and"}function KR(n){return _3(n)&&WR(n)}function _3(n){for(let e of n.filters)if(e instanceof vn)return!1;return!0}function l0(n){if(n instanceof Je)return n.field.canonicalString()+n.op.toString()+Yo(n.value);if(KR(n))return n.filters.map(e=>l0(e)).join(",");{let e=n.filters.map(t=>l0(t)).join(",");return`${n.op}(${e})`}}function QR(n,e){return n instanceof Je?function(i,r){return r instanceof Je&&i.op===r.op&&i.field.isEqual(r.field)&&zn(i.value,r.value)}(n,e):n instanceof vn?function(i,r){return r instanceof vn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&QR(o,r.filters[a]),!0):!1}(n,e):void ne()}function JR(n){return n instanceof Je?function(t){return`${t.field.canonicalString()} ${t.op} ${Yo(t.value)}`}(n):n instanceof vn?function(t){return t.op.toString()+" {"+t.getFilters().map(JR).join(" ,")+"}"}(n):"Filter"}var u0=class extends Je{constructor(e,t,i){super(e,t,i),this.key=K.fromName(i.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},d0=class extends Je{constructor(e,t){super(e,"in",t),this.keys=YR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},h0=class extends Je{constructor(e,t){super(e,"not-in",t),this.keys=YR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function YR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>K.fromName(i.referenceValue))}var f0=class extends Je{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Ow(t)&&_l(t.arrayValue,this.value)}},p0=class extends Je{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&_l(this.value.arrayValue,t)}},g0=class extends Je{constructor(e,t){super(e,"not-in",t)}matches(e){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!_l(this.value.arrayValue,t)}},m0=class extends Je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Ow(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>_l(this.value.arrayValue,i))}};var _0=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function mR(n,e=null,t=[],i=[],r=null,s=null,o=null){return new _0(n,e,t,i,r,s,o)}function Pw(n){let e=oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>l0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yo(i)).join(",")),e.ue=t}return e.ue}function kw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!m3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gR(n.startAt,e.startAt)&&gR(n.endAt,e.endAt)}function y0(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var vs=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function y3(n,e,t,i,r,s,o,a){return new vs(n,e,t,i,r,s,o,a)}function jf(n){return new vs(n)}function _R(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ZR(n){return n.collectionGroup!==null}function hl(n){let e=oe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(Qt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xo(s,i))}),t.has(Qt.keyField().canonicalString())||e.ce.push(new Xo(Qt.keyField(),i))}return e.ce}function Hn(n){let e=oe(n);return e.le||(e.le=v3(e,hl(n))),e.le}function v3(n,e){if(n.limitType==="F")return mR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Xo(r.field,s)});let t=n.endAt?new Zo(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Zo(n.startAt.position,n.startAt.inclusive):null;return mR(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function v0(n,e){let t=n.filters.concat([e]);return new vs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function w0(n,e,t){return new vs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Uf(n,e){return kw(Hn(n),Hn(e))&&n.limitType===e.limitType}function XR(n){return`${Pw(Hn(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>JR(r)).join(", ")}]`),Bf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Yo(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Yo(r)).join(",")),`Target(${i})`}(Hn(n))}; limitType=${n.limitType})`}function $f(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):K.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of hl(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let u=pR(o,a,c);return o.inclusive?u<=0:u<0}(i.startAt,hl(i),r)||i.endAt&&!function(o,a,c){let u=pR(o,a,c);return o.inclusive?u>=0:u>0}(i.endAt,hl(i),r))}(n,e)}function w3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eM(n){return(e,t)=>{let i=!1;for(let r of hl(n)){let s=b3(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function b3(n,e,t){let i=n.field.isKeyField()?K.comparator(e.key,t.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Jo(c,u):ne()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ne()}}var wr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return HR(this.inner)}size(){return this.innerSize}};var E3=new ze(K.comparator);function Ri(){return E3}var tM=new ze(K.comparator);function ul(...n){let e=tM;for(let t of n)e=e.insert(t.key,t);return e}function nM(n){let e=tM;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function hs(){return fl()}function iM(){return fl()}function fl(){return new wr(n=>n.toString(),(n,e)=>n.isEqual(e))}var I3=new ze(K.comparator),D3=new Tt(K.comparator);function we(...n){let e=D3;for(let t of n)e=e.add(t);return e}var T3=new Tt(Te);function C3(){return T3}function Fw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gl(e)?"-0":e}}function rM(n){return{integerValue:""+n}}function S3(n,e){return u3(e)?rM(e):Fw(n,e)}var ea=class{constructor(){this._=void 0}};function A3(n,e,t){return n instanceof ta?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Nw(s)&&(s=xw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof ws?oM(n,e):n instanceof bs?aM(n,e):function(r,s){let o=sM(r,s),a=yR(o)+yR(r.Pe);return c0(o)&&c0(r.Pe)?rM(a):Fw(r.serializer,a)}(n,e)}function R3(n,e,t){return n instanceof ws?oM(n,e):n instanceof bs?aM(n,e):t}function sM(n,e){return n instanceof na?function(i){return c0(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var ta=class extends ea{},ws=class extends ea{constructor(e){super(),this.elements=e}};function oM(n,e){let t=cM(e);for(let i of n.elements)t.some(r=>zn(r,i))||t.push(i);return{arrayValue:{values:t}}}var bs=class extends ea{constructor(e){super(),this.elements=e}};function aM(n,e){let t=cM(e);for(let i of n.elements)t=t.filter(r=>!zn(r,i));return{arrayValue:{values:t}}}var na=class extends ea{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function yR(n){return Le(n.integerValue||n.doubleValue)}function cM(n){return Ow(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function M3(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof ws&&r instanceof ws||i instanceof bs&&r instanceof bs?Qo(i.elements,r.elements,zn):i instanceof na&&r instanceof na?zn(i.Pe,r.Pe):i instanceof ta&&r instanceof ta}(n.transform,e.transform)}var b0=class{constructor(e,t){this.version=e,this.transformResults=t}},gs=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function of(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ia=class{};function lM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pf(n.key,gs.none()):new Es(n.key,n.data,gs.none());{let t=n.data,i=_n.empty(),r=new Tt(Qt.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Mi(n.key,i,new jn(r.toArray()),gs.none())}}function N3(n,e,t){n instanceof Es?function(r,s,o){let a=r.value.clone(),c=wR(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Mi?function(r,s,o){if(!of(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=wR(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(uM(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function pl(n,e,t,i){return n instanceof Es?function(s,o,a,c){if(!of(s.precondition,o))return a;let u=s.value.clone(),h=bR(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof Mi?function(s,o,a,c){if(!of(s.precondition,o))return a;let u=bR(s.fieldTransforms,c,o),h=o.data;return h.setAll(uM(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,i):function(s,o,a){return of(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function x3(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=sM(i.transform,r||null);s!=null&&(t===null&&(t=_n.empty()),t.set(i.field,s))}return t||null}function vR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Qo(i,r,(s,o)=>M3(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Es=class extends ia{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Mi=class extends ia{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function uM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function wR(n,e,t){let i=new Map;Me(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,R3(o,a,t[r]))}return i}function bR(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,A3(s,o,e))}return i}var pf=class extends ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},E0=class extends ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var I0=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&N3(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=pl(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=pl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=iM();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let c=lM(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(le.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),we())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(t,i)=>vR(t,i))&&Qo(this.baseMutations,e.baseMutations,(t,i)=>vR(t,i))}},D0=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Me(e.mutations.length===i.length);let r=function(){return I3}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var T0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var C0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ke,Ee;function O3(n){switch(n){default:return ne();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function dM(n){if(n===void 0)return Si("GRPC error has no .code"),O.UNKNOWN;switch(n){case Ke.OK:return O.OK;case Ke.CANCELLED:return O.CANCELLED;case Ke.UNKNOWN:return O.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return O.INTERNAL;case Ke.UNAVAILABLE:return O.UNAVAILABLE;case Ke.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ke.NOT_FOUND:return O.NOT_FOUND;case Ke.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ke.ABORTED:return O.ABORTED;case Ke.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ke.DATA_LOSS:return O.DATA_LOSS;default:return ne()}}(Ee=Ke||(Ke={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";var ER=null;function P3(){return new TextEncoder}var k3=new mr([4294967295,4294967295],0);function IR(n){let e=P3().encode(n),t=new Uv;return t.update(e),new Uint8Array(t.digest())}function DR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mr([t,i],0),new mr([r,s],0)]}var S0=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new fs(`Invalid padding: ${t}`);if(i<0)throw new fs(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new fs(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new fs(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=mr.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(mr.fromNumber(i)));return r.compare(k3)===1&&(r=new mr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=IR(e),[i,r]=DR(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=IR(e),[i,r]=DR(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},fs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gf=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(le.min(),r,new ze(Te),Ri(),we())}},yl=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,we(),we(),we())}};var qo=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},mf=class{constructor(e,t){this.targetId=e,this.me=t}},_f=class{constructor(e,t,i=Ct.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},yf=class{constructor(){this.fe=0,this.ge=CR(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),t=we(),i=we();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ne()}}),new yl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=CR()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},A0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ri(),this.qe=TR(),this.Qe=new ze(Te)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(y0(s))if(i===0){let o=new K(s.path);this.Ue(t,o,yn.newNoDocument(o,le.min()))}else Me(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}ER?.et(function(h,f,g,_,v){var S,A,x,V,L,W;let ge={localCacheCount:h,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},q=f.unchangedNames;return q&&(ge.bloomFilter={applied:v===0,hashCount:(S=q?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(V=(x=(A=q?.bits)===null||A===void 0?void 0:A.bitmap)===null||x===void 0?void 0:x.length)!==null&&V!==void 0?V:0,padding:(W=(L=q?.bits)===null||L===void 0?void 0:L.padding)!==null&&W!==void 0?W:0,mightContain:I=>{var y;return(y=_?.mightContain(I))!==null&&y!==void 0&&y}}),ge}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=vr(i).toUint8Array()}catch(c){if(c instanceof df)return Ko("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new S0(o,r,s)}catch(c){return Ko(c instanceof fs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&y0(a.target)){let c=new K(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,yn.newNoDocument(c,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=we();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new gf(e,t,this.Qe,this.ke,i);return this.ke=Ri(),this.qe=TR(),this.Qe=new ze(Te),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new yf,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Tt(Te),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yf),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function TR(){return new ze(K.comparator)}function CR(){return new ze(K.comparator)}var F3={asc:"ASCENDING",desc:"DESCENDING"},V3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L3={and:"AND",or:"OR"},R0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function M0(n,e){return n.useProto3Json||Bf(e)?e:{value:e}}function vf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function B3(n,e){return vf(n,e.toTimestamp())}function Gn(n){return Me(!!n),le.fromTimestamp(function(t){let i=Ai(t);return new pt(i.seconds,i.nanos)}(n))}function Vw(n,e){return N0(n,e).canonicalString()}function N0(n,e){let t=function(r){return new je(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function fM(n){let e=je.fromString(n);return Me(yM(e)),e}function x0(n,e){return Vw(n.databaseId,e.path)}function Wv(n,e){let t=fM(e);if(t.get(1)!==n.databaseId.projectId)throw new U(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new U(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(gM(t))}function pM(n,e){return Vw(n.databaseId,e)}function j3(n){let e=fM(n);return e.length===4?je.emptyPath():gM(e)}function O0(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gM(n){return Me(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function SR(n,e,t){return{name:x0(n,e),fields:t.value.mapValue.fields}}function U3(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Me(h===void 0||typeof h=="string"),Ct.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ct.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let h=u.code===void 0?O.UNKNOWN:dM(u.code);return new U(h,u.message||"")}(o);t=new _f(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Wv(n,i.document.name),s=Gn(i.document.updateTime),o=i.document.createTime?Gn(i.document.createTime):le.min(),a=new _n({mapValue:{fields:i.document.fields}}),c=yn.newFoundDocument(r,s,o,a),u=i.targetIds||[],h=i.removedTargetIds||[];t=new qo(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Wv(n,i.document),s=i.readTime?Gn(i.readTime):le.min(),o=yn.newNoDocument(r,s),a=i.removedTargetIds||[];t=new qo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Wv(n,i.document),s=i.removedTargetIds||[];t=new qo([],s,r,null)}else{if(!("filter"in e))return ne();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new C0(r,s),a=i.targetId;t=new mf(a,o)}}return t}function $3(n,e){let t;if(e instanceof Es)t={update:SR(n,e.key,e.value)};else if(e instanceof pf)t={delete:x0(n,e.key)};else if(e instanceof Mi)t={update:SR(n,e.key,e.data),updateMask:Y3(e.fieldMask)};else{if(!(e instanceof E0))return ne();t={verify:x0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof ta)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ws)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof na)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ne()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:B3(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(n,e.precondition)),t}function H3(n,e){return n&&n.length>0?(Me(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?Gn(r.updateTime):Gn(s);return o.isEqual(le.min())&&(o=Gn(s)),new b0(o,r.transformResults||[])}(t,e))):[]}function G3(n,e){return{documents:[pM(n,e.path)]}}function z3(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=pM(n,r);let s=function(u){if(u.length!==0)return _M(vn.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:Ho(g.field),direction:K3(g.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=M0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:r}}function q3(n){let e=j3(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Me(i===1);let h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(f){let g=mM(f);return g instanceof vn&&KR(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(g=>function(v){return new Xo(Go(v.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Bf(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(f){let g=!!f.before,_=f.values||[];return new Zo(_,g)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let g=!f.before,_=f.values||[];return new Zo(_,g)}(t.endAt)),y3(e,r,o,s,a,"F",c,u)}function W3(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Go(t.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Go(t.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Go(t.unaryFilter.field);return Je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Go(t.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(n):n.fieldFilter!==void 0?function(t){return Je.create(Go(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vn.create(t.compositeFilter.filters.map(i=>mM(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ne()}}(t.compositeFilter.op))}(n):ne()}function K3(n){return F3[n]}function Q3(n){return V3[n]}function J3(n){return L3[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function Go(n){return Qt.fromServerFormat(n.fieldPath)}function _M(n){return n instanceof Je?function(t){if(t.op==="=="){if(fR(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(hR(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fR(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(hR(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:Q3(t.op),value:t.value}}}(n):n instanceof vn?function(t){let i=t.getFilters().map(r=>_M(r));return i.length===1?i[0]:{compositeFilter:{op:J3(t.op),filters:i}}}(n):ne()}function Y3(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var vl=class n{constructor(e,t,i,r,s=le.min(),o=le.min(),a=Ct.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var P0=class{constructor(e){this.ct=e}};function Z3(n){let e=q3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?w0(e,e.limit,"L"):e}var wf=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Le(e.integerValue));else if("doubleValue"in e){let i=Le(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),gl(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=Ai(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(vr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?zR(e)?this.dt(t,Number.MAX_SAFE_INTEGER):GR(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ne()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let s=e.fields||{};this.dt(t,53);let o="value",a=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(Le(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),K.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};wf.vt=new wf;var k0=class{constructor(){this.un=new F0}addToCollectionParentIndex(e,t){return this.un.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(_s.min())}updateCollectionGroup(e,t,i){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},F0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Tt(je.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Tt(je.comparator)).toArray()}};var rX=new Uint8Array(0);var Bn=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);var wl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var V0=class{constructor(){this.changes=new wr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?P.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var L0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var B0=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&pl(i.mutation,r,jn.empty(),pt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,we()).next(()=>i))}getLocalViewOfDocuments(e,t,i=we()){let r=hs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=ul();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,we()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=Ri(),o=fl(),a=function(){return fl()}();return t.forEach((c,u)=>{let h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof Mi)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),pl(h.mutation,u,h.mutation.getFieldMask(),pt.now())):o.set(u.key,jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),t.forEach((u,h)=>{var f;return a.set(u,new L0(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let i=fl(),r=new ze((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let h=i.get(c)||jn.empty();h=a.applyToLocalView(u,h),i.set(c,h);let f=(r.get(a.batchId)||we()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,h=c.value,f=iM();h.forEach(g=>{if(!s.has(g)){let _=lM(t.get(g),i.get(g));_!==null&&f.set(g,_),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return P.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):P.resolve(hs()),a=-1,c=s;return o.next(u=>P.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,we())).next(h=>({batchId:a,changes:nM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(i=>{let r=ul();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=ul();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,c=>{let u=function(f,g){return new vs(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((c,u)=>{let h=u.getKey();o.get(h)===null&&(o=o.insert(h,yn.newInvalidDocument(h)))});let a=ul();return o.forEach((c,u)=>{let h=s.get(c);h!==void 0&&pl(h.mutation,u,jn.empty(),pt.now()),$f(t,u)&&(a=a.insert(c,u))}),a})}};var j0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return P.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Gn(r.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:Z3(r.bundledQuery),readTime:Gn(r.readTime)}}(t)),P.resolve()}};var U0=class{constructor(){this.overlays=new ze(K.comparator),this.Ir=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let i=hs();return P.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),P.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),P.resolve()}getOverlaysForCollection(e,t,i){let r=hs(),s=t.length+1,o=new K(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return P.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ze((u,h)=>u-h),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let h=s.get(u.largestBatchId);h===null&&(h=hs(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=hs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return P.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new T0(t,i));let s=this.Ir.get(t);s===void 0&&(s=we(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}};var $0=class{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var bl=class{constructor(){this.Tr=new Tt(Qe.Er),this.dr=new Tt(Qe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new Qe(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Qe(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new K(new je([])),i=new Qe(t,e),r=new Qe(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new K(new je([])),i=new Qe(t,e),r=new Qe(t,e+1),s=we();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Qe(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Qe=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return K.comparator(e.key,t.key)||Te(e.wr,t.wr)}static Ar(e,t){return Te(e.wr,t.wr)||K.comparator(e.key,t.key)}};var H0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Tt(Qe.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new I0(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.br=this.br.add(new Qe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,t){return P.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),s=r<0?0:r;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Qe(t,0),r=new Qe(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Tt(Te);return t.forEach(r=>{let s=new Qe(r,0),o=new Qe(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),P.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;K.isDocumentKey(s)||(s=s.child(""));let o=new Qe(new K(s),0),a=new Tt(Te);return this.br.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Me(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return P.forEach(t.mutations,r=>{let s=new Qe(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new Qe(t,0),r=this.br.firstAfterOrEqual(i);return P.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var G0=class{constructor(e){this.Mr=e,this.docs=function(){return new ze(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return P.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let i=Ri();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():yn.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Ri(),o=t.path,a=new K(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||a3(o3(h),i)<=0||(r.has(h.key)||$f(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ne()}Or(e,t){return P.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new z0(this)}getSize(e){return P.resolve(this.size)}},z0=class extends V0{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),P.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var q0=class{constructor(e){this.persistence=e,this.Nr=new wr(t=>Pw(t),kw),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bl,this.targetCount=0,this.kr=wl.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),P.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new wl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Kn(t),P.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),P.waitFor(s).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return P.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),P.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return P.resolve(i)}containsKey(e,t){return P.resolve(this.Br.containsKey(t))}};var W0=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new $R(0),this.Kr=!1,this.Kr=!0,this.$r=new $0,this.referenceDelegate=e(this),this.Ur=new q0(this),this.indexManager=new k0,this.remoteDocumentCache=function(r){return new G0(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new P0(t),this.Gr=new j0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new U0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new H0(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){G("MemoryPersistence","Starting transaction:",e);let r=new K0(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return P.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},K0=class extends s0{constructor(e){super(),this.currentSequenceNumber=e}},Q0=class n{constructor(e){this.persistence=e,this.Jr=new bl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),P.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,i=>{let r=K.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,le.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return P.or([()=>P.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var J0=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=we(),r=we();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var Y0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Z0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return US()?8:l3(st())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Y0;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(ll()<=ve.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(ll()<=ve.DEBUG&&G("QueryEngine","Query:",$o(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(ll()<=ve.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(t))):P.resolve())}Yi(e,t){if(_R(t))return P.resolve(null);let i=Hn(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=w0(t,null,"F"),i=Hn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=we(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.ts(t,a);return this.ns(t,u,o,c.readTime)?this.Yi(e,w0(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,i,r){return _R(t)||r.isEqual(le.min())?P.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(t,s);return this.ns(t,o,i,r)?P.resolve(null):(ll()<=ve.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$o(t)),this.rs(e,o,t,s3(r,-1)).next(a=>a))})}ts(e,t){let i=new Tt(eM(e));return t.forEach((r,s)=>{$f(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return ll()<=ve.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",$o(t)),this.Ji.getDocumentsMatchingQuery(e,t,_s.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var X0=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ze(Te),this._s=new wr(s=>Pw(s),kw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function X3(n,e,t,i){return new X0(n,e,t,i)}function vM(n,e){return E(this,null,function*(){let t=oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=we();for(let u of r){o.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}for(let u of s){a.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function ez(n,e){let t=oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){let f=u.batch,g=f.keys(),_=P.resolve();return g.forEach(v=>{_=_.next(()=>h.getEntry(c,v)).next(S=>{let A=u.docVersions.get(v);Me(A!==null),S.version.compareTo(A)<0&&(f.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),h.addEntry(S)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function wM(n){let e=oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function tz(n,e){let t=oe(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((h,f)=>{let g=r.get(f);if(!g)return;a.push(t.Ur.removeMatchingKeys(s,h.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(s,h.addedDocuments,f)));let _=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(Ct.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,i)),r=r.insert(f,_),function(S,A,x){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,_,h)&&a.push(t.Ur.updateTargetData(s,_))});let c=Ri(),u=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(nz(s,o,e.documentUpdates).next(h=>{c=h.Ps,u=h.Is})),!i.isEqual(le.min())){let h=t.Ur.getLastRemoteSnapshotVersion(s).next(f=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.os=r,s))}function nz(n,e,t){let i=we(),r=we();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Ri();return t.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:r}})}function iz(n,e){let t=oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function rz(n,e){let t=oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,P.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new vl(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function ew(n,e,t){return E(this,null,function*(){let i=oe(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Al(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function AR(n,e,t){let i=oe(n),r=le.min(),s=we();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){let f=oe(c),g=f._s.get(h);return g!==void 0?P.resolve(f.os.get(g)):f.Ur.getTargetData(u,h)}(i,o,Hn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:le.min(),t?s:we())).next(a=>(sz(i,w3(e),a),{documents:a,Ts:s})))}function sz(n,e,t){let i=n.us.get(e)||le.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}var bf=class{constructor(){this.activeTargetIds=C3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var tw=class{constructor(){this.so=new bf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new bf,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var nw=class{_o(e){}shutdown(){}};var Ef=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var rf=null;function Kv(){return rf===null?rf=function(){return 268435456+Math.round(2147483648*Math.random())}():rf++,"0x"+rf.toString(16)}var oz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var iw=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Dt="WebChannelConnection",rw=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){let a=Kv(),c=this.xo(t,i.toUriEncodedString());G("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(t,c,u,r).then(h=>(G("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Ko("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Lo(t,i,r,s,o,a){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){let r=oz[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let s=Kv();return new Promise((o,a)=>{let c=new $v;c.setWithCredentials(!0),c.listenOnce(Hv.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cl.NO_ERROR:let h=c.getResponseJson();G(Dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case cl.TIMEOUT:G(Dt,`RPC '${e}' ${s} timed out`),a(new U(O.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:let f=c.getStatus();if(G(Dt,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let _=g?.error;if(_&&_.status&&_.message){let v=function(A){let x=A.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(x)>=0?x:O.UNKNOWN}(_.status);a(new U(v,_.message))}else a(new U(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new U(O.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{G(Dt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);G(Dt,`RPC '${e}' ${s} sending request:`,r),c.send(t,"POST",u,i,15)})}Bo(e,t,i){let r=Kv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qv(),a=zv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let h=s.join("");G(Dt,`Creating RPC '${e}' stream ${r}: ${h}`,c);let f=o.createWebChannel(h,c),g=!1,_=!1,v=new iw({Io:A=>{_?G(Dt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(g||(G(Dt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),g=!0),G(Dt,`RPC '${e}' stream ${r} sending:`,A),f.send(A))},To:()=>f.close()}),S=(A,x,V)=>{A.listen(x,L=>{try{V(L)}catch(W){setTimeout(()=>{throw W},0)}})};return S(f,Uo.EventType.OPEN,()=>{_||(G(Dt,`RPC '${e}' stream ${r} transport opened.`),v.yo())}),S(f,Uo.EventType.CLOSE,()=>{_||(_=!0,G(Dt,`RPC '${e}' stream ${r} transport closed`),v.So())}),S(f,Uo.EventType.ERROR,A=>{_||(_=!0,Ko(Dt,`RPC '${e}' stream ${r} transport errored:`,A),v.So(new U(O.UNAVAILABLE,"The operation could not be completed")))}),S(f,Uo.EventType.MESSAGE,A=>{var x;if(!_){let V=A.data[0];Me(!!V);let L=V,W=L.error||((x=L[0])===null||x===void 0?void 0:x.error);if(W){G(Dt,`RPC '${e}' stream ${r} received error:`,W);let ge=W.status,q=function(w){let D=Ke[w];if(D!==void 0)return dM(D)}(ge),I=W.message;q===void 0&&(q=O.INTERNAL,I="Unknown error status: "+ge+" with message "+W.message),_=!0,v.So(new U(q,I)),f.close()}else G(Dt,`RPC '${e}' stream ${r} received:`,V),v.bo(V)}}),S(a,Gv.STAT_EVENT,A=>{A.stat===tf.PROXY?G(Dt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===tf.NOPROXY&&G(Dt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}};function Qv(){return typeof document<"u"?document:null}function Hf(n){return new R0(n,!0)}var If=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Df=class{constructor(e,t,i,r,s,o,a,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new If(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new U(O.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},sw=class extends Df{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=U3(this.serializer,e),i=function(s){if(!("targetChange"in s))return le.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Gn(o.readTime):le.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=O0(this.serializer),t.addTarget=function(s,o){let a,c=o.target;if(a=y0(c)?{documents:G3(s,c)}:{query:z3(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hM(s,o.resumeToken);let u=M0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=vf(s,o.snapshotVersion.toTimestamp());let u=M0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=W3(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=O0(this.serializer),t.removeTarget=e,this.a_(t)}},ow=class extends Df{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=H3(e.writeResults,e.commitTime),i=Gn(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=O0(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>$3(this.serializer,i))};this.a_(t)}};var aw=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new U(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,N0(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(O.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,N0(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(O.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},cw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Si(t),this.D_=!1):G("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var lw=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>E(this,null,function*(){Ds(this)&&(G("RemoteStore","Restarting streams for network reachability change."),yield function(c){return E(this,null,function*(){let u=oe(c);u.L_.add(4),yield Rl(u),u.q_.set("Unknown"),u.L_.delete(4),yield Gf(u)})}(this))}))}),this.q_=new cw(i,r)}};function Gf(n){return E(this,null,function*(){if(Ds(n))for(let e of n.B_)yield e(!0)})}function Rl(n){return E(this,null,function*(){for(let e of n.B_)yield e(!1)})}function bM(n,e){let t=oe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Uw(t)?jw(t):la(t).r_()&&Bw(t,e))}function Lw(n,e){let t=oe(n),i=la(t);t.N_.delete(e),i.r_()&&EM(t,e),t.N_.size===0&&(i.r_()?i.o_():Ds(t)&&t.q_.set("Unknown"))}function Bw(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}la(n).A_(e)}function EM(n,e){n.Q_.xe(e),la(n).R_(e)}function jw(n){n.Q_=new A0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),la(n).start(),n.q_.v_()}function Uw(n){return Ds(n)&&!la(n).n_()&&n.N_.size>0}function Ds(n){return oe(n).L_.size===0}function IM(n){n.Q_=void 0}function az(n){return E(this,null,function*(){n.q_.set("Online")})}function cz(n){return E(this,null,function*(){n.N_.forEach((e,t)=>{Bw(n,e)})})}function lz(n,e){return E(this,null,function*(){IM(n),Uw(n)?(n.q_.M_(e),jw(n)):n.q_.set("Unknown")})}function uz(n,e,t){return E(this,null,function*(){if(n.q_.set("Online"),e instanceof _f&&e.state===2&&e.cause)try{yield function(r,s){return E(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Tf(n,i)}else if(e instanceof qo?n.Q_.Ke(e):e instanceof mf?n.Q_.He(e):n.Q_.We(e),!t.isEqual(le.min()))try{let i=yield wM(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let h=s.N_.get(c);if(!h)return;s.N_.set(c,h.withResumeToken(Ct.EMPTY_BYTE_STRING,h.snapshotVersion)),EM(s,c);let f=new vl(h.target,c,u,h.sequenceNumber);Bw(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){G("RemoteStore","Failed to raise snapshot:",i),yield Tf(n,i)}})}function Tf(n,e,t){return E(this,null,function*(){if(!Al(e))throw e;n.L_.add(1),yield Rl(n),n.q_.set("Offline"),t||(t=()=>wM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){G("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Gf(n)}))})}function DM(n,e){return e().catch(t=>Tf(n,t,e))}function zf(n){return E(this,null,function*(){let e=oe(n),t=br(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;dz(e);)try{let r=yield iz(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,hz(e,r)}catch(r){yield Tf(e,r)}TM(e)&&CM(e)})}function dz(n){return Ds(n)&&n.O_.length<10}function hz(n,e){n.O_.push(e);let t=br(n);t.r_()&&t.V_&&t.m_(e.mutations)}function TM(n){return Ds(n)&&!br(n).n_()&&n.O_.length>0}function CM(n){br(n).start()}function fz(n){return E(this,null,function*(){br(n).p_()})}function pz(n){return E(this,null,function*(){let e=br(n);for(let t of n.O_)e.m_(t.mutations)})}function gz(n,e,t){return E(this,null,function*(){let i=n.O_.shift(),r=D0.from(i,e,t);yield DM(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield zf(n)})}function mz(n,e){return E(this,null,function*(){e&&br(n).V_&&(yield function(i,r){return E(this,null,function*(){if(function(o){return O3(o)&&o!==O.ABORTED}(r.code)){let s=i.O_.shift();br(i).s_(),yield DM(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield zf(i)}})}(n,e)),TM(n)&&CM(n)})}function RR(n,e){return E(this,null,function*(){let t=oe(n);t.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");let i=Ds(t);t.L_.add(3),yield Rl(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Gf(t)})}function _z(n,e){return E(this,null,function*(){let t=oe(n);e?(t.L_.delete(2),yield Gf(t)):e||(t.L_.add(2),yield Rl(t),t.q_.set("Unknown"))})}function la(n){return n.K_||(n.K_=function(t,i,r){let s=oe(t);return s.w_(),new sw(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:az.bind(null,n),Ro:cz.bind(null,n),mo:lz.bind(null,n),d_:uz.bind(null,n)}),n.B_.push(e=>E(this,null,function*(){e?(n.K_.s_(),Uw(n)?jw(n):n.q_.set("Unknown")):(yield n.K_.stop(),IM(n))}))),n.K_}function br(n){return n.U_||(n.U_=function(t,i,r){let s=oe(t);return s.w_(),new ow(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fz.bind(null,n),mo:mz.bind(null,n),f_:pz.bind(null,n),g_:gz.bind(null,n)}),n.B_.push(e=>E(this,null,function*(){e?(n.U_.s_(),yield zf(n)):(yield n.U_.stop(),n.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var uw=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $w(n,e){if(Si("AsyncQueue",`${e}: ${n}`),Al(n))return new U(O.UNAVAILABLE,`${e}: ${n}`);throw n}var Cf=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||K.comparator(t.key,i.key):(t,i)=>K.comparator(t.key,i.key),this.keyedMap=ul(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Sf=class{constructor(){this.W_=new ze(K.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},ra=class n{constructor(e,t,i,r,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Cf.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var dw=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},hw=class{constructor(){this.queries=MR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=oe(t),s=r.queries;r.queries=MR(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(i)})})(this,new U(O.ABORTED,"Firestore shutting down"))}};function MR(){return new wr(n=>XR(n),Uf)}function SM(n,e){return E(this,null,function*(){let t=oe(n),i=3,r=e.query,s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new dw,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=$w(o,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Hw(t)})}function AM(n,e){return E(this,null,function*(){let t=oe(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function yz(n,e){let t=oe(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&Hw(t)}function vz(n,e,t){let i=oe(n),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(t);i.queries.delete(e)}function Hw(n){n.Y_.forEach(e=>{e.next()})}var fw,NR;(NR=fw||(fw={})).ea="default",NR.Cache="cache";var Af=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new ra(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fw.Cache}};var Rf=class{constructor(e){this.key=e}},Mf=class{constructor(e){this.key=e}},pw=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=eM(e),this.Ra=new Cf(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new Sf,r=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{let g=r.get(h),_=$f(this.query,f)?f:null,v=!!g&&this.mutatedKeys.has(g.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),A=!1;g&&_?g.data.isEqual(_.data)?v!==S&&(i.track({type:3,doc:_}),A=!0):this.ga(g,_)||(i.track({type:2,doc:_}),A=!0,(c&&this.Aa(_,c)>0||u&&this.Aa(_,u)<0)&&(a=!0)):!g&&_?(i.track({type:0,doc:_}),A=!0):g&&!_&&(i.track({type:1,doc:g}),A=!0,(c||u)&&(a=!0)),A&&(_?(o=o.add(_),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,f)=>function(_,v){let S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return S(_)-S(v)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new ra(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Sf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=we(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new Mf(i))}),this.da.forEach(i=>{e.has(i)||t.push(new Rf(i))}),t}ba(e){this.Ta=e.Ts,this.da=we();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ra.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},gw=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},mw=class{constructor(e){this.key=e,this.va=!1}},_w=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new wr(a=>XR(a),Uf),this.Ma=new Map,this.xa=new Set,this.Oa=new ze(K.comparator),this.Na=new Map,this.La=new bl,this.Ba={},this.ka=new Map,this.qa=wl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function wz(n,e,t=!0){return E(this,null,function*(){let i=PM(n),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield RM(i,e,t,!0),r})}function bz(n,e){return E(this,null,function*(){let t=PM(n);yield RM(t,e,!0,!1)})}function RM(n,e,t,i){return E(this,null,function*(){let r=yield rz(n.localStore,Hn(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return i&&(a=yield Ez(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&bM(n.remoteStore,r),a})}function Ez(n,e,t,i,r){return E(this,null,function*(){n.Ka=(f,g,_)=>function(S,A,x,V){return E(this,null,function*(){let L=A.view.ma(x);L.ns&&(L=yield AR(S.localStore,A.query,!1).then(({documents:I})=>A.view.ma(I,L)));let W=V&&V.targetChanges.get(A.targetId),ge=V&&V.targetMismatches.get(A.targetId)!=null,q=A.view.applyChanges(L,S.isPrimaryClient,W,ge);return OR(S,A.targetId,q.wa),q.snapshot})}(n,f,g,_);let s=yield AR(n.localStore,e,!0),o=new pw(e,s.Ts),a=o.ma(s.documents),c=yl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=o.applyChanges(a,n.isPrimaryClient,c);OR(n,t,u.wa);let h=new gw(e,t,o);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function Iz(n,e,t){return E(this,null,function*(){let i=oe(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!Uf(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ew(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Lw(i.remoteStore,r.targetId),yw(i,r.targetId)}).catch(Sl))):(yw(i,r.targetId),yield ew(i.localStore,r.targetId,!0))})}function Dz(n,e){return E(this,null,function*(){let t=oe(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Lw(t.remoteStore,i.targetId))})}function Tz(n,e,t){return E(this,null,function*(){let i=xz(n);try{let r=yield function(o,a){let c=oe(o),u=pt.now(),h=a.reduce((_,v)=>_.add(v.key),we()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=Ri(),S=we();return c.cs.getEntries(_,h).next(A=>{v=A,v.forEach((x,V)=>{V.isValidDocument()||(S=S.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,v)).next(A=>{f=A;let x=[];for(let V of a){let L=x3(V,f.get(V.key).overlayedDocument);L!=null&&x.push(new Mi(V.key,L,qR(L.value.mapValue),gs.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,x,a)}).next(A=>{g=A;let x=A.applyToLocalDocumentSet(f,S);return c.documentOverlayCache.saveOverlays(_,A.batchId,x)})}).then(()=>({batchId:g.batchId,changes:nM(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new ze(Te)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,t),yield Ml(i,r.changes),yield zf(i.remoteStore)}catch(r){let s=$w(r,"Failed to persist write");t.reject(s)}})}function MM(n,e){return E(this,null,function*(){let t=oe(n);try{let i=yield tz(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Na.get(s);o&&(Me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Me(o.va):r.removedDocuments.size>0&&(Me(o.va),o.va=!1))}),yield Ml(t,i,e)}catch(i){yield Sl(i)}})}function xR(n,e,t){let i=oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=oe(o);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(let g of f.j_)g.Z_(a)&&(u=!0)}),u&&Hw(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Cz(n,e,t){return E(this,null,function*(){let i=oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new ze(K.comparator);o=o.insert(s,yn.newNoDocument(s,le.min()));let a=we().add(s),c=new gf(le.min(),new Map,new ze(Te),o,a);yield MM(i,c),i.Oa=i.Oa.remove(s),i.Na.delete(e),Gw(i)}else yield ew(i.localStore,e,!1).then(()=>yw(i,e,t)).catch(Sl)})}function Sz(n,e){return E(this,null,function*(){let t=oe(n),i=e.batch.batchId;try{let r=yield ez(t.localStore,e);xM(t,i,null),NM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ml(t,r)}catch(r){yield Sl(r)}})}function Az(n,e,t){return E(this,null,function*(){let i=oe(n);try{let r=yield function(o,a){let c=oe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Me(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(i.localStore,e);xM(i,e,t),NM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ml(i,r)}catch(r){yield Sl(r)}})}function NM(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function xM(n,e,t){let i=oe(n),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function yw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||OM(n,i)})}function OM(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Lw(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Gw(n))}function OR(n,e,t){for(let i of t)i instanceof Rf?(n.La.addReference(i.key,e),Rz(n,i)):i instanceof Mf?(G("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||OM(n,i.key)):ne()}function Rz(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(G("SyncEngine","New document in limbo: "+t),n.xa.add(i),Gw(n))}function Gw(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new K(je.fromString(e)),i=n.qa.next();n.Na.set(i,new mw(t)),n.Oa=n.Oa.insert(t,i),bM(n.remoteStore,new vl(Hn(jf(t.path)),i,"TargetPurposeLimboResolution",$R.oe))}}function Ml(n,e,t){return E(this,null,function*(){let i=oe(n),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{o.push(i.Ka(c,e,t).then(u=>{var h;if((u||t)&&i.isPrimaryClient){let f=u?!u.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){r.push(u);let f=J0.Wi(c.targetId,u);s.push(f)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(c,u){return E(this,null,function*(){let h=oe(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>P.forEach(u,g=>P.forEach(g.$i,_=>h.persistence.referenceDelegate.addReference(f,g.targetId,_)).next(()=>P.forEach(g.Ui,_=>h.persistence.referenceDelegate.removeReference(f,g.targetId,_)))))}catch(f){if(!Al(f))throw f;G("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let _=h.os.get(g),v=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(v);h.os=h.os.insert(g,S)}}})}(i.localStore,s))})}function Mz(n,e){return E(this,null,function*(){let t=oe(n);if(!t.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());let i=yield vM(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new U(O.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ml(t,i.hs)}})}function Nz(n,e){let t=oe(n),i=t.Na.get(e);if(i&&i.va)return we().add(i.key);{let r=we(),s=t.Ma.get(e);if(!s)return r;for(let o of s){let a=t.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function PM(n){let e=oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cz.bind(null,e),e.Ca.d_=yz.bind(null,e.eventManager),e.Ca.$a=vz.bind(null,e.eventManager),e}function xz(n){let e=oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Az.bind(null,e),e}var PR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=Hf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return X3(this.persistence,new Z0,t.initialUser,this.serializer)}Ga(t){return new W0(Q0.Zr,this.serializer)}Wa(t){return new tw}terminate(){return E(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Oz=(()=>{class n{initialize(t,i){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mz.bind(null,this.syncEngine),yield _z(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new hw}()}createDatastore(t){let i=Hf(t.databaseInfo.databaseId),r=function(o){return new rw(o)}(t.databaseInfo);return function(o,a,c,u){return new aw(o,a,c,u)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,s,o,a,c){return new lw(r,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,i=>xR(this.syncEngine,i,0),function(){return Ef.D()?new Ef:new nw}())}createSyncEngine(t,i){return function(s,o,a,c,u,h,f){let g=new _w(s,o,a,c,u,h);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return E(this,null,function*(){var t,i;yield function(s){return E(this,null,function*(){let o=oe(s);G("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Rl(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var Nf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var vw=class{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=ot.UNAUTHENTICATED,this.clientId=cf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,o=>E(this,null,function*(){G("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=$w(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Jv(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>E(this,null,function*(){i.isEqual(r)||(yield vM(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function kR(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Pz(n);G("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>RR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>RR(e.remoteStore,r)),n._onlineComponents=e})}function Pz(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===O.FAILED_PRECONDITION||r.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),yield Jv(n,new PR)}}else G("FirestoreClient","Using default OfflineComponentProvider"),yield Jv(n,new PR);return n._offlineComponents})}function kM(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),yield kR(n,n._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),yield kR(n,new Oz))),n._onlineComponents})}function kz(n){return kM(n).then(e=>e.syncEngine)}function ww(n){return E(this,null,function*(){let e=yield kM(n),t=e.eventManager;return t.onListen=wz.bind(null,e.syncEngine),t.onUnlisten=Iz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Dz.bind(null,e.syncEngine),t})}function Fz(n,e,t={}){let i=new Un;return n.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,a,c,u){let h=new Nf({next:g=>{h.Za(),o.enqueueAndForget(()=>AM(s,f));let _=g.docs.has(a);!_&&g.fromCache?u.reject(new U(O.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&c&&c.source==="server"?u.reject(new U(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Af(jf(a.path),h,{includeMetadataChanges:!0,_a:!0});return SM(s,f)}(yield ww(n),n.asyncQueue,e,t,i)})),i.promise}function FM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var FR=new Map;function VM(n,e,t){if(!t)throw new U(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Vz(n,e,t,i){if(e===!0&&i===!0)throw new U(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VR(n){if(!K.isDocumentKey(n))throw new U(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LR(n){if(K.isDocumentKey(n))throw new U(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne()}function _r(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new U(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=qf(n);throw new U(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var xf=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new U(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FM((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},sa=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xf(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Yv;switch(i.type){case"firstParty":return new t0(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new U(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=FR.get(t);i&&(G("ComponentProvider","Removing Datastore"),FR.delete(t),i.terminate())}(this),Promise.resolve()}};function LM(n,e,t,i={}){var r;let s=(n=_r(n,sa))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=ot.MOCK_USER;else{a=kS(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new U(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ot(u)}n._authCredentials=new Zv(new af(a,c))}}var oa=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},kt=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},yr=class n extends oa{constructor(e,t,i){super(e,t,jf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function BM(n,e,...t){if(n=It(n),VM("collection","path",e),n instanceof sa){let i=je.fromString(e,...t);return LR(i),new yr(n,null,i)}{if(!(n instanceof kt||n instanceof yr))throw new U(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(je.fromString(e,...t));return LR(i),new yr(n.firestore,null,i)}}function jM(n,e,...t){if(n=It(n),arguments.length===1&&(e=cf.newId()),VM("doc","path",e),n instanceof sa){let i=je.fromString(e,...t);return VR(i),new kt(n,null,new K(i))}{if(!(n instanceof kt||n instanceof yr))throw new U(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(je.fromString(e,...t));return VR(i),new kt(n.firestore,n instanceof yr?n.converter:null,new K(i))}}var Of=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new If(this,"async_queue_retry"),this.Vu=()=>{let i=Qv();i&&G("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=Qv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Qv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Un;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Al(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Si("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=uw.createAndSchedule(this,e,t,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function BR(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var Is=class extends sa{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Of,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Of(e),this._firestoreClient=void 0,yield e}})}};function UM(n,e){let t=typeof n=="object"?n:ko(),i=typeof n=="string"?n:e||"(default)",r=Yc(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=PS("firestore");s&&LM(r,...s)}return r}function zw(n){if(n._terminated)throw new U(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Lz(n),n._firestoreClient}function Lz(n){var e,t,i;let r=n._freezeSettings(),s=function(a,c,u,h){return new o0(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,FM(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new vw(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var El=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ct.fromBase64String(e))}catch(t){throw new U(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Il=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Pf=class{constructor(e){this._methodName=e}};var Dl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var Tl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var Bz=/^__.*__$/,bw=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Es(e,this.data,t,this.fieldTransforms)}};function $M(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var Ew=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return kf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($M(this.Cu)&&Bz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Iw=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hf(e)}Qu(e,t,i,r=!1){return new Ew({Cu:e,methodName:t,qu:i,path:Qt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function HM(n){let e=n._freezeSettings(),t=Hf(n._databaseId);return new Iw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jz(n,e,t,i,r,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,r);qM("Data must be an object, but it was:",o,i);let a=GM(i,o),c,u;if(s.merge)c=new jn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let f of s.mergeFields){let g=$z(e,f,t);if(!o.contains(g))throw new U(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Gz(h,g)||h.push(g)}c=new jn(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new bw(new _n(a),c,u)}function Uz(n,e,t,i=!1){return qw(t,n.Qu(i?4:3,e))}function qw(n,e){if(zM(n=It(n)))return qM("Unsupported field value:",e,n),GM(n,e);if(n instanceof Pf)return function(i,r){if(!$M(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=qw(a,r.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=It(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return S3(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=pt.fromDate(i);return{timestampValue:vf(r.serializer,s)}}if(i instanceof pt){let s=new pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:vf(r.serializer,s)}}if(i instanceof Dl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof El)return{bytesValue:hM(r.serializer,i._byteString)};if(i instanceof kt){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vw(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Tl)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Fw(a.serializer,c)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${qf(i)}`)}(n,e)}function GM(n,e){let t={};return HR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(n,(i,r)=>{let s=qw(r,e.Mu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function zM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pt||n instanceof Dl||n instanceof El||n instanceof kt||n instanceof Pf||n instanceof Tl)}function qM(n,e,t){if(!zM(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=qf(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function $z(n,e,t){if((e=It(e))instanceof Il)return e._internalPath;if(typeof e=="string")return WM(n,e);throw kf("Field path arguments must be of type string or ",n,!1,void 0,t)}var Hz=new RegExp("[~\\*/\\[\\]]");function WM(n,e,t){if(e.search(Hz)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Il(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kf(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new U(O.INVALID_ARGUMENT,a+n+c)}function Gz(n,e){return n.some(t=>t.isEqual(e))}var Ff=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Dw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(KM("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Dw=class extends Ff{data(){return super.data()}};function KM(n,e){return typeof e=="string"?WM(n,e):e instanceof Il?e._internalPath:e._delegate._internalPath}function zz(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new U(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cl=class{},Tw=class extends Cl{};function QM(n,e,...t){let i=[];e instanceof Cl&&i.push(e),i=i.concat(t),function(s){let o=s.filter(c=>c instanceof Sw).length,a=s.filter(c=>c instanceof Cw).length;if(o>1||o>0&&a>0)throw new U(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var Cw=class n extends Tw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return JM(e._query,t),new oa(e.firestore,e.converter,v0(e._query,t))}_parse(e){let t=HM(e.firestore);return function(s,o,a,c,u,h,f){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){UR(f,h);let _=[];for(let v of f)_.push(jR(c,s,v));g={arrayValue:{values:_}}}else g=jR(c,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||UR(f,h),g=Uz(a,o,f,h==="in"||h==="not-in");return Je.create(u,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var Sw=class n extends Cl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:vn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)JM(o,c),o=v0(o,c)}(e._query,t),new oa(e.firestore,e.converter,v0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function jR(n,e,t){if(typeof(t=It(t))=="string"){if(t==="")throw new U(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZR(e)&&t.indexOf("/")!==-1)throw new U(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(je.fromString(t));if(!K.isDocumentKey(i))throw new U(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return dR(n,new K(i))}if(t instanceof kt)return dR(n,t._key);throw new U(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(t)}.`)}function UR(n,e){if(!Array.isArray(n)||n.length===0)throw new U(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JM(n,e){let t=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new U(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Aw=class{convertValue(e,t="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return ca(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Le(o.doubleValue));return new Tl(s)}convertGeoPoint(e){return new Dl(Le(e.latitude),Le(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=xw(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){let t=Ai(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=je.fromString(e);Me(yM(i));let r=new hf(i.get(1),i.get(3)),s=new K(i.popFirst(5));return r.isEqual(t)||Si(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function qz(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var ps=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Vf=class extends Ff{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Wo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(KM("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Wo=class extends Vf{data(e={}){return super.data(e)}},Rw=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ps(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Wo(this._firestore,this._userDataWriter,i.key,i,new ps(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new U(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new Wo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ps(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Wo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ps(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Wz(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Wz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function YM(n){n=_r(n,kt);let e=_r(n.firestore,Is);return Fz(zw(e),n._key).then(t=>XM(e,n,t))}var Lf=class extends Aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}};function ZM(n,e,t){n=_r(n,kt);let i=_r(n.firestore,Is),r=qz(n.converter,e,t);return Kz(i,[jz(HM(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,gs.none())])}function Ww(n,...e){var t,i,r;n=It(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||BR(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(BR(e[o])){let f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[o+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let c,u,h;if(n instanceof kt)u=_r(n.firestore,Is),h=jf(n._key.path),c={next:f=>{e[o]&&e[o](XM(u,n,f))},error:e[o+1],complete:e[o+2]};else{let f=_r(n,oa);u=_r(f.firestore,Is),h=f._query;let g=new Lf(u);c={next:_=>{e[o]&&e[o](new Rw(u,g,f,_))},error:e[o+1],complete:e[o+2]},zz(n._query)}return function(g,_,v,S){let A=new Nf(S),x=new Af(_,A,v);return g.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return SM(yield ww(g),x)})),()=>{A.Za(),g.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return AM(yield ww(g),x)}))}}(zw(u),h,a,c)}function Kz(n,e){return function(i,r){let s=new Un;return i.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return Tz(yield kz(i),r,s)})),s.promise}(zw(n),e)}function XM(n,e,t){let i=t.docs.get(e._key),r=new Lf(n);return new Vf(n,r,e._key,i,new ps(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){aa=r})(dr),ur(new on("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new Is(new Xv(i.getProvider("auth-internal")),new i0(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new U(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hf(u.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),et(aR,"4.7.3",e),et(aR,"4.7.3","esm2017")})();var Wf=function(){return Wf=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Wf.apply(this,arguments)};var Zz={includeMetadataChanges:!1};function eN(n,e){return e===void 0&&(e=Zz),new J(function(t){var i=Ww(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function tN(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:Wf(Wf({},i),(t={},t[e.idField]=n.id,t))}function nN(n){return eN(n,{includeMetadataChanges:!0}).pipe(Y(function(e){return e.docs}))}function iN(n,e){return e===void 0&&(e={}),nN(n).pipe(Y(function(t){return t.map(function(i){return tN(i,e)})}))}var Ts=class{constructor(e){return e}},rN="firestore",Kw=class{constructor(){return Zc(rN)}};var Qw=new H("angularfire2.firestore-instances");function Xz(n,e){let t=Oh(rN,n,e);return t&&new Ts(t)}function eq(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Ts(i)}}var tq={provide:Kw,deps:[[new Ot,Qw]]},nq={provide:Ts,useFactory:Xz,deps:[[new Ot,Qw],Ii]};function sN(n,...e){return et("angularfire",ss.full,"fst"),fn([nq,tq,{provide:Qw,useFactory:eq(n),multi:!0,deps:[be,Be,Lo,os,[new Ot,al],[new Ot,Vo],...e]}])}var oN=Kt(iN,!0);var Jw=Kt(BM,!0);var Yw=Kt(jM,!0);var aN=Kt(YM,!0);var Kf=Kt(UM,!0);var cN=Kt(QM,!0);var lN=Kt(ZM,!0);var uN={production:!1,firebaseConfig:{apiKey:"AIzaSyBia2IEyDJQ19hnNah3x3FI9s0omrWITZk",authDomain:"dsa-roadmap.firebaseapp.com",projectId:"dsa-roadmap",storageBucket:"dsa-roadmap.appspot.com",messagingSenderId:"914631704450",appId:"1:914631704450:web:266e2b4f1f53ef12d3d99b"}};var dN={providers:[RS(MS),sA(()=>oA(uN.firebaseConfig)),nR(()=>iR()),sN(()=>Kf()),$_()]};function Qf(n){n||($m(Qf),n=N(Kr));let e=new J(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(nt(e))}var bN=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(re(tr),re(dt))}}static{this.\u0275dir=Re({type:n})}}return n})(),ip=(()=>{class n extends bN{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=di(n)))(r||n)}})()}static{this.\u0275dir=Re({type:n,features:[Gt]})}}return n})(),pa=new H(""),rq={provide:pa,useExisting:hn(()=>rb),multi:!0},rb=(()=>{class n extends ip{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=di(n)))(r||n)}})()}static{this.\u0275dir=Re({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&Xe("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[pi([rq]),Gt]})}}return n})(),sq={provide:pa,useExisting:hn(()=>rp),multi:!0};function oq(){let n=_i()?_i().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var aq=new H(""),rp=(()=>{class n extends bN{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!oq())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(re(tr),re(dt),re(aq,8))}}static{this.\u0275dir=Re({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Xe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[pi([sq]),Gt]})}}return n})();var sb=new H(""),ob=new H("");function EN(n){return n!=null}function IN(n){return Jr(n)?Oe(n):n}function DN(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function TN(n,e){return e.map(t=>t(n))}function cq(n){return!n.validate}function CN(n){return n.map(e=>cq(e)?e:t=>e.validate(t))}function lq(n){if(!n)return null;let e=n.filter(EN);return e.length==0?null:function(t){return DN(TN(t,e))}}function SN(n){return n!=null?lq(CN(n)):null}function uq(n){if(!n)return null;let e=n.filter(EN);return e.length==0?null:function(t){let i=TN(t,e).map(IN);return og(i).pipe(Y(DN))}}function AN(n){return n!=null?uq(CN(n)):null}function hN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function RN(n){return n._rawValidators}function MN(n){return n._rawAsyncValidators}function Zw(n){return n?Array.isArray(n)?n:[n]:[]}function Yf(n,e){return Array.isArray(n)?n.includes(e):n===e}function fN(n,e){let t=Zw(e);return Zw(n).forEach(r=>{Yf(t,r)||t.push(r)}),t}function pN(n,e){return Zw(e).filter(t=>!Yf(n,t))}var Zf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Cs=class extends Zf{get formDirective(){return null}get path(){return null}},Ss=class extends Zf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Xf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},dq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},pte=ue(F({},dq),{"[class.ng-submitted]":"isSubmitted"}),NN=(()=>{class n extends Xf{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(re(Ss,2))}}static{this.\u0275dir=Re({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&gn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Gt]})}}return n})(),xN=(()=>{class n extends Xf{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(re(Cs,10))}}static{this.\u0275dir=Re({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&gn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Gt]})}}return n})();var Nl="VALID",Jf="INVALID",ua="PENDING",xl="DISABLED",Er=class{},ep=class extends Er{constructor(e,t){super(),this.value=e,this.source=t}},Ol=class extends Er{constructor(e,t){super(),this.pristine=e,this.source=t}},Pl=class extends Er{constructor(e,t){super(),this.touched=e,this.source=t}},da=class extends Er{constructor(e,t){super(),this.status=e,this.source=t}},Xw=class extends Er{constructor(e){super(),this.source=e}},eb=class extends Er{constructor(e){super(),this.source=e}};function ab(n){return(sp(n)?n.validators:n)||null}function hq(n){return Array.isArray(n)?SN(n):n||null}function cb(n,e){return(sp(e)?e.asyncValidators:n)||null}function fq(n){return Array.isArray(n)?AN(n):n||null}function sp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ON(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new z(1e3,"");if(!i[t])throw new z(1001,"")}function PN(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new z(1002,"")})}var ha=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=wo(()=>this.statusReactive()),this.statusReactive=fo(void 0),this._pristine=wo(()=>this.pristineReactive()),this.pristineReactive=fo(!0),this._touched=wo(()=>this.touchedReactive()),this.touchedReactive=fo(!1),this._events=new xe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xn(this.statusReactive)}set status(e){xn(()=>this.statusReactive.set(e))}get valid(){return this.status===Nl}get invalid(){return this.status===Jf}get pending(){return this.status==ua}get disabled(){return this.status===xl}get enabled(){return this.status!==xl}get pristine(){return xn(this.pristineReactive)}set pristine(e){xn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return xn(this.touchedReactive)}set touched(e){xn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pN(e,this._rawAsyncValidators))}hasValidator(e){return Yf(this._rawValidators,e)}hasAsyncValidator(e){return Yf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(F({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Pl(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Pl(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(F({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Ol(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Ol(!0,i))}markAsPending(e={}){this.status=ua;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new da(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xl,this.errors=null,this._forEachChild(r=>{r.disable(ue(F({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ep(this.value,i)),this._events.next(new da(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Nl,this._forEachChild(i=>{i.enable(ue(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nl||this.status===ua)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ep(this.value,t)),this._events.next(new da(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xl:Nl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ua,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=IN(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new da(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new ye,this.statusChanges=new ye}_calculateStatus(){return this._allControlsDisabled()?xl:this.errors?Jf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ua)?ua:this._anyControlsHaveStatus(Jf)?Jf:Nl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Ol(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Pl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=hq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=fq(this._rawAsyncValidators)}},fa=class extends ha{constructor(e,t,i){super(ab(t),cb(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){PN(this,!0,e),Object.keys(e).forEach(i=>{ON(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var tb=class extends fa{};var op=new H("CallSetDisabledState",{providedIn:"root",factory:()=>ap}),ap="always";function kN(n,e){return[...e.path,n]}function nb(n,e,t=ap){lb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),gq(n,e),_q(n,e),mq(n,e),pq(n,e)}function gN(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),np(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pq(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function lb(n,e){let t=RN(n);e.validator!==null?n.setValidators(hN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=MN(n);e.asyncValidator!==null?n.setAsyncValidators(hN(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();tp(e._rawValidators,r),tp(e._rawAsyncValidators,r)}function np(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=RN(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=MN(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return tp(e._rawValidators,i),tp(e._rawAsyncValidators,i),t}function gq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&FN(n,e)})}function mq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&FN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function FN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _q(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function yq(n,e){n==null,lb(n,e)}function vq(n,e){return np(n,e)}function VN(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function wq(n){return Object.getPrototypeOf(n.constructor)===ip}function bq(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function LN(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===rp?t=s:wq(s)?i=s:r=s}),r||i||t||null}function Eq(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function mN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function _N(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ke=class extends ha{constructor(e=null,t,i){super(ab(t),cb(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(_N(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){_N(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Iq=n=>n instanceof ke;var Dq={provide:Ss,useExisting:hn(()=>ub)},yN=Promise.resolve(),ub=(()=>{class n extends Ss{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new ke,this._registered=!1,this.name="",this.update=new ye,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=LN(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),VN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){yN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Zd(i);yN.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?kN(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(re(Cs,9),re(sb,10),re(ob,10),re(pa,10),re(Nn,8),re(op,8))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[pi([Dq]),Gt,li]})}}return n})(),BN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Re({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var jN=new H("");var Tq={provide:Cs,useExisting:hn(()=>db)},db=(()=>{class n extends Cs{get submitted(){return xn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=wo(()=>this._submittedReactive()),this._submittedReactive=fo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ye,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(np(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return nb(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){gN(t.control||null,t,!1),Eq(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),bq(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Xw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new eb(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(gN(i||null,t),Iq(r)&&(nb(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);yq(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&vq(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lb(this.form,this),this._oldForm&&np(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(re(sb,10),re(ob,10),re(op,8))}}static{this.\u0275dir=Re({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&Xe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pi([Tq]),Gt,li]})}}return n})();var Cq={provide:Ss,useExisting:hn(()=>hb)},hb=(()=>{class n extends Ss{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new ye,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=LN(this,s)}ngOnChanges(t){this._added||this._setUpControl(),VN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return kN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(re(Cs,13),re(sb,10),re(ob,10),re(pa,10),re(jN,8))}}static{this.\u0275dir=Re({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[pi([Cq]),Gt,li]})}}return n})(),Sq={provide:pa,useExisting:hn(()=>cp),multi:!0};function UN(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Aq(n){return n.split(":")[0]}var cp=(()=>{class n extends ip{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=UN(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=Aq(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=di(n)))(r||n)}})()}static{this.\u0275dir=Re({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&Xe("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[pi([Sq]),Gt]})}}return n})(),$N=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(UN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(re(dt),re(tr),re(cp,9))}}static{this.\u0275dir=Re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Rq={provide:pa,useExisting:hn(()=>HN),multi:!0};function vN(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Mq(n){return n.split(":")[0]}var HN=(()=>{class n extends ip{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],u=this._getOptionValue(c.value);r.push(u)}}else{let o=i.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let u=this._getOptionValue(c.value);r.push(u)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=Mq(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=di(n)))(r||n)}})()}static{this.\u0275dir=Re({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&Xe("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[pi([Rq]),Gt]})}}return n})(),GN=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(vN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(vN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(re(dt),re(tr),re(HN,9))}}static{this.\u0275dir=Re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var zN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=$t({type:n})}static{this.\u0275inj=Ut({})}}return n})(),ib=class extends ha{constructor(e,t,i){super(ab(t),cb(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){PN(this,!1,e),e.forEach((i,r)=>{ON(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function wN(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var qN=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),s={};return wN(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new fa(r,s)}record(t,i=null){let r=this._reduceControls(t);return new tb(r,i)}control(t,i,r){let s={};return this.useNonNullable?(wN(i)?s=i:(s.validators=i,s.asyncValidators=r),new ke(t,ue(F({},s),{nonNullable:!0}))):new ke(t,i,r)}array(t,i,r){let s=t.map(o=>this._createControl(o));return new ib(s,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof ke)return t;if(t instanceof ha)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(i,r,s)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var WN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:op,useValue:t.callSetDisabledState??ap}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=$t({type:n})}static{this.\u0275inj=Ut({imports:[zN]})}}return n})(),KN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:op,useValue:t.callSetDisabledState??ap}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=$t({type:n})}static{this.\u0275inj=Ut({imports:[zN]})}}return n})();var mb=["*"];var xq=["dialog"];function Oq(n,e){if(n&1&&(B(0,"span"),WC(1,0),ZC(2,"percent"),j()),n&2){let t=We();fe(2),S_(XC(2,1,t.getValue()/t.max)),KC(1)}}var JN={animation:!0,transitionTimerDelayMs:5},_b=(()=>{class n{constructor(){this.animation=JN.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pq=(()=>{class n{constructor(){this._ngbConfig=N(_b),this.closeOthers=!1,this.destroyOnHide=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kq(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),r=parseFloat(t);return(i+r)*1e3}function Fq(n){return parseInt(`${n}`,10)}function Vq(n,e,t=0){return Math.max(Math.min(n,e),t)}function yb(n){return typeof n=="string"}function Lq(n){return!isNaN(Fq(n))}function fb(n){return n!=null}function Bq(n){return n&&n.then}function vb(n){return(n||document.body).getBoundingClientRect()}function jq(n){return e=>new J(t=>{let i=o=>n.run(()=>t.next(o)),r=o=>n.run(()=>t.error(o)),s=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:r,complete:s})})}var Uq=()=>{},{transitionTimerDelayMs:$q}=JN,lp=new Map,Ir=(n,e,t,i)=>{let r=i.context||{},s=lp.get(e);if(s)switch(i.runningTransition){case"continue":return ct;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),lp.delete(e)}let o=t(e,i.animation,r)||Uq;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>o()),Z(void 0).pipe(jq(n));let a=new xe,c=new xe,u=a.pipe(ug(!0));lp.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let h=kq(e);return n.runOutsideAngular(()=>{let f=Jt(e,"transitionend").pipe(nt(u),Ze(({target:_})=>_===e)),g=ag(h+$q).pipe(nt(u));cg(g,f,c).pipe(nt(u)).subscribe(()=>{lp.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};function Hq(n,e){if(typeof navigator>"u")return"0px";let{classList:t}=n,i=t.contains("show");i||t.add("show"),n.style[e]="";let r=n.getBoundingClientRect()[e]+"px";return i||t.remove("show"),r}var Gq=(n,e,t)=>{let{direction:i,maxSize:r,dimension:s}=t,{classList:o}=n;function a(){o.add("collapse"),i==="show"?o.add("show"):o.remove("show")}if(!e){a();return}return r||(r=Hq(n,s),t.maxSize=r,n.style[s]=i!=="show"?r:"0px",o.remove("collapse","collapsing","show"),vb(n),o.add("collapsing")),n.style[s]=i==="show"?r:"0px",()=>{a(),o.remove("collapsing"),n.style[s]=""}},zq=(()=>{class n{constructor(){this._ngbConfig=N(_b),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QN=(()=>{class n{constructor(){this._config=N(zq),this._element=N(dt),this._zone=N(be),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ye,this.horizontal=this._config.horizontal,this.shown=new ye,this.hidden=new ye}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,i){return Ir(this._zone,this._element.nativeElement,Gq,{animation:i,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,i){this._runTransition(t,i).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Re({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){i&2&&gn("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return n})(),qq=0,YN=(()=>{class n{constructor(){this._vcr=N(Rn),this._element=N(dt).nativeElement,this._item=N(Dr),this._viewRef=null}ngAfterContentChecked(){this._bodyTpl&&(this._item._shouldBeInDOM?this._createViewIfNotExists():this._destroyViewIfExists())}ngOnDestroy(){this._destroyViewIfExists()}_destroyViewIfExists(){this._viewRef?.destroy(),this._viewRef=null}_createViewIfNotExists(){if(!this._viewRef){this._viewRef=this._vcr.createEmbeddedView(this._bodyTpl),this._viewRef.detectChanges();for(let t of this._viewRef.rootNodes)this._element.appendChild(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Re({type:n,selectors:[["","ngbAccordionBody",""]],contentQueries:function(i,r,s){if(i&1&&pc(s,An,7),i&2){let o;yo(o=vo())&&(r._bodyTpl=o.first)}},hostAttrs:[1,"accordion-body"],standalone:!0})}}return n})(),wb=(()=>{class n{constructor(){this.item=N(Dr),this.ngbCollapse=N(QN)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Re({type:n,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region",1,"accordion-collapse"],hostVars:2,hostBindings:function(i,r){i&2&&(_o("id",r.item.collapseId),ir("aria-labelledby",r.item.toggleId))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[T_([QN])]})}}return n})(),Wq=(()=>{class n{constructor(){this.item=N(Dr),this.accordion=N(dp)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Re({type:n,selectors:[["","ngbAccordionToggle",""]],hostVars:5,hostBindings:function(i,r){i&1&&Xe("click",function(){return!r.item.disabled&&r.accordion.toggle(r.item.id)}),i&2&&(_o("id",r.item.toggleId),ir("aria-controls",r.item.collapseId)("aria-expanded",!r.item.collapsed),gn("collapsed",r.item.collapsed))},standalone:!0})}}return n})(),ZN=(()=>{class n{constructor(){this.item=N(Dr)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Re({type:n,selectors:[["button","ngbAccordionButton",""]],hostAttrs:["type","button",1,"accordion-button"],hostVars:1,hostBindings:function(i,r){i&2&&_o("disabled",r.item.disabled)},standalone:!0,features:[T_([Wq])]})}}return n})(),XN=(()=>{class n{constructor(){this.item=N(Dr)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Re({type:n,selectors:[["","ngbAccordionHeader",""]],hostAttrs:["role","heading",1,"accordion-header"],hostVars:2,hostBindings:function(i,r){i&2&&gn("collapsed",r.item.collapsed)},standalone:!0})}}return n})(),Dr=(()=>{class n{constructor(){this._accordion=N(dp),this._cd=N(Nn),this._destroyRef=N(Kr),this._collapsed=!0,this._id=`ngb-accordion-item-${qq++}`,this._collapseAnimationRunning=!1,this.disabled=!1,this.show=new ye,this.shown=new ye,this.hide=new ye,this.hidden=new ye}set id(t){yb(t)&&t!==""&&(this._id=t)}set destroyOnHide(t){this._destroyOnHide=t}get destroyOnHide(){return this._destroyOnHide===void 0?this._accordion.destroyOnHide:this._destroyOnHide}set collapsed(t){t?this.collapse():this.expand()}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}get _shouldBeInDOM(){return!this.collapsed||this._collapseAnimationRunning||!this.destroyOnHide}ngAfterContentInit(){let{ngbCollapse:t}=this._collapse;t.animation=!1,t.collapsed=this.collapsed,t.animation=this._accordion.animation,t.hidden.pipe(Qf(this._destroyRef)).subscribe(()=>{this._collapseAnimationRunning=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),t.shown.pipe(Qf(this._destroyRef)).subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)})}toggle(){this.collapsed=!this.collapsed}expand(){if(this.collapsed){if(!this._accordion._ensureCanExpand(this))return;this._collapsed=!1,this._cd.markForCheck(),this._cd.detectChanges(),this.show.emit(),this._accordion.show.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!1}}collapse(){this.collapsed||(this._collapsed=!0,this._collapseAnimationRunning=!0,this._cd.markForCheck(),this.hide.emit(),this._accordion.hide.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!0)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Re({type:n,selectors:[["","ngbAccordionItem",""]],contentQueries:function(i,r,s){if(i&1&&pc(s,wb,7),i&2){let o;yo(o=vo())&&(r._collapse=o.first)}},hostAttrs:[1,"accordion-item"],hostVars:1,hostBindings:function(i,r){i&2&&_o("id",r.id)},inputs:{id:[0,"ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0})}}return n})(),dp=(()=>{class n{constructor(){this._config=N(Pq),this._anItemWasAlreadyExpandedDuringInitialisation=!1,this.animation=this._config.animation,this.closeOthers=this._config.closeOthers,this.destroyOnHide=this._config.destroyOnHide,this.show=new ye,this.shown=new ye,this.hide=new ye,this.hidden=new ye}toggle(t){this._getItem(t)?.toggle()}expand(t){this._getItem(t)?.expand()}expandAll(){this._items&&(this.closeOthers?this._items.find(t=>!t.collapsed)||this._items.first.expand():this._items.forEach(t=>t.expand()))}collapse(t){this._getItem(t)?.collapse()}collapseAll(){this._items?.forEach(t=>t.collapse())}isExpanded(t){let i=this._getItem(t);return i?!i.collapsed:!1}_ensureCanExpand(t){return this.closeOthers?this._items?(this._items.find(i=>!i.collapsed&&t!==i)?.collapse(),!0):this._anItemWasAlreadyExpandedDuringInitialisation?!1:(this._anItemWasAlreadyExpandedDuringInitialisation=!0,!0):!0}_getItem(t){return this._items?.find(i=>i.id===t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Re({type:n,selectors:[["","ngbAccordion",""]],contentQueries:function(i,r,s){if(i&1&&pc(s,Dr,4),i&2){let o;yo(o=vo())&&(r._items=o)}},hostAttrs:[1,"accordion"],inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0})}}return n})();var ex=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=$t({type:n})}static{this.\u0275inj=Ut({})}}return n})();var Wte=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})();var Kq=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function tx(n){let e=Array.from(n.querySelectorAll(Kq)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var Qq=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{let r=Jt(e,"focusin").pipe(nt(t),Y(s=>s.target));Jt(e,"keydown").pipe(nt(t),Ze(s=>s.key==="Tab"),xu(r)).subscribe(([s,o])=>{let[a,c]=tx(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Jt(e,"click").pipe(nt(t),xu(r),Y(s=>s[1])).subscribe(s=>s.focus())})};var Kte=new Date(1882,10,12),Qte=new Date(2174,10,25);var Jte=1e3*60*60*24;var bb=1080,Jq=24*bb,Yq=12*bb+793,Yte=29*Jq+Yq,Zte=11*bb+204;var Zq=(()=>{class n{constructor(){this._ngbConfig=N(_b),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ga=class{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}};var Xq=(()=>{class n{constructor(){this._document=N(rt)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(t>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=o),r.overflow=s}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),e5=(()=>{class n{constructor(){this._nativeElement=N(dt).nativeElement,this._zone=N(be),this._injector=N(Be)}ngOnInit(){lc(()=>Ir(this._zone,this._nativeElement,(t,i)=>{i&&vb(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:Xn.MixedReadWrite})}hide(){return Ir(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=oi({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&($d("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),gn("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[gi],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})(),up=class{update(e){}close(e){}dismiss(e){}},t5=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],n5=["animation","backdropClass"],pb=class{_applyWindowOptions(e,t){t5.forEach(i=>{fb(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){n5.forEach(i=>{fb(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(nt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(nt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new xe,this._dismissed=new xe,this._hidden=new xe,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();Bq(t)?t.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Z(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),La(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},gb=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(gb||{}),i5=(()=>{class n{constructor(){this._document=N(rt),this._elRef=N(dt),this._zone=N(be),this._injector=N(Be),this._closed$=new xe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ye,this.shown=new xe,this.hidden=new xe}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":yb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,lc(()=>this._show(),{injector:this._injector,phase:Xn.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Ir(this._zone,t,()=>t.classList.remove("show"),i),s=Ir(this._zone,this._dialogEl.nativeElement,()=>{},i),o=La(r,s);return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){let t={animation:this.animation,runningTransition:"continue"},i=Ir(this._zone,this._elRef.nativeElement,(s,o)=>{o&&vb(s),s.classList.add("show")},t),r=Ir(this._zone,this._dialogEl.nativeElement,()=>{},t);La(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Jt(t,"keydown").pipe(nt(this._closed$),Ze(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(gb.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;Jt(this._dialogEl.nativeElement,"mousedown").pipe(nt(this._closed$),Ge(()=>i=!1),Mt(()=>Jt(t,"mouseup").pipe(nt(this._closed$),Yt(1))),Ze(({target:r})=>t===r)).subscribe(()=>{i=!0}),Jt(t,"click").pipe(nt(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(gb.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=tx(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Ir(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=oi({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&JC(xq,7),i&2){let s;yo(s=vo())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(ir("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),$d("modal d-block"+(r.windowClass?" "+r.windowClass:"")),gn("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[gi],ngContentSelectors:mb,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(Gd(),B(0,"div",1,0)(2,"div",2),zd(3),j()()),i&2&&$d("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return n})(),r5=(()=>{class n{constructor(){this._applicationRef=N(Mn),this._injector=N(Be),this._environmentInjector=N(ut),this._document=N(rt),this._scrollBar=N(Xq),this._activeWindowCmptHasChanged=new xe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ye;let t=N(be);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];Qq(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let s=r.container instanceof HTMLElement?r.container:fb(r.container)?this._document.querySelector(r.container):this._document.body;if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let o=new up;t=r.injector||t;let a=t.get(ut,null)||this._environmentInjector,c=this._getContentRef(t,a,i,o,r),u=r.backdrop!==!1?this._attachBackdrop(s):void 0,h=this._attachWindowComponent(s,c.nodes),f=new pb(h,c,u,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.hidden.pipe(Yt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),o.close=g=>{f.close(g)},o.dismiss=g=>{f.dismiss(g)},o.update=g=>{f.update(g)},f.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),h.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=Xd(e5,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=Xd(i5,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,s,o){return r?r instanceof An?this._createFromTemplateRef(r,s):yb(r)?this._createFromString(r):this._createFromComponent(t,i,r,s,o):new ga([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}},s=t.createEmbeddedView(r);return this._applicationRef.attachView(s),new ga([s.rootNodes],s)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new ga([[i]])}_createFromComponent(t,i,r,s,o){let a=Be.create({providers:[{provide:up,useValue:s}],parent:t}),c=Xd(r,{environmentInjector:i,elementInjector:a}),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new ga([[u]],c.hostView,c)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nx=(()=>{class n{constructor(){this._injector=N(Be),this._modalStack=N(r5),this._config=N(Zq)}open(t,i={}){let r=F(ue(F({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var s5=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ix=(()=>{class n{set max(t){this._max=!Lq(t)||t<=0?100:t}get max(){return this._max}constructor(){this._config=N(s5),this.stacked=N(o5,{optional:!0}),this.animated=this._config.animated,this.ariaLabel=this._config.ariaLabel,this.striped=this._config.striped,this.showValue=this._config.showValue,this.textType=this._config.textType,this.type=this._config.type,this.value=0,this.height=this._config.height,this.max=this._config.max}getValue(){return Vq(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=oi({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:7,hostBindings:function(i,r){i&2&&(ir("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),uc("width",r.stacked?r.getPercentValue():null,"%")("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[gi],ngContentSelectors:mb,decls:3,vars:11,consts:()=>{let t;return t=$localize`:@@ngb.progressbar.value:${"\uFFFD0\uFFFD"}:INTERPOLATION:`,[t]},template:function(i,r){i&1&&(Gd(),B(0,"div"),ht(1,Oq,3,3,"span"),zd(2),j()),i&2&&(OC("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),uc("width",r.stacked?null:r.getPercentValue(),"%"),gn("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),fe(),PC(r.showValue?1:-1))},dependencies:[w1],encapsulation:2,changeDetection:0})}}return n})(),o5=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=oi({type:n,selectors:[["ngb-progressbar-stacked"]],hostAttrs:[1,"progress-stacked"],standalone:!0,features:[gi],ngContentSelectors:mb,decls:1,vars:0,template:function(i,r){i&1&&(Gd(),zd(0))},encapsulation:2,changeDetection:0})}}return n})(),rx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=$t({type:n})}static{this.\u0275inj=Ut({})}}return n})();var Xte=new H("live announcer delay",{providedIn:"root",factory:()=>100});var kl=class{level=0;category="";subcategory="";showCompleted=!0};var Fl=class{done=null;revisions=null;learn=null;study=null;read=null;write=null;teach=null;constructor(){}};var hp=class n{constructor(e,t){this.firestore=e;this.http=t}addDocument(e,t){let i=Jw(this.firestore,"dsa-progress-tracker"),r=Yw(i,t);return Oe(lN(r,{[t]:e},{merge:!0}).then(()=>t))}getDocuments(){let e=Jw(this.firestore,"dsa-progress-tracker");return oN(cN(e))}getDocumentsAsObservable(){let e=Kf(),i=["preference","progressMap","syllabus"].map(r=>{let s=Yw(e,"dsa-progress-tracker",r);return Oe(aN(s).then(o=>o.exists()?o.data():{}))});return Pr(i).pipe(Y(r=>Object.assign({},...r)))}static \u0275fac=function(t){return new(t||n)(ee(Ts),ee(Dc))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function l5(n,e){if(n&1){let t=mo();B(0,"div",19)(1,"h4",20),pe(2),j(),B(3,"button",21),Xe("click",function(){let r=tn(t).$implicit;return nn(r.dismiss("Cross click"))}),j()(),B(4,"div",22)(5,"form",23)(6,"div",24)(7,"label",25),pe(8,"Difficulty:"),j(),B(9,"div",26)(10,"select",27)(11,"option",28),pe(12,"- Select Difficulty -"),j(),B(13,"option",29),pe(14,"Easy"),j(),B(15,"option",30),pe(16,"Medium"),j(),B(17,"option",31),pe(18,"Hard"),j()()()(),B(19,"div",24)(20,"label",32),pe(21,"Article Link:"),j(),B(22,"div",26),it(23,"input",33),j()(),B(24,"div",24)(25,"label",34),pe(26,"LeetCode Link:"),j(),B(27,"div",26),it(28,"input",35),j()(),B(29,"div",24)(30,"label",36),pe(31,"CodeSignal Link:"),j(),B(32,"div",26),it(33,"input",37),j()(),B(34,"div",24)(35,"label",38),pe(36,"GeeksforGeeks Link:"),j(),B(37,"div",26),it(38,"input",39),j()(),B(39,"div",24)(40,"label",40),pe(41,"YouTube Link:"),j(),B(42,"div",26),it(43,"input",41),j()()()(),B(44,"div",42)(45,"button",43),Xe("click",function(){let r=tn(t).$implicit;return nn(r.close("Close click"))}),pe(46,"Close"),j(),B(47,"button",44),Xe("click",function(){tn(t);let r=We();return nn(r.onSubmit())}),pe(48,"Update"),j()()}if(n&2){let t,i=We();fe(2),gc((t=i.myForm.get("problem_name"))==null?null:t.value),fe(3),Ie("formGroup",i.myForm)}}function u5(n,e){n&1&&(po(0),pe(1,"Show all Levels"),go())}function d5(n,e){if(n&1&&pe(0),n&2){let t=We().$implicit;fi("Level ",t,"")}}function h5(n,e){if(n&1&&(B(0,"option",45),ht(1,u5,2,0,"ng-container",46)(2,d5,1,1,"ng-template",null,1,Qd),j()),n&2){let t=e.$implicit,i=qd(3);Ie("value",t),fe(),Ie("ngIf",t===0)("ngIfElse",i)}}function f5(n,e){if(n&1&&(B(0,"span"),pe(1),j()),n&2){let t=We();fe(),fi("Level ",t.preference.level,"")}}function p5(n,e){n&1&&(B(0,"span",69),pe(1,"Easy"),j())}function g5(n,e){n&1&&(B(0,"span",70),pe(1,"Medium"),j())}function m5(n,e){n&1&&(B(0,"span",71),pe(1,"Hard"),j())}function _5(n,e){if(n&1&&(B(0,"a",72),it(1,"img",73),j()),n&2){let t=We().$implicit;Ie("href",t.post_link,er)}}function y5(n,e){if(n&1&&(B(0,"a",72),it(1,"img",74),j()),n&2){let t=We().$implicit;Ie("href",t.yt_link,er)}}function v5(n,e){if(n&1&&(po(0),B(1,"a",72)(2,"span",75),pe(3),j()(),go()),n&2){let t=e.$implicit,i=e.index;fe(),Ie("href",t,er),fe(2),gc(i+1)}}function w5(n,e){if(n&1&&(B(0,"a",72),it(1,"img",76),j()),n&2){let t=We().$implicit;Ie("href",t.tufplus_link,er)}}function b5(n,e){if(n&1&&(B(0,"a",72),it(1,"img",77),j()),n&2){let t=We().$implicit;Ie("href",t.gfg_link,er)}}function E5(n,e){if(n&1&&(B(0,"a",72),it(1,"img",78),j()),n&2){let t=We().$implicit;Ie("href",t.cs_link,er)}}function I5(n,e){if(n&1&&(B(0,"a",72),it(1,"img",79),j()),n&2){let t=We().$implicit;Ie("href",t.lc_link,er)}}function D5(n,e){if(n&1){let t=mo();B(0,"tr")(1,"td",57)(2,"div",58)(3,"input",59),Kd("ngModelChange",function(r){let s=tn(t).$implicit;return A_(s.isDone,r)||(s.isDone=r),nn(r)}),Xe("change",function(r){let s=tn(t).$implicit,o=We(5);return nn(o.updateProblemStatus(r,s,s.problem_id,"done"))}),j()()(),B(4,"td",57),ht(5,p5,2,0,"span",60)(6,g5,2,0,"span",61)(7,m5,2,0,"span",62),j(),B(8,"td")(9,"a",63),Xe("click",function(){let r=tn(t).$implicit,s=We(5),o=qd(2);return nn(s.open(o,r))}),KD(),B(10,"svg",64),it(11,"path",65),j()(),pe(12),j(),QD(),B(13,"td",57),ht(14,_5,2,1,"a",66),j(),B(15,"td",67),ht(16,y5,2,1,"a",66)(17,v5,4,2,"ng-container",68),j(),B(18,"td",57),ht(19,w5,2,1,"a",66),j(),B(20,"td",57),ht(21,b5,2,1,"a",66),j(),B(22,"td",57),ht(23,E5,2,1,"a",66),j(),B(24,"td",57),ht(25,I5,2,1,"a",66),j(),it(26,"td",57),j()}if(n&2){let t=e.$implicit;fe(3),Wd("ngModel",t.isDone),fe(2),Ie("ngIf",t.difficulty=="1"),fe(),Ie("ngIf",t.difficulty=="2"),fe(),Ie("ngIf",t.difficulty=="3"),fe(5),fi(" ",t.problem_name," "),fe(2),Ie("ngIf",t.post_link),fe(2),Ie("ngIf",t.yt_link),fe(),Ie("ngForOf",t.videos_link),fe(2),Ie("ngIf",t.tufplus_link),fe(2),Ie("ngIf",t.gfg_link),fe(2),Ie("ngIf",t.cs_link),fe(2),Ie("ngIf",t.lc_link)}}function T5(n,e){if(n&1&&(B(0,"table",56)(1,"thead")(2,"tr")(3,"th",57),pe(4,"Status"),j(),B(5,"th",57),pe(6,"Difficulty"),j(),B(7,"th"),pe(8,"Problem"),j(),B(9,"th",57),pe(10,"Article"),j(),B(11,"th",57),pe(12,"Video"),j(),B(13,"th",57),pe(14,"Tuf+"),j(),B(15,"th",57),pe(16,"GFG"),j(),B(17,"th",57),pe(18,"CN"),j(),B(19,"th",57),pe(20,"LC"),j(),B(21,"th",57),pe(22,"Revision"),j()()(),B(23,"tbody"),hc(24,D5,27,12,"tr",null,dc),j()()),n&2){let t=We().$implicit;fe(24),fc(t.problems)}}function C5(n,e){if(n&1&&(B(0,"div",18)(1,"h2",47)(2,"button",55)(3,"span",50),pe(4),j()()(),B(5,"div",51)(6,"div",52),ht(7,T5,26,0,"ng-template"),j()()()),n&2){let t=e.$implicit,i=We(3);Ie("collapsed",t.subcategory_slug!==i.preference.subcategory)("hidden",i.preference.showCompleted==!1&&t.donePercent===100),fe(4),mc(" ",t.subcategory_name," ( ",t.doneProblems," / ",t.totalProblems," )")}}function S5(n,e){if(n&1&&(B(0,"div",11)(1,"div",53)(2,"ngb-progressbar",54)(3,"i"),pe(4),j()()()(),B(5,"div",17),hc(6,C5,8,5,"div",18,dc),j()),n&2){let t=We().$implicit;fe(2),Ie("value",t.donePercent)("striped",!0)("animated",!0),fe(2),fi("",t.donePercent," %"),fe(),Ie("closeOthers",!0),fe(),fc(t.subcategories)}}function A5(n,e){if(n&1){let t=mo();B(0,"div",18)(1,"h2",47)(2,"button",48)(3,"div",12)(4,"input",49),Xe("change",function(r){let s=tn(t).$implicit,o=We();return nn(o.updatecategoryStatus(r,s))}),j(),B(5,"span",50),pe(6),j()()()(),B(7,"div",51)(8,"div",52),ht(9,S5,8,5,"ng-template"),j()()()}if(n&2){let t=e.$implicit,i=We();Ie("collapsed",t.category_slug!==i.preference.category)("hidden",i.preference.showCompleted==!1&&t.donePercent===100),fe(4),Ie("checked",t.donePercent===100),fe(2),mc(" ",t.category_name," ( ",t.doneProblems," / ",t.totalProblems," ) ")}}var fp=class n{constructor(e,t,i,r){this.auth=e;this.httpClient=t;this.dataService=i;this.fb=r;this.myForm=new fa({problem_id:new ke(""),category_id:new ke(""),problem_slug:new ke(""),subcategory_slug:new ke(""),category_slug:new ke(""),subcategory_id:new ke(""),problem_name:new ke(""),problem_rank:new ke(0),hasIDE:new ke(0),difficulty:new ke(null),tufplus_link:new ke(""),lc_link:new ke(""),cs_link:new ke(""),gfg_link:new ke(""),post_link:new ke(""),yt_link:new ke(""),step_title:new ke(""),sub_step_title:new ke(""),videos_link:new ke([]),isDone:new ke(!1)})}syllabus=[];filteredSyllabus=[];filteredTotalProblems=0;filteredDoneProblems=0;filteredDonePercent=0;preference=new kl;progressMap=new Map;numbers=Array.from({length:11},(e,t)=>t);modalService=N(nx);closeResult="";myForm;ngOnInit(){rR(this.auth,"rsathishkumar4@gmail.com","Easytype@2024").then(()=>{console.log("Logged in to google...")}).catch(e=>{console.log("Error while Logging to google...")}),this.dataService.getDocumentsAsObservable().subscribe(e=>{e.preference&&localStorage.setItem("preference",e.preference),e.progressMap&&localStorage.setItem("progressMap",e.progressMap),e.syllabus&&localStorage.setItem("syllabus",e.syllabus),this.loadProblems()})}ngAfterViewInit(){this.scrollToExpandedAccordion()}scrollToExpandedAccordion(){let e=document.querySelector(".accordion-collapse.show");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}open(e,t){t?this.myForm.patchValue({problem_id:t.problem_id,category_id:t.category_id,problem_slug:t.problem_slug,subcategory_slug:t.subcategory_slug,category_slug:t.category_slug,subcategory_id:t.subcategory_id,problem_name:t.problem_name,problem_rank:t.problem_rank,hasIDE:t.hasIDE,difficulty:t.difficulty,tufplus_link:t.tufplus_link,lc_link:t.lc_link,cs_link:t.cs_link,gfg_link:t.gfg_link,post_link:t.post_link,yt_link:t.yt_link,step_title:t.step_title,sub_step_title:t.sub_step_title,videos_link:t.videos_link||[],isDone:t.isDone||!1}):this.myForm.reset(),this.modalService.open(e)}onSubmit(){if(this.myForm.valid){if(this.syllabus){let e=!1;if(this.syllabus.forEach(t=>{t.subcategories.forEach(i=>{i.problems.forEach(r=>{r.problem_id===this.myForm.value.problem_id&&(Object.assign(r,this.myForm.value),e=!0)})})}),e){let t=JSON.stringify(this.syllabus);localStorage.setItem("syllabus",t),this.dataService.addDocument(t,"syllabus").subscribe(i=>{console.log("Firebase Updated : ",i)},i=>{console.error("Error Firebase Updating : ",i)})}}this.modalService.dismissAll()}else console.error("Form is invalid")}loadProblems(){let e=localStorage.getItem("syllabus");e?(this.syllabus=JSON.parse(e),this.loadPreferences()):this.httpClient.get("assets/json/problems.json").subscribe(t=>{this.syllabus=t;let i=JSON.stringify(this.syllabus);localStorage.setItem("syllabus",i),this.dataService.addDocument(i,"syllabus").subscribe(r=>{console.log("Firebase Updated : ",r)},r=>{console.error("Error Firebase Updating : ",r)}),this.loadPreferences()},t=>{console.error("Failed to load problems:",t)})}loadPreferences(){let e=localStorage.getItem("preference");e&&(this.preference=JSON.parse(e)),this.loadProgress()}filterCategoriesBySubcategoryRank(e){return e===0?this.syllabus:this.syllabus.map(t=>ue(F({},t),{subcategories:t.subcategories.filter(i=>i.subcategory_rank===e)})).filter(t=>t.subcategories.length>0)}updatePreferences(e,t){switch(e){case"level":this.preference.level=Number(t);break;case"category":this.preference.category=String(t);break;case"subcategory":this.preference.category=String(t);break;case"showCompleted":this.preference.showCompleted=!!t.target.checked;break;default:break}let i=JSON.stringify(this.preference);localStorage.setItem("preference",i),this.dataService.addDocument(i,"preference").subscribe(r=>{console.log("Firebase Updated : ",r)},r=>{console.error("Error Firebase Updating : ",r)}),this.loadProgress()}loadProgress(){this.preference||(this.preference=new kl),this.filteredTotalProblems=0,this.filteredDoneProblems=0,this.filteredDonePercent=0,this.filteredSyllabus=this.filterCategoriesBySubcategoryRank(this.preference.level);let e=localStorage.getItem("progressMap");if(e){let t=JSON.parse(e);this.progressMap=new Map(t)}this.filteredSyllabus.forEach(t=>{t.totalProblems=0,t.doneProblems=0,t.subcategories.forEach(i=>{i.totalProblems=0,i.doneProblems=0,i.problems.forEach(r=>{i.totalProblems++,this.progressMap.has(r.problem_id)&&(r.isDone=this.progressMap.get(r.problem_id)?.done,r.isDone&&(i.doneProblems++,t.doneProblems++)),t.totalProblems++}),i.totalProblems>0?i.donePercent=Number((i.doneProblems/i.totalProblems*100).toFixed(2)):i.donePercent=+"0.00"}),t.totalProblems>0?t.donePercent=Number((t.doneProblems/t.totalProblems*100).toFixed(2)):t.donePercent=+"0.00",this.filteredTotalProblems+=t.totalProblems,this.filteredDoneProblems+=t.doneProblems}),this.filteredTotalProblems>0?this.filteredDonePercent=Number((this.filteredDoneProblems/this.filteredTotalProblems*100).toFixed(2)):this.filteredDonePercent=+"0.00"}updatecategoryStatus(e,t){let i=e.target;t.subcategories.forEach(o=>{o.problems.forEach(a=>{if(i.checked){let c=this.progressMap.get(a.problem_id)||new Fl;this.setProgress(c,"done"),this.progressMap.set(a.problem_id,c)}else a.isDone=!1,this.progressMap.delete(a.problem_id)})}),this.preference.category="",this.preference.subcategory="";let r=JSON.stringify(this.preference);localStorage.setItem("preference",r),this.dataService.addDocument(r,"preference").subscribe(o=>{console.log("Firebase Updated : ",o)},o=>{console.error("Error Firebase Updating : ",o)});let s=JSON.stringify(Array.from(this.progressMap.entries()));localStorage.setItem("progressMap",s),this.dataService.addDocument(s,"progressMap").subscribe(o=>{console.log("Firebase Updated : ",o)},o=>{console.error("Error Firebase Updating : ",o)}),this.loadProgress()}updateProblemStatus(e,t,i,r){if(e.target.checked){let c=this.progressMap.get(i)||new Fl;this.setProgress(c,r),this.progressMap.set(i,c)}else this.progressMap.delete(i);this.preference.category=t.category_slug,this.preference.subcategory=t.subcategory_slug;let o=JSON.stringify(this.preference);localStorage.setItem("preference",o),this.dataService.addDocument(o,"preference").subscribe(c=>{console.log("Firebase Updated : ",c)},c=>{console.error("Error Firebase Updating : ",c)});let a=JSON.stringify(Array.from(this.progressMap.entries()));localStorage.setItem("progressMap",a),this.dataService.addDocument(a,"progressMap").subscribe(c=>{console.log("Firebase Updated : ",c)},c=>{console.error("Error Firebase Updating : ",c)}),this.loadProgress()}setProgress(e,t){let i=Date.now();switch(t){case"done":e.done=i;break;case"learn":e.learn=i;break;case"study":e.study=i;break;case"read":e.read=i;break;case"write":e.write=i;break;case"teach":e.teach=i;break;case"revisions":e.revisions||(e.revisions=[]),e.revisions.push(i);break;default:console.warn(`Unknown status: ${t}`)}}static \u0275fac=function(t){return new(t||n)(re(ds),re(Dc),re(hp),re(qN))};static \u0275cmp=oi({type:n,selectors:[["app-root"]],standalone:!0,features:[gi],decls:25,vars:12,consts:[["content",""],["showNum",""],[1,"container"],[1,"row","align-items-center"],[1,"col-2","mt-3","mb-3"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-3"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckChecked",1,"form-check-input",3,"change","checked"],["for","flexSwitchCheckChecked",1,"form-check-label"],[1,"row"],[1,"col-md-4"],[2,"color","orangered"],[4,"ngIf"],[1,"col-md-8",2,"margin-top","5px"],["type","warning",1,"mb-3",3,"value","striped","animated"],["ngbAccordion","",3,"closeOthers"],["ngbAccordionItem","",3,"collapsed","hidden"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3","row"],["for","difficulty",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","difficulty","formControlName","difficulty",1,"form-select"],["value","","disabled","","selected",""],["value","1"],["value","2"],["value","3"],["for","post_link",1,"col-sm-4","col-form-label"],["id","post_link","formControlName","post_link",1,"form-control"],["for","lc_link",1,"col-sm-4","col-form-label"],["id","lc_link","formControlName","lc_link",1,"form-control"],["for","cs_link",1,"col-sm-4","col-form-label"],["id","cs_link","formControlName","cs_link",1,"form-control"],["for","gfg_link",1,"col-sm-4","col-form-label"],["id","gfg_link","formControlName","gfg_link",1,"form-control"],["for","yt_link",1,"col-sm-4","col-form-label"],["id","yt_link","formControlName","yt_link",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"],[4,"ngIf","ngIfElse"],["ngbAccordionHeader",""],["ngbAccordionButton","",1,"d-flex","justify-content-between","align-items-center","w-100"],["type","checkbox",1,"form-check-input","m-0","checkbox-tick",3,"change","checked"],[1,"ms-2"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[1,"mb-3"],["type","primary",1,"",3,"value","striped","animated"],["ngbAccordionButton",""],[1,"table","table-bordered"],[1,"text-center"],[1,"form-check","form-check-inline"],["type","checkbox",1,"form-check-input","checkbox-tick",3,"ngModelChange","change","ngModel"],["class","badge bg-success",4,"ngIf"],["class","badge bg-warning",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],["href","javascript:void(0)",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px"],["fill","#7D7F7D","d","M 18 2 L 15.585938 4.4140625 L 19.585938 8.4140625 L 22 6 L 18 2 z M 14.076172 5.9238281 L 3 17 L 3 21 L 7 21 L 18.076172 9.9238281 L 14.076172 5.9238281 z"],["target","_blank",3,"href",4,"ngIf"],[1,"text-center","td-content"],[4,"ngFor","ngForOf"],[1,"badge","bg-success"],[1,"badge","bg-warning"],[1,"badge","bg-danger"],["target","_blank",3,"href"],["src","./assets/images/article.svg"],["src","./assets/images/yt.svg"],[1,"badge","bg-primary"],["src","./assets/images/tufplus.svg"],["src","./assets/images/gfg.svg"],["src","./assets/images/csninja.png","width","30"],["src","./assets/images/lc.svg"]],template:function(t,i){if(t&1){let r=mo();B(0,"div",2),ht(1,l5,49,2,"ng-template",null,0,Qd),B(3,"div",3)(4,"div",4)(5,"select",5),Kd("ngModelChange",function(o){return tn(r),A_(i.preference.level,o)||(i.preference.level=o),nn(o)}),Xe("ngModelChange",function(o){return tn(r),nn(i.updatePreferences("level",o))}),ht(6,h5,4,3,"option",6),j()(),B(7,"div",7)(8,"div",8)(9,"input",9),Xe("change",function(o){return tn(r),nn(i.updatePreferences("showCompleted",o))}),j(),B(10,"b",10),pe(11,"Show Completed"),j()()()(),po(12),B(13,"div",11)(14,"div",12)(15,"b",13),ht(16,f5,2,1,"span",14),pe(17),j()(),B(18,"div",15)(19,"ngb-progressbar",16)(20,"i"),pe(21),j()()()(),go(),B(22,"div",17),hc(23,A5,10,6,"div",18,dc),j()()}t&2&&(fe(5),Wd("ngModel",i.preference.level),fe(),Ie("ngForOf",i.numbers),fe(3),Ie("checked",i.preference.showCompleted),fe(7),Ie("ngIf",i.preference.level),fe(),mc(" Progress ( ",i.filteredDoneProblems," of ",i.filteredTotalProblems," - Remaining ",i.filteredTotalProblems-i.filteredDoneProblems," ) : "),fe(2),Ie("value",i.filteredDonePercent)("striped",!0)("animated",!0),fe(2),fi("",i.filteredDonePercent," %"),fe(),Ie("closeOthers",!0),fe(),fc(i.filteredSyllabus))},dependencies:[k_,y1,v1,F1,ex,ZN,dp,Dr,XN,YN,wb,rx,ix,WN,BN,$N,GN,rp,rb,cp,NN,xN,ub,KN,db,hb],styles:['.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#ff4500;font-weight:700;background-color:#343a40}.checkbox-tick[_ngcontent-%COMP%]{appearance:none;width:25px;height:25px;border:2px dotted #999;border-radius:50%!important;outline:none;cursor:pointer;position:relative}.checkbox-tick[_ngcontent-%COMP%]:checked{background-color:#4caf50;border:none}.checkbox-tick[_ngcontent-%COMP%]:checked:after{content:"";position:absolute;left:9px;top:4px;width:8px;height:14px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}a[_ngcontent-%COMP%]{font-weight:500;color:rgb(144 144 144 / var(--tw-text-opacity));text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.btn-random[_ngcontent-%COMP%]{border:2px solid #7D7F7D;background-color:transparent;color:#7d7f7d;padding:10px 20px;cursor:pointer;transition:background-color .3s,color .3s}.td-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 5px}']})};z1(fp,dN).catch(n=>console.error(n));
