var oO=Object.defineProperty,aO=Object.defineProperties;var cO=Object.getOwnPropertyDescriptors;var sE=Object.getOwnPropertySymbols,lO=Object.getPrototypeOf,uO=Object.prototype.hasOwnProperty,dO=Object.prototype.propertyIsEnumerable,hO=Reflect.get;var oE=(t,e,n)=>e in t?oO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})uO.call(e,n)&&oE(t,n,e[n]);if(sE)for(var n of sE(e))dO.call(e,n)&&oE(t,n,e[n]);return t},ue=(t,e)=>aO(t,cO(e));var Mi=(t,e,n)=>hO(lO(t),n,e);var E=(t,e,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(u){r(u)}},o=c=>{try{a(n.throw(c))}catch(u){r(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function aE(t,e){return Object.is(t,e)}var Qe=null,Kl=!1,Ql=1,Gn=Symbol("SIGNAL");function fe(t){let e=Qe;return Qe=t,e}function cE(){return Qe}var Ta={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Rp(t){if(Kl)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(t);let e=Qe.nextProducerIndex++;if(Xl(Qe),e<Qe.producerNode.length&&Qe.producerNode[e]!==t&&Da(Qe)){let n=Qe.producerNode[e];Zl(n,Qe.producerIndexOfThis[e])}Qe.producerNode[e]!==t&&(Qe.producerNode[e]=t,Qe.producerIndexOfThis[e]=Da(Qe)?hE(t,Qe,e):0),Qe.producerLastReadVersion[e]=t.version}function fO(){Ql++}function lE(t){if(!(Da(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ql)){if(!t.producerMustRecompute(t)&&!Np(t)){t.dirty=!1,t.lastCleanEpoch=Ql;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ql}}function uE(t){if(t.liveConsumerNode===void 0)return;let e=Kl;Kl=!0;try{for(let n of t.liveConsumerNode)n.dirty||pO(n)}finally{Kl=e}}function dE(){return Qe?.consumerAllowSignalWrites!==!1}function pO(t){t.dirty=!0,uE(t),t.consumerMarkedDirty?.(t)}function Yl(t){return t&&(t.nextProducerIndex=0),fe(t)}function Mp(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Da(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Zl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Np(t){Xl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(lE(n),i!==n.version))return!0}return!1}function Op(t){if(Xl(t),Da(t))for(let e=0;e<t.producerNode.length;e++)Zl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hE(t,e,n){if(fE(t),t.liveConsumerNode.length===0&&pE(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=hE(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Zl(t,e){if(fE(t),t.liveConsumerNode.length===1&&pE(t))for(let i=0;i<t.producerNode.length;i++)Zl(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Xl(r),r.producerIndexOfThis[i]=e}}function Da(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function fE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function pE(t){return t.producerNode!==void 0}function gE(t){let e=Object.create(gO);e.computation=t;let n=()=>{if(lE(e),Rp(e),e.value===Jl)throw e.error;return e.value};return n[Gn]=e,n}var Sp=Symbol("UNSET"),Ap=Symbol("COMPUTING"),Jl=Symbol("ERRORED"),gO=ue(V({},Ta),{value:Sp,dirty:!0,error:null,equal:aE,producerMustRecompute(t){return t.value===Sp||t.value===Ap},producerRecomputeValue(t){if(t.value===Ap)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ap;let n=Yl(t),i;try{i=t.computation()}catch(r){i=Jl,t.error=r}finally{Mp(t,n)}if(e!==Sp&&e!==Jl&&i!==Jl&&t.equal(e,i)){t.value=e;return}t.value=i,t.version++}});function mO(){throw new Error}var mE=mO;function _E(){mE()}function yE(t){mE=t}var _O=null;function vE(t){let e=Object.create(bE);e.value=t;let n=()=>(Rp(e),e.value);return n[Gn]=e,n}function xp(t,e){dE()||_E(),t.equal(t.value,e)||(t.value=e,yO(t))}function wE(t,e){dE()||_E(),xp(t,e(t.value))}var bE=ue(V({},Ta),{equal:aE,value:void 0});function yO(t){t.version++,fO(),uE(t),_O?.()}function Q(t){return typeof t=="function"}function Cs(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var eu=Cs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ir(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(Q(i))try{i()}catch(s){e=s instanceof eu?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{EE(s)}catch(o){e=e??[],o instanceof eu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new eu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)EE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ir(n,e)}remove(e){let{_finalizers:n}=this;n&&Ir(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var Pp=Ue.EMPTY;function tu(t){return t instanceof Ue||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function EE(t){Q(t)?t():t.unsubscribe()}var rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ss={setTimeout(t,e,...n){let{delegate:i}=Ss;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ss;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function nu(t){Ss.setTimeout(()=>{let{onUnhandledError:e}=rn;if(e)e(t);else throw t})}function Dr(){}var IE=kp("C",void 0,void 0);function DE(t){return kp("E",void 0,t)}function TE(t){return kp("N",t,void 0)}function kp(t,e,n){return{kind:t,value:e,error:n}}var Tr=null;function As(t){if(rn.useDeprecatedSynchronousErrorHandling){let e=!Tr;if(e&&(Tr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Tr;if(Tr=null,n)throw i}}else t()}function CE(t){rn.useDeprecatedSynchronousErrorHandling&&Tr&&(Tr.errorThrown=!0,Tr.error=t)}var Cr=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,tu(e)&&e.add(this)):this.destination=bO}static create(e,n,i){return new Rs(e,n,i)}next(e){this.isStopped?Vp(TE(e),this):this._next(e)}error(e){this.isStopped?Vp(DE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Vp(IE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vO=Function.prototype.bind;function Fp(t,e){return vO.call(t,e)}var Lp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){iu(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){iu(i)}else iu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){iu(n)}}},Rs=class extends Cr{constructor(e,n,i){super();let r;if(Q(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&rn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Fp(e.next,s),error:e.error&&Fp(e.error,s),complete:e.complete&&Fp(e.complete,s)}):r=e}this.destination=new Lp(r)}};function iu(t){rn.useDeprecatedSynchronousErrorHandling?CE(t):nu(t)}function wO(t){throw t}function Vp(t,e){let{onStoppedNotification:n}=rn;n&&Ss.setTimeout(()=>n(t,e))}var bO={closed:!0,next:Dr,error:wO,complete:Dr};var Ms=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ct(t){return t}function ru(...t){return Bp(t)}function Bp(t){return t.length===0?Ct:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var J=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=IO(n)?n:new Rs(n,i,r);return As(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=SE(i),new i((r,s)=>{let o=new Rs({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ms](){return this}pipe(...n){return Bp(n)(this)}toPromise(n){return n=SE(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function SE(t){var e;return(e=t??rn.Promise)!==null&&e!==void 0?e:Promise}function EO(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function IO(t){return t&&t instanceof Cr||EO(t)&&tu(t)}function jp(t){return Q(t?.lift)}function pe(t){return e=>{if(jp(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,i,r){return new Up(t,e,n,i,r)}var Up=class extends Cr{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ns(){return pe((t,e)=>{let n=null;t._refCount++;let i=oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Os=class extends J{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,jp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(oe(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return Ns()(this)}};var AE=Cs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=(()=>{class t extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new su(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new AE}next(n){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Pp:(this.currentObservers=null,s.push(n),new Ue(()=>{this.currentObservers=null,Ir(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new J;return n.source=this,n}}return t.create=(e,n)=>new su(e,n),t})(),su=class extends Me{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Pp}};var Ze=class extends Me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var $p={now(){return($p.delegate||Date).now()},delegate:void 0};var ou=class extends Ue{constructor(e,n){super()}schedule(e,n=0){return this}};var Ca={setInterval(t,e,...n){let{delegate:i}=Ca;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ca;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var xs=class extends ou{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return Ca.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Ca.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ir(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ps=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Ps.now=$p.now;var ks=class extends Ps{constructor(e,n=Ps.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var au=new ks(xs),Hp=au;var cu=class extends xs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var lu=class extends ks{};var Gp=new lu(cu);var st=new J(t=>t.complete());function uu(t){return t&&Q(t.schedule)}function RE(t){return t[t.length-1]}function Ni(t){return Q(RE(t))?t.pop():void 0}function Oi(t){return uu(RE(t))?t.pop():void 0}function zp(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function NE(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(i.next(h))}catch(f){o(f)}}function c(h){try{u(i.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):r(h.value).then(a,c)}u((i=i.apply(t,e||[])).next())})}function ME(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sr(t){return this instanceof Sr?(this.v=t,this):new Sr(t)}function OE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(_){return function(v){return Promise.resolve(v).then(_,f)}}function a(_,v){i[_]&&(r[_]=function(S){return new Promise(function(A,O){s.push([_,S,A,O])>1||c(_,S)})},v&&(r[_]=v(r[_])))}function c(_,v){try{u(i[_](v))}catch(S){g(s[0][3],S)}}function u(_){_.value instanceof Sr?Promise.resolve(_.value.v).then(h,f):g(s[0][2],_)}function h(_){c("next",_)}function f(_){c("throw",_)}function g(_,v){_(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function xE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ME=="function"?ME(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Fs=t=>t&&typeof t.length=="number"&&typeof t!="function";function du(t){return Q(t?.then)}function hu(t){return Q(t[Ms])}function fu(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function pu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function DO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gu=DO();function mu(t){return Q(t?.[gu])}function _u(t){return OE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Sr(n.read());if(r)return yield Sr(void 0);yield yield Sr(i)}}finally{n.releaseLock()}})}function yu(t){return Q(t?.getReader)}function Se(t){if(t instanceof J)return t;if(t!=null){if(hu(t))return TO(t);if(Fs(t))return CO(t);if(du(t))return SO(t);if(fu(t))return PE(t);if(mu(t))return AO(t);if(yu(t))return RO(t)}throw pu(t)}function TO(t){return new J(e=>{let n=t[Ms]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CO(t){return new J(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function SO(t){return new J(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,nu)})}function AO(t){return new J(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function PE(t){return new J(e=>{MO(t,e).catch(n=>e.error(n))})}function RO(t){return PE(_u(t))}function MO(t,e){var n,i,r,s;return NE(this,void 0,void 0,function*(){try{for(n=xE(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function xt(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function xi(t,e=0){return pe((n,i)=>{n.subscribe(oe(i,r=>xt(i,t,()=>i.next(r),e),()=>xt(i,t,()=>i.complete(),e),r=>xt(i,t,()=>i.error(r),e)))})}function Pi(t,e=0){return pe((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function kE(t,e){return Se(t).pipe(Pi(e),xi(e))}function FE(t,e){return Se(t).pipe(Pi(e),xi(e))}function VE(t,e){return new J(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function LE(t,e){return new J(n=>{let i;return xt(n,e,()=>{i=t[gu](),xt(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>Q(i?.return)&&i.return()})}function vu(t,e){if(!t)throw new Error("Iterable cannot be null");return new J(n=>{xt(n,e,()=>{let i=t[Symbol.asyncIterator]();xt(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function BE(t,e){return vu(_u(t),e)}function jE(t,e){if(t!=null){if(hu(t))return kE(t,e);if(Fs(t))return VE(t,e);if(du(t))return FE(t,e);if(fu(t))return vu(t,e);if(mu(t))return LE(t,e);if(yu(t))return BE(t,e)}throw pu(t)}function Ne(t,e){return e?jE(t,e):Se(t)}function Z(...t){let e=Oi(t);return Ne(t,e)}function Vs(t,e){let n=Q(t)?t:()=>t,i=r=>r.error(n());return new J(e?r=>e.schedule(i,0,r):i)}function qp(t){return!!t&&(t instanceof J||Q(t.lift)&&Q(t.subscribe))}var zn=Cs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function UE(t){return t instanceof Date&&!isNaN(t)}function Y(t,e){return pe((n,i)=>{let r=0;n.subscribe(oe(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:NO}=Array;function OO(t,e){return NO(e)?t(...e):t(e)}function Ls(t){return Y(e=>OO(t,e))}var{isArray:xO}=Array,{getPrototypeOf:PO,prototype:kO,keys:FO}=Object;function wu(t){if(t.length===1){let e=t[0];if(xO(e))return{args:e,keys:null};if(VO(e)){let n=FO(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function VO(t){return t&&typeof t=="object"&&PO(t)===kO}function bu(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Ar(...t){let e=Oi(t),n=Ni(t),{args:i,keys:r}=wu(t);if(i.length===0)return Ne([],e);let s=new J(LO(i,e,r?o=>bu(r,o):Ct));return n?s.pipe(Ls(n)):s}function LO(t,e,n=Ct){return i=>{$E(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)$E(e,()=>{let u=Ne(t[c],e),h=!1;u.subscribe(oe(i,f=>{s[c]=f,h||(h=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function $E(t,e,n){t?xt(n,t,e):e()}function HE(t,e,n,i,r,s,o,a){let c=[],u=0,h=0,f=!1,g=()=>{f&&!c.length&&!u&&e.complete()},_=S=>u<i?v(S):c.push(S),v=S=>{s&&e.next(S),u++;let A=!1;Se(n(S,h++)).subscribe(oe(e,O=>{r?.(O),s?_(O):e.next(O)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;c.length&&u<i;){let O=c.shift();o?xt(e,o,()=>v(O)):v(O)}g()}catch(O){e.error(O)}}))};return t.subscribe(oe(e,_,()=>{f=!0,g()})),()=>{a?.()}}function $e(t,e,n=1/0){return Q(e)?$e((i,r)=>Y((s,o)=>e(i,s,r,o))(Se(t(i,r))),n):(typeof e=="number"&&(n=e),pe((i,r)=>HE(i,r,t,n)))}function Wp(t=1/0){return $e(Ct,t)}function GE(){return Wp(1)}function ki(...t){return GE()(Ne(t,Oi(t)))}function Eu(t){return new J(e=>{Se(t()).subscribe(e)})}function Kp(...t){let e=Ni(t),{args:n,keys:i}=wu(t),r=new J(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let h=0;h<o;h++){let f=!1;Se(n[h]).subscribe(oe(s,g=>{f||(f=!0,u--),a[h]=g},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(i?bu(i,a):a),s.complete())}))}});return e?r.pipe(Ls(e)):r}var BO=["addListener","removeListener"],jO=["addEventListener","removeEventListener"],UO=["on","off"];function zt(t,e,n,i){if(Q(n)&&(i=n,n=void 0),i)return zt(t,e,n).pipe(Ls(i));let[r,s]=GO(t)?jO.map(o=>a=>t[o](e,a,n)):$O(t)?BO.map(zE(t,e)):HO(t)?UO.map(zE(t,e)):[];if(!r&&Fs(t))return $e(o=>zt(o,e,n))(Se(t));if(!r)throw new TypeError("Invalid event target");return new J(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function zE(t,e){return n=>i=>t[n](e,i)}function $O(t){return Q(t.addListener)&&Q(t.removeListener)}function HO(t){return Q(t.on)&&Q(t.off)}function GO(t){return Q(t.addEventListener)&&Q(t.removeEventListener)}function Qp(t=0,e,n=Hp){let i=-1;return e!=null&&(uu(e)?n=e:i=e),new J(r=>{let s=UE(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}var{isArray:zO}=Array;function Iu(t){return t.length===1&&zO(t[0])?t[0]:t}function Je(t,e){return pe((n,i)=>{let r=0;n.subscribe(oe(i,s=>t.call(e,s,r++)&&i.next(s)))})}function Jp(...t){return t=Iu(t),t.length===1?Se(t[0]):new J(qO(t))}function qO(t){return e=>{let n=[];for(let i=0;n&&!e.closed&&i<t.length;i++)n.push(Se(t[i]).subscribe(oe(e,r=>{if(n){for(let s=0;s<n.length;s++)s!==i&&n[s].unsubscribe();n=null}e.next(r)})))}}function Sa(...t){let e=Ni(t),n=Iu(t);return n.length?new J(i=>{let r=n.map(()=>[]),s=n.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<n.length;o++)Se(n[o]).subscribe(oe(i,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(u=>u.shift());i.next(e?e(...c):c),r.some((u,h)=>!u.length&&s[h])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):st}function Fi(t){return pe((e,n)=>{let i=null,r=!1,s;i=e.subscribe(oe(n,void 0,void 0,o=>{s=Se(t(o,Fi(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function qE(t,e,n,i,r){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(oe(o,h=>{let f=u++;c=a?t(c,h,f):(a=!0,h),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function Vi(t,e){return Q(e)?$e(t,e,1):$e(t,1)}function Li(t){return pe((e,n)=>{let i=!1;e.subscribe(oe(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function qt(t){return t<=0?()=>st:pe((e,n)=>{let i=0;e.subscribe(oe(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Yp(t){return Y(()=>t)}function Du(t=WO){return pe((e,n)=>{let i=!1;e.subscribe(oe(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function WO(){return new zn}function Zp(...t){return e=>ki(e,Z(...t))}function qn(t){return pe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Je((r,s)=>t(r,s,i)):Ct,qt(1),n?Li(e):Du(()=>new zn))}function Bs(t){return t<=0?()=>st:pe((e,n)=>{let i=[];e.subscribe(oe(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Xp(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Je((r,s)=>t(r,s,i)):Ct,Bs(1),n?Li(e):Du(()=>new zn))}function Tu(t,e){return pe(qE(t,e,arguments.length>=2,!0))}function Aa(...t){let e=Oi(t);return pe((n,i)=>{(e?ki(t,n,e):ki(t,n)).subscribe(i)})}function St(t,e){return pe((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(oe(i,c=>{r?.unsubscribe();let u=0,h=s++;Se(t(c,h)).subscribe(r=oe(i,f=>i.next(e?e(c,f,h,u++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Xe(t){return pe((e,n)=>{Se(t).subscribe(oe(n,()=>n.complete(),Dr)),!n.closed&&e.subscribe(n)})}function He(t,e,n){let i=Q(t)||e||n?{next:t,error:e,complete:n}:t;return i?pe((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(oe(s,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),s.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):Ct}function Cu(...t){let e=Ni(t);return pe((n,i)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)Se(t[c]).subscribe(oe(i,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Ct))&&(o=null))},Dr));n.subscribe(oe(i,c=>{if(a){let u=[c,...s];i.next(e?e(...u):u)}}))})}var xI="https://g.co/ng/security#xss",H=class extends Error{constructor(e,n){super(fd(e,n)),this.code=e}};function fd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ha(t){return{toString:t}.toString()}var Su="__parameters__";function KO(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function PI(t,e,n){return Ha(()=>{let i=KO(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,h){let f=c.hasOwnProperty(Su)?c[Su]:Object.defineProperty(c,Su,{value:[]})[Su];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Mr=globalThis;function Oe(t){for(let e in t)if(t[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function QO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Rt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Rt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function mg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var JO=Oe({__forward_ref__:Oe});function ti(t){return t.__forward_ref__=ti,t.toString=function(){return Rt(this())},t}function ot(t){return kI(t)?t():t}function kI(t){return typeof t=="function"&&t.hasOwnProperty(JO)&&t.__forward_ref__===ti}function YO(t,e,n){t!=e&&ZO(n,t,e,"==")}function ZO(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(i==null?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function pd(t){return WE(t,VI)||WE(t,LI)}function FI(t){return pd(t)!==null}function WE(t,e){return t.hasOwnProperty(e)?t[e]:null}function XO(t){let e=t&&(t[VI]||t[LI]);return e||null}function KE(t){return t&&(t.hasOwnProperty(QE)||t.hasOwnProperty(ex))?t[QE]:null}var VI=Oe({\u0275prov:Oe}),QE=Oe({\u0275inj:Oe}),LI=Oe({ngInjectableDef:Oe}),ex=Oe({ngInjectorDef:Oe}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function BI(t){return t&&!!t.\u0275providers}var tx=Oe({\u0275cmp:Oe}),nx=Oe({\u0275dir:Oe}),ix=Oe({\u0275pipe:Oe}),rx=Oe({\u0275mod:Oe}),ju=Oe({\u0275fac:Oe}),Ma=Oe({__NG_ELEMENT_ID__:Oe}),JE=Oe({__NG_ENV_ID__:Oe});function _n(t){return typeof t=="string"?t:t==null?"":String(t)}function sx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_n(t)}function ox(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,t)}function Tm(t,e){throw new H(-201,!1)}var de=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(de||{}),_g;function jI(){return _g}function Pt(t){let e=_g;return _g=t,e}function UI(t,e,n){let i=pd(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&de.Optional)return null;if(e!==void 0)return e;Tm(t,"Injector")}var ax={},Pa=ax,yg="__NG_DI_FLAG__",Uu="ngTempTokenPath",cx="ngTokenPath",lx=/\n/gm,ux="\u0275",YE="__source",Hs;function dx(){return Hs}function Bi(t){let e=Hs;return Hs=t,e}function hx(t,e=de.Default){if(Hs===void 0)throw new H(-203,!1);return Hs===null?UI(t,void 0,e):Hs.get(t,e&de.Optional?null:void 0,e)}function ee(t,e=de.Default){return(jI()||hx)(ot(t),e)}function N(t,e=de.Default){return ee(t,gd(e))}function gd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vg(t){let e=[];for(let n=0;n<t.length;n++){let i=ot(t[n]);if(Array.isArray(i)){if(i.length===0)throw new H(900,!1);let r,s=de.Default;for(let o=0;o<i.length;o++){let a=i[o],c=fx(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(ee(r,s))}else e.push(ee(i))}return e}function $I(t,e){return t[yg]=e,t.prototype[yg]=e,t}function fx(t){return t[yg]}function px(t,e,n,i){let r=t[Uu];throw e[YE]&&r.unshift(e[YE]),t.message=gx(`
`+t.message,r,n,i),t[cx]=r,t[Uu]=null,t}function gx(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ux?t.slice(2):t;let r=Rt(e);if(Array.isArray(e))r=e.map(Rt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Rt(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(lx,`
  `)}`}var Mt=$I(PI("Optional"),8);var HI=$I(PI("SkipSelf"),4);function Or(t,e){let n=t.hasOwnProperty(ju);return n?t[ju]:null}function mx(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function _x(t){return t.flat(Number.POSITIVE_INFINITY)}function Cm(t,e){t.forEach(n=>Array.isArray(n)?Cm(n,e):e(n))}function GI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $u(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yx(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function vx(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function md(t,e,n){let i=Ga(t,e);return i>=0?t[i|1]=n:(i=~i,vx(t,i,e,n)),i}function eg(t,e){let n=Ga(t,e);if(n>=0)return t[n|1]}function Ga(t,e){return wx(t,e,1)}function wx(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var Qn={},At=[],zs=new U(""),zI=new U("",-1),qI=new U(""),Hu=class{get(e,n=Pa){if(n===Pa){let i=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw i.name="NullInjectorError",i}return n}},WI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(WI||{}),yn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yn||{}),$i=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}($i||{});function bx(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function wg(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];Ix(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function Ex(t){return t===3||t===4||t===6}function Ix(t){return t.charCodeAt(0)===64}function ka(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?ZE(t,n,r,null,e[++i]):ZE(t,n,r,null,null))}}return t}function ZE(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var KI="ng-template";function Dx(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&bx(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Sm(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Sm(t){return t.type===4&&t.value!==KI}function Tx(t,e,n){let i=t.type===4&&!n?KI:t.value;return e===i}function Cx(t,e,n){let i=4,r=t.attrs,s=r!==null?Rx(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!sn(i)&&!sn(c))return!1;if(o&&sn(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!Tx(t,c,n)||c===""&&e.length===1){if(sn(i))return!1;o=!0}}else if(i&8){if(r===null||!Dx(t,r,c,n)){if(sn(i))return!1;o=!0}}else{let u=e[++a],h=Sx(c,r,Sm(t),n);if(h===-1){if(sn(i))return!1;o=!0;continue}if(u!==""){let f;if(h>s?f="":f=r[h+1].toLowerCase(),i&2&&u!==f){if(sn(i))return!1;o=!0}}}}return sn(i)||o}function sn(t){return(t&1)===0}function Sx(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return Mx(e,t)}function QI(t,e,n=!1){for(let i=0;i<e.length;i++)if(Cx(t,e[i],n))return!0;return!1}function Ax(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Rx(t){for(let e=0;e<t.length;e++){let n=t[e];if(Ex(n))return e}return t.length}function Mx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function Nx(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function XE(t,e){return t?":not("+e.trim()+")":e}function Ox(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!sn(o)&&(e+=XE(s,r),r=""),i=o,s=s||!sn(i);n++}return r!==""&&(e+=XE(s,r)),e}function xx(t){return t.map(Ox).join(",")}function Px(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!sn(r))break;r=s}i++}return{attrs:e,classes:n}}function ni(t){return Ha(()=>{let e=eD(t),n=ue(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===WI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yn.Emulated,styles:t.styles||At,_:null,schemas:t.schemas||null,tView:null,id:""});tD(n);let i=t.dependencies;return n.directiveDefs=tI(i,!1),n.pipeDefs=tI(i,!0),n.id=Vx(n),n})}function kx(t){return Hi(t)||Am(t)}function Fx(t){return t!==null}function Jt(t){return Ha(()=>({type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function eI(t,e){if(t==null)return Qn;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=$i.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==$i.None?[i,a]:i,e[s]=o):n[s]=i}return n}function ke(t){return Ha(()=>{let e=eD(t);return tD(e),e})}function JI(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Hi(t){return t[tx]||null}function Am(t){return t[nx]||null}function YI(t){return t[ix]||null}function ZI(t){let e=Hi(t)||Am(t)||YI(t);return e!==null?e.standalone:!1}function XI(t,e){let n=t[rx]||null;if(!n&&e===!0)throw new Error(`Type ${Rt(t)} does not have '\u0275mod' property.`);return n}function eD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Qn,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eI(t.inputs,e),outputs:eI(t.outputs),debugInfo:null}}function tD(t){t.features?.forEach(e=>e(t))}function tI(t,e){if(!t)return null;let n=e?YI:kx;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(Fx)}function Vx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function cn(t){return{\u0275providers:t}}function Lx(...t){return{\u0275providers:nD(!0,t),\u0275fromNgModule:!0}}function nD(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return Cm(e,o=>{let a=o;bg(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&iD(r,s),n}function iD(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];Rm(r,s=>{e(s,i)})}}function bg(t,e,n,i){if(t=ot(t),!t)return!1;let r=null,s=KE(t),o=!s&&Hi(t);if(!s&&!o){let c=t.ngModule;if(s=KE(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)bg(u,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let u;try{Cm(s.imports,h=>{bg(h,e,n,i)&&(u||=[],u.push(h))})}finally{}u!==void 0&&iD(u,e)}if(!a){let u=Or(r)||(()=>new r);e({provide:r,useFactory:u,deps:At},r),e({provide:qI,useValue:r,multi:!0},r),e({provide:zs,useValue:()=>ee(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=t;Rm(c,h=>{e(h,u)})}}else return!1;return r!==t&&t.providers!==void 0}function Rm(t,e){for(let n of t)BI(n)&&(n=n.\u0275providers),Array.isArray(n)?Rm(n,e):e(n)}var Bx=Oe({provide:String,useValue:Oe});function rD(t){return t!==null&&typeof t=="object"&&Bx in t}function jx(t){return!!(t&&t.useExisting)}function Ux(t){return!!(t&&t.useFactory)}function qs(t){return typeof t=="function"}function $x(t){return!!t.useClass}var _d=new U(""),Ou={},Hx={},tg;function yd(){return tg===void 0&&(tg=new Hu),tg}var at=class{},Fa=class extends at{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ig(e,o=>this.processProvider(o)),this.records.set(zI,js(void 0,this)),r.has("environment")&&this.records.set(at,js(void 0,this));let s=this.records.get(_d);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qI,At,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Bi(this),i=Pt(void 0),r;try{return e()}finally{Bi(n),Pt(i)}}get(e,n=Pa,i=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(JE))return e[JE](this);i=gd(i);let r,s=Bi(this),o=Pt(void 0);try{if(!(i&de.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=Kx(e)&&pd(e);u&&this.injectableDefInScope(u)?c=js(Eg(e),Ou):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&de.Self?yd():this.parent;return n=i&de.Optional&&n===Pa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Uu]=a[Uu]||[]).unshift(Rt(e)),s)throw a;return px(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(o),Bi(s)}}resolveInjectorInitializers(){let e=fe(null),n=Bi(this),i=Pt(void 0),r;try{let s=this.get(zs,At,de.Self);for(let o of s)o()}finally{Bi(n),Pt(i),fe(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Rt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=ot(e);let n=qs(e)?e:ot(e&&e.provide),i=zx(e);if(!qs(e)&&e.multi===!0){let r=this.records.get(n);r||(r=js(void 0,Ou,!0),r.factory=()=>vg(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=fe(null);try{return n.value===Ou&&(n.value=Hx,n.value=n.factory()),typeof n.value=="object"&&n.value&&Wx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ot(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Eg(t){let e=pd(t),n=e!==null?e.factory:Or(t);if(n!==null)return n;if(t instanceof U)throw new H(204,!1);if(t instanceof Function)return Gx(t);throw new H(204,!1)}function Gx(t){if(t.length>0)throw new H(204,!1);let n=XO(t);return n!==null?()=>n.factory(t):()=>new t}function zx(t){if(rD(t))return js(void 0,t.useValue);{let e=sD(t);return js(e,Ou)}}function sD(t,e,n){let i;if(qs(t)){let r=ot(t);return Or(r)||Eg(r)}else if(rD(t))i=()=>ot(t.useValue);else if(Ux(t))i=()=>t.useFactory(...vg(t.deps||[]));else if(jx(t))i=()=>ee(ot(t.useExisting));else{let r=ot(t&&(t.useClass||t.provide));if(qx(t))i=()=>new r(...vg(t.deps));else return Or(r)||Eg(r)}return i}function js(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qx(t){return!!t.deps}function Wx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Kx(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function Ig(t,e){for(let n of t)Array.isArray(n)?Ig(n,e):n&&BI(n)?Ig(n.\u0275providers,e):e(n)}function ln(t,e){t instanceof Fa&&t.assertNotDestroyed();let n,i=Bi(t),r=Pt(void 0);try{return e()}finally{Bi(i),Pt(r)}}function oD(){return jI()!==void 0||dx()!=null}function Mm(t){if(!oD())throw new H(-203,!1)}function Qx(t){return typeof t=="function"}var ii=0,ie=1,X=2,_t=3,an=4,Nt=5,Ws=6,Gu=7,gt=8,Ks=9,vn=10,Te=11,Va=12,nI=13,io=14,kt=15,xr=16,Us=17,Jn=18,vd=19,aD=20,ji=21,ng=22,Wt=23,ze=25,cD=1;var Pr=7,zu=8,Qs=9,mt=10,qu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(qu||{});function Ui(t){return Array.isArray(t)&&typeof t[cD]=="object"}function ri(t){return Array.isArray(t)&&t[cD]===!0}function Nm(t){return(t.flags&4)!==0}function wd(t){return t.componentOffset>-1}function bd(t){return(t.flags&1)===1}function Gi(t){return!!t.template}function Dg(t){return(t[X]&512)!==0}var Tg=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function lD(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function $r(){return uD}function uD(t){return t.type.prototype.ngOnChanges&&(t.setInput=Yx),Jx}$r.ngInherit=!0;function Jx(){let t=hD(this),e=t?.current;if(e){let n=t.previous;if(n===Qn)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Yx(t,e,n,i,r){let s=this.declaredInputs[i],o=hD(t)||Zx(t,{previous:Qn,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Tg(u&&u.currentValue,n,c===Qn),lD(t,e,r,n)}var dD="__ngSimpleChanges__";function hD(t){return t[dD]||null}function Zx(t,e){return t[dD]=e}var iI=null;var gn=function(t,e,n){iI?.(t,e,n)},Xx="svg",eP="math";function Kt(t){for(;Array.isArray(t);)t=t[ii];return t}function Ed(t,e){return Kt(e[t])}function Yt(t,e){return Kt(e[t.index])}function Om(t,e){return t.data[e]}function fD(t,e){return t[e]}function qi(t,e){let n=e[t];return Ui(n)?n:n[ii]}function tP(t){return(t[X]&4)===4}function xm(t){return(t[X]&128)===128}function nP(t){return ri(t[_t])}function Yn(t,e){return e==null?null:t[e]}function pD(t){t[Us]=0}function gD(t){t[X]&1024||(t[X]|=1024,xm(t)&&Dd(t))}function iP(t,e){for(;t>0;)e=e[io],t--;return e}function Id(t){return!!(t[X]&9216||t[Wt]?.dirty)}function Cg(t){t[vn].changeDetectionScheduler?.notify(8),t[X]&64&&(t[X]|=1024),Id(t)&&Dd(t)}function Dd(t){t[vn].changeDetectionScheduler?.notify(0);let e=kr(t);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!xm(e)));)e=kr(e)}function mD(t,e){if((t[X]&256)===256)throw new H(911,!1);t[ji]===null&&(t[ji]=[]),t[ji].push(e)}function rP(t,e){if(t[ji]===null)return;let n=t[ji].indexOf(e);n!==-1&&t[ji].splice(n,1)}function kr(t){let e=t[_t];return ri(e)?e[_t]:e}var ce={lFrame:CD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _D=!1;function sP(){return ce.lFrame.elementDepthCount}function oP(){ce.lFrame.elementDepthCount++}function aP(){ce.lFrame.elementDepthCount--}function yD(){return ce.bindingsEnabled}function vD(){return ce.skipHydrationRootTNode!==null}function cP(t){return ce.skipHydrationRootTNode===t}function lP(){ce.skipHydrationRootTNode=null}function re(){return ce.lFrame.lView}function Fe(){return ce.lFrame.tView}function za(t){return ce.lFrame.contextLView=t,t[gt]}function qa(t){return ce.lFrame.contextLView=null,t}function yt(){let t=wD();for(;t!==null&&t.type===64;)t=t.parent;return t}function wD(){return ce.lFrame.currentTNode}function La(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function wn(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function Pm(){return ce.lFrame.isParent}function km(){ce.lFrame.isParent=!1}function uP(){return ce.lFrame.contextLView}function bD(){return _D}function rI(t){_D=t}function dP(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Fm(){return ce.lFrame.bindingIndex}function hP(t){return ce.lFrame.bindingIndex=t}function Wi(){return ce.lFrame.bindingIndex++}function Td(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fP(){return ce.lFrame.inI18n}function ED(t){ce.lFrame.inI18n=t}function pP(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sg(e)}function gP(){return ce.lFrame.currentDirectiveIndex}function Sg(t){ce.lFrame.currentDirectiveIndex=t}function mP(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ID(){return ce.lFrame.currentQueryIndex}function Vm(t){ce.lFrame.currentQueryIndex=t}function _P(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[Nt]:null}function DD(t,e,n){if(n&de.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&de.Host);)if(r=_P(s),r===null||(s=s[io],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=ce.lFrame=TD();return i.currentTNode=e,i.lView=t,!0}function Lm(t){let e=TD(),n=t[ie];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function TD(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?CD(t):e}function CD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function SD(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var AD=SD;function Bm(){let t=SD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yP(t){return(ce.lFrame.contextLView=iP(t,ce.lFrame.contextLView))[gt]}function si(){return ce.lFrame.selectedIndex}function Fr(t){ce.lFrame.selectedIndex=t}function Cd(){let t=ce.lFrame;return Om(t.tView,t.selectedIndex)}function vP(){return ce.lFrame.currentNamespace}var RD=!0;function Wa(){return RD}function Ka(t){RD=t}function wP(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=uD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Sd(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function xu(t,e,n){MD(t,e,3,n)}function Pu(t,e,n,i){(t[X]&3)===n&&MD(t,e,n,i)}function ig(t,e){let n=t[X];(n&3)===e&&(n&=16383,n+=1,t[X]=n)}function MD(t,e,n,i){let r=i!==void 0?t[Us]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[Us]+=65536),(a<s||s==-1)&&(bP(t,n,e,c),t[Us]=(t[Us]&4294901760)+c+2),c++}function sI(t,e){gn(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),gn(5,t,e)}}function bP(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[X]>>14<t[Us]>>16&&(t[X]&3)===e&&(t[X]+=16384,sI(a,s)):sI(a,s)}var Gs=-1,Vr=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function EP(t){return t instanceof Vr}function IP(t){return(t.flags&8)!==0}function DP(t){return(t.flags&16)!==0}var rg={},Ag=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=gd(i);let r=this.injector.get(e,rg,i);return r!==rg||n===rg?r:this.parentInjector.get(e,n,i)}};function ND(t){return t!==Gs}function Wu(t){return t&32767}function TP(t){return t>>16}function Ku(t,e){let n=TP(t),i=e;for(;n>0;)i=i[io],n--;return i}var Rg=!0;function Qu(t){let e=Rg;return Rg=t,e}var CP=256,OD=CP-1,xD=5,SP=0,mn={};function AP(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Ma)&&(i=n[Ma]),i==null&&(i=n[Ma]=SP++);let r=i&OD,s=1<<r;e.data[t+(r>>xD)]|=s}function Ju(t,e){let n=PD(t,e);if(n!==-1)return n;let i=e[ie];i.firstCreatePass&&(t.injectorIndex=e.length,sg(i.data,t),sg(e,null),sg(i.blueprint,null));let r=jm(t,e),s=t.injectorIndex;if(ND(r)){let o=Wu(r),a=Ku(r,e),c=a[ie].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function sg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function PD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=BD(r),i===null)return Gs;if(n++,r=r[io],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Gs}function Mg(t,e,n){AP(t,e,n)}function kD(t,e,n){if(n&de.Optional||t!==void 0)return t;Tm(e,"NodeInjector")}function FD(t,e,n,i){if(n&de.Optional&&i===void 0&&(i=null),!(n&(de.Self|de.Host))){let r=t[Ks],s=Pt(void 0);try{return r?r.get(e,i,n&de.Optional):UI(e,i,n&de.Optional)}finally{Pt(s)}}return kD(i,e,n)}function VD(t,e,n,i=de.Default,r){if(t!==null){if(e[X]&2048&&!(i&de.Self)){let o=OP(t,e,n,i,mn);if(o!==mn)return o}let s=LD(t,e,n,i,mn);if(s!==mn)return s}return FD(e,n,i,r)}function LD(t,e,n,i,r){let s=MP(n);if(typeof s=="function"){if(!DD(e,t,i))return i&de.Host?kD(r,n,i):FD(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&de.Optional))Tm(n);else return o}finally{AD()}}else if(typeof s=="number"){let o=null,a=PD(t,e),c=Gs,u=i&de.Host?e[kt][Nt]:null;for((a===-1||i&de.SkipSelf)&&(c=a===-1?jm(t,e):e[a+8],c===Gs||!aI(i,!1)?a=-1:(o=e[ie],a=Wu(c),e=Ku(c,e)));a!==-1;){let h=e[ie];if(oI(s,a,h.data)){let f=RP(a,e,n,o,i,u);if(f!==mn)return f}c=e[a+8],c!==Gs&&aI(i,e[ie].data[a+8]===u)&&oI(s,a,e)?(o=h,a=Wu(c),e=Ku(c,e)):a=-1}}return r}function RP(t,e,n,i,r,s){let o=e[ie],a=o.data[t+8],c=i==null?wd(a)&&Rg:i!=o&&(a.type&3)!==0,u=r&de.Host&&s===a,h=ku(a,o,n,c,u);return h!==null?Lr(e,o,h,a):mn}function ku(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,h=s>>20,f=i?a:a+h,g=r?a+h:u;for(let _=f;_<g;_++){let v=o[_];if(_<c&&n===v||_>=c&&v.type===n)return _}if(r){let _=o[c];if(_&&Gi(_)&&_.type===n)return c}return null}function Lr(t,e,n,i){let r=t[n],s=e.data;if(EP(r)){let o=r;o.resolving&&ox(sx(s[n]));let a=Qu(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Pt(o.injectImpl):null,h=DD(t,i,de.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&wP(n,s[n],e)}finally{u!==null&&Pt(u),Qu(a),o.resolving=!1,AD()}}return r}function MP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ma)?t[Ma]:void 0;return typeof e=="number"?e>=0?e&OD:NP:e}function oI(t,e,n){let i=1<<t;return!!(n[e+(t>>xD)]&i)}function aI(t,e){return!(t&de.Self)&&!(t&de.Host&&e)}var Nr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return VD(this._tNode,this._lView,e,gd(i),n)}};function NP(){return new Nr(yt(),re())}function oi(t){return Ha(()=>{let e=t.prototype.constructor,n=e[ju]||Ng(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[ju]||Ng(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Ng(t){return kI(t)?()=>{let e=Ng(ot(t));return e&&e()}:Or(t)}function OP(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[X]&2048&&!(o[X]&512);){let a=LD(s,o,n,i|de.Self,mn);if(a!==mn)return a;let c=s.parent;if(!c){let u=o[aD];if(u){let h=u.get(n,mn,i);if(h!==mn)return h}c=BD(o),o=o[io]}s=c}return r}function BD(t){let e=t[ie],n=e.type;return n===2?e.declTNode:n===1?t[Nt]:null}function cI(t,e=null,n=null,i){let r=jD(t,e,n,i);return r.resolveInjectorInitializers(),r}function jD(t,e=null,n=null,i,r=new Set){let s=[n||At,Lx(t)];return i=i||(typeof t=="object"?void 0:Rt(t)),new Fa(s,e||yd(),i||null,r)}var Le=class t{static{this.THROW_IF_NOT_FOUND=Pa}static{this.NULL=new Hu}static create(e,n){if(Array.isArray(e))return cI({name:""},n,e,"");{let i=e.name??"";return cI({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=j({token:t,providedIn:"any",factory:()=>ee(zI)})}static{this.__NG_ELEMENT_ID__=-1}};var xP=new U("");xP.__NG_ELEMENT_ID__=t=>{let e=yt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(t&de.Optional)return null;throw new H(204,!1)};var PP="ngOriginalError";function og(t){return t[PP]}var UD=!0,Hr=(()=>{class t{static{this.__NG_ELEMENT_ID__=kP}static{this.__NG_ENV_ID__=n=>n}}return t})(),Og=class extends Hr{constructor(e){super(),this._lView=e}onDestroy(e){return mD(this._lView,e),()=>rP(this._lView,e)}};function kP(){return new Og(re())}var ai=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})();var xg=class extends Me{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,oD()&&(this.destroyRef=N(Hr,{optional:!0})??void 0,this.pendingTasks=N(ai,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ue&&e.add(a),a}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},ve=xg;function Yu(...t){}function $D(t){let e,n;function i(){t=Yu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),i()})),()=>i()}function lI(t){return queueMicrotask(()=>t()),()=>{t=Yu}}var Um="isAngularZone",Zu=Um+"_ID",FP=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ve(!1),this.onMicrotaskEmpty=new ve(!1),this.onStable=new ve(!1),this.onError=new ve(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=UD}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,BP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Um)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,VP,Yu,Yu);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},VP={};function $m(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function LP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){$D(()=>{t.callbackScheduled=!1,Pg(t),t.isCheckStableRunning=!0,$m(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Pg(t)}function BP(t){let e=()=>{LP(t)},n=FP++;t._inner=t._inner.fork({name:"angular",properties:{[Um]:!0,[Zu]:n,[Zu+n]:!0},onInvokeTask:(i,r,s,o,a,c)=>{if(jP(c))return i.invokeTask(s,o,a,c);try{return uI(t),i.invokeTask(s,o,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),dI(t)}},onInvoke:(i,r,s,o,a,c,u)=>{try{return uI(t),i.invoke(s,o,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!UP(c)&&e(),dI(t)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Pg(t),$m(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Pg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function uI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dI(t){t._nesting--,$m(t)}var kg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ve,this.onMicrotaskEmpty=new ve,this.onStable=new ve,this.onError=new ve}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function jP(t){return HD(t,"__ignore_ng_zone__")}function UP(t){return HD(t,"__scheduler_tick__")}function HD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Zn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&og(e);for(;n&&og(n);)n=og(n);return n||null}},$P=new U("",{providedIn:"root",factory:()=>{let t=N(we),e=N(Zn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function HP(){return ro(yt(),re())}function ro(t,e){return new ct(Yt(t,e))}var ct=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=HP}}return t})();function GP(t){return t instanceof ct?t.nativeElement:t}function zP(){return this._results[Symbol.iterator]()}var Fg=class t{get changes(){return this._changes??=new ve}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=zP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=_x(e);(this._changesDetected=!mx(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function GD(t){return(t.flags&128)===128}var zD=new Map,qP=0;function WP(){return qP++}function KP(t){zD.set(t[vd],t)}function Vg(t){zD.delete(t[vd])}var hI="__ngContext__";function bn(t,e){Ui(e)?(t[hI]=e[vd],KP(e)):t[hI]=e}function qD(t){return KD(t[Va])}function WD(t){return KD(t[an])}function KD(t){for(;t!==null&&!ri(t);)t=t[an];return t}var Lg;function QD(t){Lg=t}function JD(){if(Lg!==void 0)return Lg;if(typeof document<"u")return document;throw new H(210,!1)}var Hm=new U("",{providedIn:"root",factory:()=>QP}),QP="ng",Gm=new U(""),Zt=new U("",{providedIn:"platform",factory:()=>"unknown"});var zm=new U("",{providedIn:"root",factory:()=>JD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var JP="h",YP="b";var ZP=()=>null;function qm(t,e,n=!1){return ZP(t,e,n)}var YD=!1,XP=new U("",{providedIn:"root",factory:()=>YD});var Au;function ek(){if(Au===void 0&&(Au=null,Mr.trustedTypes))try{Au=Mr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Au}function Wm(t){return ek()?.createHTML(t)||t}var Xu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xI})`}};function Qa(t){return t instanceof Xu?t.changingThisBreaksApplicationSecurity:t}function ZD(t,e){let n=tk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xI})`)}return n===e}function tk(t){return t instanceof Xu&&t.getTypeName()||null}function nk(t){let e=new jg(t);return ik()?new Bg(e):e}var Bg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Wm(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},jg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Wm(e),n}};function ik(){try{return!!new window.DOMParser().parseFromString(Wm(""),"text/html")}catch{return!1}}var rk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Km(t){return t=String(t),t.match(rk)?t:"unsafe:"+t}function Ki(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Ja(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var sk=Ki("area,br,col,hr,img,wbr"),XD=Ki("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eT=Ki("rp,rt"),ok=Ja(eT,XD),ak=Ja(XD,Ki("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ck=Ja(eT,Ki("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lk=Ja(sk,ak,ck,ok),tT=Ki("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uk=Ki("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dk=Ki("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),hk=Ja(tT,uk,dk);function fk(t){return"content"in t&&pk(t)?t.content:null}function pk(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Qm=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Qm||{});function Qi(t){let e=gk();return e?e.sanitize(Qm.URL,t)||"":ZD(t,"URL")?Qa(t):Km(_n(t))}function gk(){let t=re();return t&&t[vn].sanitizer}var mk=/^>|^->|<!--|-->|--!>|<!-$/g,_k=/(<|>)/g,yk="\u200B$1\u200B";function vk(t){return t.replace(mk,e=>e.replace(_k,yk))}function nT(t){return t instanceof Function?t():t}function wk(t){return(t??N(Le)).get(Zt)==="browser"}var Xn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xn||{}),Ug;function Jm(t,e){return Ug(t,e)}function bk(t){Ug===void 0&&(Ug=t())}function $s(t,e,n,i,r){if(i!=null){let s,o=!1;ri(i)?s=i:Ui(i)&&(o=!0,i=i[ii]);let a=Kt(i);t===0&&n!==null?r==null?uT(e,n,a):Br(e,n,a,r||null,!0):t===1&&n!==null?Br(e,n,a,r||null,!0):t===2?mT(e,a,o):t===3&&e.destroyNode(a),s!=null&&Mk(e,t,s,n,r)}}function iT(t,e){return t.createText(e)}function rT(t,e,n){t.setValue(e,n)}function sT(t,e){return t.createComment(vk(e))}function Ym(t,e,n){return t.createElement(e,n)}function Ek(t,e){oT(t,e),e[ii]=null,e[Nt]=null}function Ik(t,e,n,i,r,s){i[ii]=r,i[Nt]=e,Md(t,i,n,1,r,s)}function oT(t,e){e[vn].changeDetectionScheduler?.notify(9),Md(t,e,e[Te],2,null,null)}function Dk(t){let e=t[Va];if(!e)return ag(t[ie],t);for(;e;){let n=null;if(Ui(e))n=e[Va];else{let i=e[mt];i&&(n=i)}if(!n){for(;e&&!e[an]&&e!==t;)Ui(e)&&ag(e[ie],e),e=e[_t];e===null&&(e=t),Ui(e)&&ag(e[ie],e),n=e&&e[an]}e=n}}function Tk(t,e,n,i){let r=mt+i,s=n.length;i>0&&(n[r-1][an]=e),i<s-mt?(e[an]=n[r],GI(n,mt+i,e)):(n.push(e),e[an]=null),e[_t]=n;let o=e[xr];o!==null&&n!==o&&aT(o,e);let a=e[Jn];a!==null&&a.insertView(t),Cg(e),e[X]|=128}function aT(t,e){let n=t[Qs],i=e[_t];if(Ui(i))t[X]|=qu.HasTransplantedViews;else{let r=i[_t][kt];e[kt]!==r&&(t[X]|=qu.HasTransplantedViews)}n===null?t[Qs]=[e]:n.push(e)}function Zm(t,e){let n=t[Qs],i=n.indexOf(e);n.splice(i,1)}function Ba(t,e){if(t.length<=mt)return;let n=mt+e,i=t[n];if(i){let r=i[xr];r!==null&&r!==t&&Zm(r,i),e>0&&(t[n-1][an]=i[an]);let s=$u(t,mt+e);Ek(i[ie],i);let o=s[Jn];o!==null&&o.detachView(s[ie]),i[_t]=null,i[an]=null,i[X]&=-129}return i}function Ad(t,e){if(!(e[X]&256)){let n=e[Te];n.destroyNode&&Md(t,e,n,3,null,null),Dk(e)}}function ag(t,e){if(e[X]&256)return;let n=fe(null);try{e[X]&=-129,e[X]|=256,e[Wt]&&Op(e[Wt]),Sk(t,e),Ck(t,e),e[ie].type===1&&e[Te].destroy();let i=e[xr];if(i!==null&&ri(e[_t])){i!==e[_t]&&Zm(i,e);let r=e[Jn];r!==null&&r.detachView(t)}Vg(e)}finally{fe(n)}}function Ck(t,e){let n=t.cleanup,i=e[Gu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[Gu]=null);let r=e[ji];if(r!==null){e[ji]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function Sk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Vr)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];gn(4,a,c);try{c.call(a)}finally{gn(5,a,c)}}else{gn(4,r,s);try{s.call(r)}finally{gn(5,r,s)}}}}}function cT(t,e,n){return lT(t,e.parent,n)}function lT(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[ii];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===yn.None||s===yn.Emulated)return null}return Yt(i,n)}}function Br(t,e,n,i,r){t.insertBefore(e,n,i,r)}function uT(t,e,n){t.appendChild(e,n)}function fI(t,e,n,i,r){i!==null?Br(t,e,n,i,r):uT(t,e,n)}function Xm(t,e){return t.parentNode(e)}function Ak(t,e){return t.nextSibling(e)}function dT(t,e,n){return fT(t,e,n)}function hT(t,e,n){return t.type&40?Yt(t,n):null}var fT=hT,$g;function pT(t,e){fT=t,$g=e}function Rd(t,e,n,i){let r=cT(t,i,e),s=e[Te],o=i.parent||e[Nt],a=dT(o,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)fI(s,r,n[c],a,!1);else fI(s,r,n,a,!1);$g!==void 0&&$g(s,i,e,n,r)}function Ra(t,e){if(e!==null){let n=e.type;if(n&3)return Yt(e,t);if(n&4)return Hg(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Ra(t,i);{let r=t[e.index];return ri(r)?Hg(-1,r):Kt(r)}}else{if(n&128)return Ra(t,e.next);if(n&32)return Jm(e,t)()||Kt(t[e.index]);{let i=gT(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=kr(t[kt]);return Ra(r,i)}else return Ra(t,e.next)}}}return null}function gT(t,e){if(e!==null){let i=t[kt][Nt],r=e.projection;return i.projection[r]}return null}function Hg(t,e){let n=mt+t+1;if(n<e.length){let i=e[n],r=i[ie].firstChild;if(r!==null)return Ra(i,r)}return e[Pr]}function mT(t,e,n){t.removeChild(null,e,n)}function e_(t,e,n,i,r,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],c=n.type;if(o&&e===0&&(a&&bn(Kt(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)e_(t,e,n.child,i,r,s,!1),$s(e,t,r,a,s);else if(c&32){let u=Jm(n,i),h;for(;h=u();)$s(e,t,r,h,s);$s(e,t,r,a,s)}else c&16?_T(t,e,i,n,r,s):$s(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Md(t,e,n,i,r,s){e_(n,i,t.firstChild,e,r,s,!1)}function Rk(t,e,n){let i=e[Te],r=cT(t,n,e),s=n.parent||e[Nt],o=dT(s,n,e);_T(i,0,e,n,r,o)}function _T(t,e,n,i,r,s){let o=n[kt],c=o[Nt].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let h=c[u];$s(e,t,r,h,s)}else{let u=c,h=o[_t];GD(i)&&(u.flags|=128),e_(t,e,u,h,r,s,!0)}}function Mk(t,e,n,i,r){let s=n[Pr],o=Kt(n);s!==o&&$s(e,t,i,s,r);for(let a=mt;a<n.length;a++){let c=n[a];Md(c[ie],c,t,e,i,s)}}function Nk(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:Xn.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Xn.Important),t.setStyle(n,i,r,s))}}function Ok(t,e,n){t.setAttribute(e,"style",n)}function yT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vT(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&wg(t,e,i),r!==null&&yT(t,e,r),s!==null&&Ok(t,e,s)}var Bt={};function ge(t=1){wT(Fe(),re(),si()+t,!1)}function wT(t,e,n,i){if(!i)if((e[X]&3)===3){let s=t.preOrderCheckHooks;s!==null&&xu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Pu(e,s,0,n)}Fr(n)}function me(t,e=de.Default){let n=re();if(n===null)return ee(t,e);let i=yt();return VD(i,n,ot(t),e)}function bT(t,e,n,i,r,s){let o=fe(null);try{let a=null;r&$i.SignalBased&&(a=e[i][Gn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&$i.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):lD(e,a,i,s)}finally{fe(o)}}function xk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Fr(~r);else{let s=r,o=n[++i],a=n[++i];pP(o,s);let c=e[s];a(2,c)}}}finally{Fr(-1)}}function Nd(t,e,n,i,r,s,o,a,c,u,h){let f=e.blueprint.slice();return f[ii]=r,f[X]=i|4|128|8|64,(u!==null||t&&t[X]&2048)&&(f[X]|=2048),pD(f),f[_t]=f[io]=t,f[gt]=n,f[vn]=o||t&&t[vn],f[Te]=a||t&&t[Te],f[Ks]=c||t&&t[Ks]||null,f[Nt]=s,f[vd]=WP(),f[Ws]=h,f[aD]=u,f[kt]=e.type==2?t[kt]:f,f}function so(t,e,n,i,r){let s=t.data[e];if(s===null)s=t_(t,e,n,i,r),fP()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=La();s.injectorIndex=o===null?-1:o.injectorIndex}return wn(s,!0),s}function t_(t,e,n,i,r){let s=wD(),o=Pm(),a=o?s:s&&s.parent,c=t.data[e]=Bk(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Ya(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function ET(t,e,n,i,r){let s=si(),o=i&2;try{Fr(-1),o&&e.length>ze&&wT(t,e,ze,!1),gn(o?2:0,r),n(i,r)}finally{Fr(s),gn(o?3:1,r)}}function n_(t,e,n){if(Nm(e)){let i=fe(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{fe(i)}}}function i_(t,e,n){yD()&&(zk(t,e,n,Yt(n,e)),(n.flags&64)===64&&TT(t,e,n))}function r_(t,e,n=Yt){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function IT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=s_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function s_(t,e,n,i,r,s,o,a,c,u,h){let f=ze+i,g=f+r,_=Pk(f,g),v=typeof u=="function"?u():u;return _[ie]={type:t,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:h}}function Pk(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Bt);return n}function kk(t,e,n,i){let s=i.get(XP,YD)||n===yn.ShadowDom,o=t.selectRootElement(e,s);return Fk(o),o}function Fk(t){Vk(t)}var Vk=()=>null;function Lk(t,e,n,i){let r=AT(e);r.push(n),t.firstCreatePass&&RT(t).push(i,r.length-1)}function Bk(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return vD()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function pI(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=$i.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}t===0?gI(i,n,u,a,c):gI(i,n,u,a)}return i}function gI(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function jk(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let h=i;h<r;h++){let f=s[h],g=n?n.get(f):null,_=g?g.inputs:null,v=g?g.outputs:null;c=pI(0,f.inputs,h,c,_),u=pI(1,f.outputs,h,u,v);let S=c!==null&&o!==null&&!Sm(e)?tF(c,h,o):null;a.push(S)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function Uk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Od(t,e,n,i,r,s,o,a){let c=Yt(e,n),u=e.inputs,h;!a&&u!=null&&(h=u[i])?(c_(t,n,h,i,r),wd(e)&&$k(n,e.index)):e.type&3?(i=Uk(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function $k(t,e){let n=qi(e,t);n[X]&16||(n[X]|=64)}function o_(t,e,n,i){if(yD()){let r=i===null?null:{"":-1},s=Wk(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&DT(t,e,n,o,r,a),r&&Kk(n,i,r)}n.mergedAttrs=ka(n.mergedAttrs,n.attrs)}function DT(t,e,n,i,r,s){for(let u=0;u<i.length;u++)Mg(Ju(n,e),t,i[u].type);Jk(n,t.data.length,i.length);for(let u=0;u<i.length;u++){let h=i[u];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,c=Ya(t,e,i.length,null);for(let u=0;u<i.length;u++){let h=i[u];n.mergedAttrs=ka(n.mergedAttrs,h.hostAttrs),Yk(t,n,e,c,h),Qk(c,h,r),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let f=h.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}jk(t,n,s)}function Hk(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Gk(o)!=a&&o.push(a),o.push(n,i,s)}}function Gk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zk(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;wd(n)&&Zk(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ju(n,e),bn(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],u=Lr(e,t,a,n);if(bn(u,e),o!==null&&eF(e,a-r,u,c,n,o),Gi(c)){let h=qi(n.index,e);h[gt]=Lr(e,t,a,n)}}}function TT(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=gP();try{Fr(s);for(let a=i;a<r;a++){let c=t.data[a],u=e[a];Sg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&qk(c,u)}}finally{Fr(-1),Sg(o)}}function qk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Wk(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(QI(e,o.selectors,!1))if(i||(i=[]),Gi(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;Gg(t,e,c)}else i.unshift(o),Gg(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Gg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Kk(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new H(-301,!1);i.push(e[r],s)}}}function Qk(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Gi(e)&&(n[""]=t)}}function Jk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Yk(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=Or(r.type,!0)),o=new Vr(s,Gi(r),me);t.blueprint[i]=o,n[i]=o,Hk(t,e,i,Ya(t,n,r.hostVars,Bt),r)}function Zk(t,e,n){let i=Yt(e,t),r=IT(n),s=t[vn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=xd(t,Nd(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function Xk(t,e,n,i,r,s){let o=Yt(t,e);a_(e[Te],o,s,t.value,n,i,r)}function a_(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?_n(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function eF(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],h=o[a++],f=o[a++];bT(i,n,c,u,h,f)}}function tF(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function CT(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function ST(t,e){let n=t.contentQueries;if(n!==null){let i=fe(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];Vm(s),a.contentQueries(2,e[o],o)}}}finally{fe(i)}}}function xd(t,e){return t[Va]?t[nI][an]=e:t[Va]=e,t[nI]=e,e}function zg(t,e,n){Vm(0);let i=fe(null);try{e(t,n)}finally{fe(i)}}function AT(t){return t[Gu]??=[]}function RT(t){return t.cleanup??=[]}function MT(t,e){let n=t[Ks],i=n?n.get(Zn,null):null;i&&i.handleError(e)}function c_(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],h=t.data[o];bT(h,u,i,a,c,r)}}function NT(t,e,n){let i=Ed(e,t);rT(t[Te],i,n)}function nF(t,e){let n=qi(e,t),i=n[ie];iF(i,n);let r=n[ii];r!==null&&n[Ws]===null&&(n[Ws]=qm(r,n[Ks])),l_(i,n,n[gt])}function iF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function l_(t,e,n){Lm(e);try{let i=t.viewQuery;i!==null&&zg(1,i,n);let r=t.template;r!==null&&ET(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Jn]?.finishViewCreation(t),t.staticContentQueries&&ST(t,e),t.staticViewQueries&&zg(2,t.viewQuery,n);let s=t.components;s!==null&&rF(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[X]&=-5,Bm()}}function rF(t,e){for(let n=0;n<e.length;n++)nF(t,e[n])}function Za(t,e,n,i){let r=fe(null);try{let s=e.tView,a=t[X]&4096?4096:16,c=Nd(t,s,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=t[e.index];c[xr]=u;let h=t[Jn];return h!==null&&(c[Jn]=h.createEmbeddedView(s)),l_(s,c,n),c}finally{fe(r)}}function OT(t,e){let n=mt+e;if(n<t.length)return t[n]}function Js(t,e){return!e||e.firstChild===null||GD(t)}function Xa(t,e,n,i=!0){let r=e[ie];if(Tk(r,e,t,n),i){let o=Hg(n,t),a=e[Te],c=Xm(a,t[Pr]);c!==null&&Ik(r,t[Nt],a,e,c,o)}let s=e[Ws];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function xT(t,e){let n=Ba(t,e);return n!==void 0&&Ad(n[ie],n),n}function ed(t,e,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&i.push(Kt(s)),ri(s)&&sF(s,i);let o=n.type;if(o&8)ed(t,e,n.child,i);else if(o&32){let a=Jm(n,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=gT(e,n);if(Array.isArray(a))i.push(...a);else{let c=kr(e[kt]);ed(c[ie],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function sF(t,e){for(let n=mt;n<t.length;n++){let i=t[n],r=i[ie].firstChild;r!==null&&ed(i[ie],i,r,e)}t[Pr]!==t[ii]&&e.push(t[Pr])}var PT=[];function oF(t){return t[Wt]??aF(t)}function aF(t){let e=PT.pop()??Object.create(lF);return e.lView=t,e}function cF(t){t.lView[Wt]!==t&&(t.lView=null,PT.push(t))}var lF=ue(V({},Ta),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Dd(t.lView)},consumerOnSignalRead(){this.lView[Wt]=this}});function uF(t){let e=t[Wt]??Object.create(dF);return e.lView=t,e}var dF=ue(V({},Ta),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=kr(t.lView);for(;e&&!kT(e[ie]);)e=kr(e);e&&gD(e)},consumerOnSignalRead(){this.lView[Wt]=this}});function kT(t){return t.type!==2}var hF=100;function FT(t,e=!0,n=0){let i=t[vn],r=i.rendererFactory,s=!1;s||r.begin?.();try{fF(t,n)}catch(o){throw e&&MT(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function fF(t,e){let n=bD();try{rI(!0),qg(t,e);let i=0;for(;Id(t);){if(i===hF)throw new H(103,!1);i++,qg(t,1)}}finally{rI(n)}}function pF(t,e,n,i){let r=e[X];if((r&256)===256)return;let s=!1,o=!1;!s&&e[vn].inlineEffectRunner?.flush(),Lm(e);let a=!0,c=null,u=null;s||(kT(t)?(u=oF(e),c=Yl(u)):cE()===null?(a=!1,u=uF(e),c=Yl(u)):e[Wt]&&(Op(e[Wt]),e[Wt]=null));try{pD(e),hP(t.bindingStartIndex),n!==null&&ET(t,e,n,2,i);let h=(r&3)===3;if(!s)if(h){let _=t.preOrderCheckHooks;_!==null&&xu(e,_,null)}else{let _=t.preOrderHooks;_!==null&&Pu(e,_,0,null),ig(e,0)}if(o||gF(e),VT(e,0),t.contentQueries!==null&&ST(t,e),!s)if(h){let _=t.contentCheckHooks;_!==null&&xu(e,_)}else{let _=t.contentHooks;_!==null&&Pu(e,_,1),ig(e,1)}xk(t,e);let f=t.components;f!==null&&BT(e,f,0);let g=t.viewQuery;if(g!==null&&zg(2,g,i),!s)if(h){let _=t.viewCheckHooks;_!==null&&xu(e,_)}else{let _=t.viewHooks;_!==null&&Pu(e,_,2),ig(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ng]){for(let _ of e[ng])_();e[ng]=null}s||(e[X]&=-73)}catch(h){throw s||Dd(e),h}finally{u!==null&&(Mp(u,c),a&&cF(u)),Bm()}}function VT(t,e){for(let n=qD(t);n!==null;n=WD(n))for(let i=mt;i<n.length;i++){let r=n[i];LT(r,e)}}function gF(t){for(let e=qD(t);e!==null;e=WD(e)){if(!(e[X]&qu.HasTransplantedViews))continue;let n=e[Qs];for(let i=0;i<n.length;i++){let r=n[i];gD(r)}}}function mF(t,e,n){let i=qi(e,t);LT(i,n)}function LT(t,e){xm(t)&&qg(t,e)}function qg(t,e){let i=t[ie],r=t[X],s=t[Wt],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Np(s)),o||=!1,s&&(s.dirty=!1),t[X]&=-9217,o)pF(i,t,i.template,t[gt]);else if(r&8192){VT(t,1);let a=i.components;a!==null&&BT(t,a,1)}}function BT(t,e,n){for(let i=0;i<e.length;i++)mF(t,e[i],n)}function u_(t,e){let n=bD()?64:1088;for(t[vn].changeDetectionScheduler?.notify(e);t;){t[X]|=n;let i=kr(t);if(Dg(t)&&!i)return t;t=i}return null}var jr=class{get rootNodes(){let e=this._lView,n=e[ie];return ed(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gt]}set context(e){this._lView[gt]=e}get destroyed(){return(this._lView[X]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_t];if(ri(e)){let n=e[zu],i=n?n.indexOf(this):-1;i>-1&&(Ba(e,i),$u(n,i))}this._attachedToViewContainer=!1}Ad(this._lView[ie],this._lView)}onDestroy(e){mD(this._lView,e)}markForCheck(){u_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){Cg(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,FT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Dg(this._lView),n=this._lView[xr];n!==null&&!e&&Zm(n,this._lView),oT(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let n=Dg(this._lView),i=this._lView[xr];i!==null&&!n&&aT(i,this._lView),Cg(this._lView)}},En=(()=>{class t{static{this.__NG_ELEMENT_ID__=vF}}return t})(),_F=En,yF=class extends _F{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=Za(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new jr(r)}};function vF(){return Pd(yt(),re())}function Pd(t,e){return t.type&4?new yF(e,t,ro(t,e)):null}function jT(t,e,n){let i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return r===null?hT(t,e,n):Kt(n[r])}function UT(t,e,n,i,r){let s=e.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(e.type&3||(a=o,o=r),o!==null&&e.componentOffset===-1)for(let c=1;c<s.length;c++){let u=n[s[c]];Br(t,o,u,a,!1)}}}function $T(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){let i=t[n];HT(i)||wF(i,e)&&bF(i)===null&&EF(i,e.index)}}function HT(t){return!(t.type&64)}function wF(t,e){return HT(e)||t.index>e.index}function bF(t){let e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function EF(t,e){let n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(pT(jT,UT),t.insertBeforeIndex=e)}function Na(t,e){let n=t.data[e];return n===null||typeof n=="string"?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function IF(t,e,n){let i=t.data[e];i===null?t.data[e]=n:i.value=n}function DF(t,e){let n=t.insertBeforeIndex;n===null?(pT(jT,UT),n=t.insertBeforeIndex=[null,e]):(YO(Array.isArray(n),!0,"Expecting array here"),n.push(e))}function TF(t,e,n){let i=t_(t,n,64,null,null);return $T(e,i),i}function kd(t,e){let n=e[t.currentCaseLViewIndex];return n===null?n:n<0?~n:n}function CF(t){return t>>>17}function SF(t){return(t&131070)>>>1}function AF(t,e,n){return t|e<<17|n<<1}function RF(t){return t===-1}function GT(t,e,n){t.index=0;let i=kd(e,n);i!==null?t.removes=e.remove[i]:t.removes=At}function Wg(t){if(t.index<t.removes.length){let e=t.removes[t.index++];if(e>0)return t.lView[e];{t.stack.push(t.index,t.removes);let n=~e,i=t.lView[ie].data[n];return GT(t,i,t.lView),Wg(t)}}else return t.stack.length===0?null:(t.removes=t.stack.pop(),t.index=t.stack.pop(),Wg(t))}function MF(){let t={stack:[],index:-1};function e(n,i){for(t.lView=i;t.stack.length;)t.stack.pop();return GT(t,n.value,i),Wg.bind(null,t)}return e}var oQ=new RegExp(`^(\\d+)*(${YP}|${JP})*(.*)`);var NF=()=>{};function OF(t,e,n,i){NF(t,e,n,i)}var xF=()=>{};function PF(t,e,n){xF(t,e,n)}var kF=()=>null;function Ys(t,e){return kF(t,e)}var Zs=class{},d_=new U("",{providedIn:"root",factory:()=>!1});var zT=new U(""),qT=new U(""),Kg=class{},td=class{};function FF(t){let e=Error(`No component factory found for ${Rt(t)}.`);return e[VF]=t,e}var VF="ngComponent";var Qg=class{resolveComponentFactory(e){throw FF(e)}},Xs=class{static{this.NULL=new Qg}},eo=class{},Ji=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>LF()}}return t})();function LF(){let t=re(),e=yt(),n=qi(e.index,t);return(Ui(n)?n:t)[Te]}var BF=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}}return t})();function nd(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=mg(r,a);else if(s==2){let c=a,u=e[++o];i=mg(i,c+": "+u+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var id=class extends Xs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hi(e);return new to(n,this.ngModule)}};function mI(t,e){let n=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let r=t[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:$i.None;e?n.push({propName:o,templateName:i,isSignal:(a&$i.SignalBased)!==0}):n.push({propName:o,templateName:i})}return n}function jF(t){let e=t.toLowerCase();return e==="svg"?Xx:e==="math"?eP:null}var to=class extends td{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=mI(e.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return mI(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=xx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=fe(null);try{r=r||this.ngModule;let o=r instanceof at?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Ag(e,o):e,c=a.get(eo,null);if(c===null)throw new H(407,!1);let u=a.get(BF,null),h=a.get(Zs,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:h},g=c.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",v=i?kk(g,i,this.componentDef.encapsulation,a):Ym(g,_,jF(_)),S=512;this.componentDef.signals?S|=4096:this.componentDef.onPush||(S|=16);let A=null;v!==null&&(A=qm(v,a,!0));let O=s_(0,null,null,1,0,null,null,null,null,null,null),F=Nd(null,O,null,S,null,null,f,g,a,null,A);Lm(F);let L,q,he=null;try{let G=this.componentDef,I,y=null;G.findHostDirectiveDefs?(I=[],y=new Map,G.findHostDirectiveDefs(G,I,y),I.push(G)):I=[G];let w=UF(F,v);he=$F(w,v,G,I,F,f,g),q=Om(O,ze),v&&zF(g,G,v,i),n!==void 0&&qF(q,this.ngContentSelectors,n),L=GF(he,G,I,y,F,[WF]),l_(O,F,null)}catch(G){throw he!==null&&Vg(he),Vg(F),G}finally{Bm()}return new Jg(this.componentType,L,ro(q,F),F,q)}finally{fe(s)}}},Jg=class extends Kg{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new jr(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;c_(s[ie],s,r,e,n),this.previousInputValues.set(e,n);let o=qi(this._tNode.index,s);u_(o,1)}}get injector(){return new Nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function UF(t,e){let n=t[ie],i=ze;return t[i]=e,so(n,i,2,"#host",null)}function $F(t,e,n,i,r,s,o){let a=r[ie];HF(i,t,e,o);let c=null;e!==null&&(c=qm(e,r[Ks]));let u=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let f=Nd(r,IT(n),null,h,r[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Gg(a,t,i.length-1),xd(r,f),r[t.index]=f}function HF(t,e,n,i){for(let r of t)e.mergedAttrs=ka(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(nd(e,e.mergedAttrs,!0),n!==null&&vT(i,n,e))}function GF(t,e,n,i,r,s){let o=yt(),a=r[ie],c=Yt(o,r);DT(a,r,o,n,null,i);for(let h=0;h<n.length;h++){let f=o.directiveStart+h,g=Lr(r,a,f,o);bn(g,r)}TT(a,r,o),c&&bn(c,r);let u=Lr(r,a,o.directiveStart+o.componentOffset,o);if(t[gt]=r[gt]=u,s!==null)for(let h of s)h(u,e);return n_(a,o,r),u}function zF(t,e,n,i){if(i)wg(t,n,["ng-version","18.2.11"]);else{let{attrs:r,classes:s}=Px(e.selectors[0]);r&&wg(t,n,r),s&&s.length>0&&yT(t,n,s.join(" "))}}function qF(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function WF(){let t=yt();Sd(re()[ie],t)}var In=(()=>{class t{static{this.__NG_ELEMENT_ID__=KF}}return t})();function KF(){let t=yt();return KT(t,re())}var QF=In,WT=class extends QF{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return ro(this._hostTNode,this._hostLView)}get injector(){return new Nr(this._hostTNode,this._hostLView)}get parentInjector(){let e=jm(this._hostTNode,this._hostLView);if(ND(e)){let n=Ku(e,this._hostLView),i=Wu(e),r=n[ie].data[i+8];return new Nr(r,n)}else return new Nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_I(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Ys(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,Js(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!Qx(e),a;if(o)a=n;else{let v=n||{};a=v.index,i=v.injector,r=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let c=o?e:new to(Hi(e)),u=i||this.parentInjector;if(!s&&c.ngModule==null){let S=(o?u:this.parentInjector).get(at,null);S&&(s=S)}let h=Hi(c.componentType??{}),f=Ys(this._lContainer,h?.id??null),g=f?.firstChild??null,_=c.create(u,r,g,s);return this.insertImpl(_.hostView,a,Js(this._hostTNode,f)),_}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(nP(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[_t],u=new WT(c,c[Nt],c[_t]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Xa(o,r,s,i),e.attachToViewContainerRef(),GI(cg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_I(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Ba(this._lContainer,n);i&&($u(cg(this._lContainer),n),Ad(i[ie],i))}detach(e){let n=this._adjustIndex(e,-1),i=Ba(this._lContainer,n);return i&&$u(cg(this._lContainer),n)!=null?new jr(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function _I(t){return t[zu]}function cg(t){return t[zu]||(t[zu]=[])}function KT(t,e){let n,i=e[t.index];return ri(i)?n=i:(n=CT(i,e,null,t),e[t.index]=n,xd(e,n)),YF(n,e,t,i),new WT(n,t,e)}function JF(t,e){let n=t[Te],i=n.createComment(""),r=Yt(e,t),s=Xm(n,r);return Br(n,s,i,Ak(n,r),!1),i}var YF=eV,ZF=()=>!1;function XF(t,e,n){return ZF(t,e,n)}function eV(t,e,n,i){if(t[Pr])return;let r;n.type&8?r=Kt(i):r=JF(e,n),t[Pr]=r}var Yg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Zg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)h_(e,n).matches!==null&&this.queries[n].setDirty()}},rd=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=cV(e):this.predicate=e}},Xg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},em=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,tV(n,s)),this.matchTNodeWithReadOption(e,n,ku(n,e,s,!1,!1))}else i===En?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ku(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===ct||r===In||r===En&&n.type&4)this.addMatch(n.index,-2);else{let s=ku(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function tV(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function nV(t,e){return t.type&11?ro(t,e):t.type&4?Pd(t,e):null}function iV(t,e,n,i){return n===-1?nV(e,t):n===-2?rV(t,e,i):Lr(t,t[ie],n,e)}function rV(t,e,n){if(n===ct)return ro(e,t);if(n===En)return Pd(e,t);if(n===In)return KT(e,t)}function QT(t,e,n,i){let r=e[Jn].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let h=s[u];a.push(iV(e,h,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function tm(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=QT(t,e,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let u=s[a+1],h=e[-c];for(let f=mt;f<h.length;f++){let g=h[f];g[xr]===g[_t]&&tm(g[ie],g,u,i)}if(h[Qs]!==null){let f=h[Qs];for(let g=0;g<f.length;g++){let _=f[g];tm(_[ie],_,u,i)}}}}}return i}function sV(t,e){return t[Jn].queries[e].queryList}function JT(t,e,n){let i=new Fg((n&4)===4);return Lk(t,e,i,i.destroy),(e[Jn]??=new Zg).queries.push(new Yg(i))-1}function oV(t,e,n){let i=Fe();return i.firstCreatePass&&(YT(i,new rd(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),JT(i,re(),e)}function aV(t,e,n,i){let r=Fe();if(r.firstCreatePass){let s=yt();YT(r,new rd(e,n,i),s.index),lV(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return JT(r,re(),n)}function cV(t){return t.split(",").map(e=>e.trim())}function YT(t,e,n){t.queries===null&&(t.queries=new Xg),t.queries.track(new em(e,n))}function lV(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function h_(t,e){return t.queries.getByIndex(e)}function uV(t,e){let n=t[ie],i=h_(n,e);return i.crossesNgTemplate?tm(n,t,e,[]):QT(n,t,i,e)}var yI=new Set;function Yi(t){yI.has(t)||(yI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function dV(t){return typeof t=="function"&&t[Gn]!==void 0}function ec(t,e){Yi("NgSignals");let n=vE(t),i=n[Gn];return e?.equal&&(i.equal=e.equal),n.set=r=>xp(i,r),n.update=r=>wE(i,r),n.asReadonly=hV.bind(n),n}function hV(){let t=this[Gn];if(t.readonlyFn===void 0){let e=()=>this();e[Gn]=t,t.readonlyFn=e}return t.readonlyFn}function ZT(t){return dV(t)&&typeof t.set=="function"}function fV(t){return Object.getPrototypeOf(t.prototype).constructor}function Dn(t){let e=fV(t.type),n=!0,i=[t];for(;e;){let r;if(Gi(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=Ru(t.inputs),o.inputTransforms=Ru(t.inputTransforms),o.declaredInputs=Ru(t.declaredInputs),o.outputs=Ru(t.outputs);let a=r.hostBindings;a&&yV(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&mV(t,c),u&&_V(t,u),pV(t,r),QO(t.outputs,r.outputs),Gi(r)&&r.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Dn&&(n=!1)}}e=Object.getPrototypeOf(e)}gV(i)}function pV(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function gV(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ka(r.hostAttrs,n=ka(n,r.hostAttrs))}}function Ru(t){return t===Qn?{}:t===At?[]:t}function mV(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function _V(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function yV(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function f_(t){let e=n=>{let i=Array.isArray(t);n.hostDirectives===null?(n.findHostDirectiveDefs=XT,n.hostDirectives=i?t.map(nm):[t]):i?n.hostDirectives.unshift(...t.map(nm)):n.hostDirectives.unshift(t)};return e.ngInherit=!0,e}function XT(t,e,n){if(t.hostDirectives!==null)for(let i of t.hostDirectives)if(typeof i=="function"){let r=i();for(let s of r)vI(nm(s),e,n)}else vI(i,e,n)}function vI(t,e,n){let i=Am(t.directive);vV(i.declaredInputs,t.inputs),XT(i,e,n),n.set(i,t),e.push(i)}function nm(t){return typeof t=="function"?{directive:ot(t),inputs:Qn,outputs:Qn}:{directive:ot(t.directive),inputs:wI(t.inputs),outputs:wI(t.outputs)}}function wI(t){if(t===void 0||t.length===0)return Qn;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function vV(t,e){for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],r=t[n];t[i]=r}}var zi=class{},ja=class{};var im=class extends zi{constructor(e,n,i,r=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new id(this);let s=XI(e);this._bootstrapComponents=nT(s.bootstrap),this._r3Injector=jD(e,n,[{provide:zi,useValue:this},{provide:Xs,useValue:this.componentFactoryResolver},...i],Rt(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},rm=class extends ja{constructor(e){super(),this.moduleType=e}create(e){return new im(this.moduleType,e,[])}};var sd=class extends zi{constructor(e){super(),this.componentFactoryResolver=new id(this),this.instance=null;let n=new Fa([...e.providers,{provide:zi,useValue:this},{provide:Xs,useValue:this.componentFactoryResolver}],e.parent||yd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function p_(t,e,n=null){return new sd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function eC(t){return bV(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function wV(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function bV(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function EV(t,e,n){return t[e]=n}function Ft(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function tC(t,e,n,i){let r=Ft(t,e,n);return Ft(t,e+1,i)||r}function IV(t,e,n,i,r){let s=tC(t,e,n,i);return Ft(t,e+2,r)||s}function DV(t){return(t.flags&32)===32}function TV(t,e,n,i,r,s,o,a,c){let u=e.consts,h=so(e,t,4,o||null,a||null);o_(e,n,h,Yn(u,c)),Sd(e,h);let f=h.tView=s_(2,h,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}function od(t,e,n,i,r,s,o,a,c,u){let h=n+ze,f=e.firstCreatePass?TV(h,e,t,i,r,s,o,a,c):e.data[h];wn(f,!1);let g=CV(e,t,f,n);Wa()&&Rd(e,t,g,f),bn(g,t);let _=CT(g,t,g,f);return t[h]=_,xd(t,_),XF(_,f,t),bd(f)&&i_(e,t,f),c!=null&&r_(t,f,u),f}function vt(t,e,n,i,r,s,o,a){let c=re(),u=Fe(),h=Yn(u.consts,s);return od(c,u,t,e,n,i,r,h,o,a),vt}var CV=SV;function SV(t,e,n,i){return Ka(!0),e[Te].createComment("")}var Kn=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Kn||{}),nC=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})(),sm=class t{constructor(){this.ngZone=N(we),this.scheduler=N(Zs),this.errorHandler=N(Zn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Kn.EarlyRead,Kn.Write,Kn.MixedReadWrite,Kn.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}},om=class{constructor(e,n,i,r){this.impl=e,this.hooks=n,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function tc(t,e){!e?.injector&&Mm(tc);let n=e?.injector??N(Le);return wk(n)?(Yi("NgAfterNextRender"),RV(t,n,e,!0)):MV}function AV(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function RV(t,e,n,i){let r=e.get(nC);r.impl??=e.get(sm);let s=n?.phase??Kn.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(Hr):null,a=new om(r.impl,AV(t,s),i,o);return r.impl.register(a),a}var MV={destroy(){}};function Zi(t,e,n,i){let r=re(),s=Wi();if(Ft(r,s,e)){let o=Fe(),a=Cd();Xk(a,r,t,e,n,i)}return Zi}function NV(t,e,n,i){return Ft(t,Wi(),n)?e+_n(n)+i:Bt}function OV(t,e,n,i,r,s){let o=Fm(),a=tC(t,o,n,r);return Td(2),a?e+_n(n)+i+_n(r)+s:Bt}function xV(t,e,n,i,r,s,o,a){let c=Fm(),u=IV(t,c,n,r,o);return Td(3),u?e+_n(n)+i+_n(r)+s+_n(o)+a:Bt}function Mu(t,e){return t<<17|e<<2}function Ur(t){return t>>17&32767}function PV(t){return(t&2)==2}function kV(t,e){return t&131071|e<<17}function am(t){return t|2}function no(t){return(t&131068)>>2}function lg(t,e){return t&-131069|e<<2}function FV(t){return(t&1)===1}function cm(t){return t|1}function VV(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Ur(o),c=no(o);t[i]=n;let u=!1,h;if(Array.isArray(n)){let f=n;h=f[1],(h===null||Ga(f,h)>0)&&(u=!0)}else h=n;if(r)if(c!==0){let g=Ur(t[a+1]);t[i+1]=Mu(g,a),g!==0&&(t[g+1]=lg(t[g+1],i)),t[a+1]=kV(t[a+1],i)}else t[i+1]=Mu(a,0),a!==0&&(t[a+1]=lg(t[a+1],i)),a=i;else t[i+1]=Mu(c,0),a===0?a=i:t[c+1]=lg(t[c+1],i),c=i;u&&(t[i+1]=am(t[i+1])),bI(t,h,i,!0),bI(t,h,i,!1),LV(e,h,t,i,s),o=Mu(a,c),s?e.classBindings=o:e.styleBindings=o}function LV(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ga(s,e)>=0&&(n[i+1]=cm(n[i+1]))}function bI(t,e,n,i){let r=t[n+1],s=e===null,o=i?Ur(r):no(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];BV(c,e)&&(a=!0,t[o+1]=i?cm(u):am(u)),o=i?Ur(u):no(u)}a&&(t[n+1]=i?am(r):cm(r))}function BV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ga(t,e)>=0:!1}var on={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jV(t){return t.substring(on.key,on.keyEnd)}function UV(t){return $V(t),iC(t,rC(t,0,on.textEnd))}function iC(t,e){let n=on.textEnd;return n===e?-1:(e=on.keyEnd=HV(t,on.key=e,n),rC(t,e,n))}function $V(t){on.key=0,on.keyEnd=0,on.value=0,on.valueEnd=0,on.textEnd=t.length}function rC(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function HV(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Ee(t,e,n){let i=re(),r=Wi();if(Ft(i,r,e)){let s=Fe(),o=Cd();Od(s,o,i,t,e,i[Te],n,!1)}return Ee}function lm(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";c_(t,n,s[o],o,i)}function nc(t,e,n){return oC(t,e,n,!1),nc}function Tn(t,e){return oC(t,e,null,!0),Tn}function Fd(t){aC(QV,sC,t,!0)}function sC(t,e){for(let n=UV(e);n>=0;n=iC(e,n))md(t,jV(e),!0)}function oC(t,e,n,i){let r=re(),s=Fe(),o=Td(2);if(s.firstUpdatePass&&lC(s,t,o,i),e!==Bt&&Ft(r,o,e)){let a=s.data[si()];uC(s,a,r,r[Te],t,r[o+1]=YV(e,n),i,o)}}function aC(t,e,n,i){let r=Fe(),s=Td(2);r.firstUpdatePass&&lC(r,null,s,i);let o=re();if(n!==Bt&&Ft(o,s,n)){let a=r.data[si()];if(dC(a,i)&&!cC(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=mg(c,n||"")),lm(r,a,o,n,i)}else JV(r,a,o,o[Te],o[s+1],o[s+1]=KV(t,e,n),i,s)}}function cC(t,e){return e>=t.expandoStartIndex}function lC(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[si()],o=cC(t,n);dC(s,i)&&e===null&&!o&&(e=!1),e=GV(r,s,e,i),VV(r,s,e,n,o,i)}}function GV(t,e,n,i){let r=mP(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=ug(null,t,e,n,i),n=Ua(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=ug(r,t,e,n,i),s===null){let c=zV(t,e,i);c!==void 0&&Array.isArray(c)&&(c=ug(null,t,e,c[1],i),c=Ua(c,e.attrs,i),qV(t,e,i,c))}else s=WV(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function zV(t,e,n){let i=n?e.classBindings:e.styleBindings;if(no(i)!==0)return t[Ur(i)]}function qV(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Ur(r)]=i}function WV(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=Ua(i,o,n)}return Ua(i,e.attrs,n)}function ug(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=Ua(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Ua(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),md(t,o,n?!0:e[++s]))}return t===void 0?null:t}function KV(t,e,n){if(n==null||n==="")return At;let i=[],r=Qa(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function QV(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&md(t,i,n)}function JV(t,e,n,i,r,s,o,a){r===Bt&&(r=At);let c=0,u=0,h=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;h!==null||f!==null;){let g=c<r.length?r[c+1]:void 0,_=u<s.length?s[u+1]:void 0,v=null,S;h===f?(c+=2,u+=2,g!==_&&(v=f,S=_)):f===null||h!==null&&h<f?(c+=2,v=h):(u+=2,v=f,S=_),v!==null&&uC(t,e,n,i,v,S,o,a),h=c<r.length?r[c]:null,f=u<s.length?s[u]:null}}function uC(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],h=FV(u)?EI(c,e,n,r,no(u),o):void 0;if(!ad(h)){ad(s)||PV(u)&&(s=EI(c,null,n,r,a,o));let f=Ed(si(),n);Nk(i,o,f,r,s)}}function EI(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),h=u?c[1]:c,f=h===null,g=n[r+1];g===Bt&&(g=f?At:void 0);let _=f?eg(g,i):h===i?g:void 0;if(u&&!ad(_)&&(_=eg(c,i)),ad(_)&&(a=_,o))return a;let v=t[r+1];r=o?Ur(v):no(v)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=eg(c,i))}return a}function ad(t){return t!==void 0}function YV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Rt(Qa(t)))),t}function dC(t,e){return(t.flags&(e?8:16))!==0}function hC(t,e,n,i,r){let s=re(),o=OV(s,t,e,n,i,r);aC(md,sC,o,!0)}var um=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,n){this.attach(n,this.detach(e))}};function dg(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function ZV(t,e,n){let i,r,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let u=t.at(s),h=e[s],f=dg(s,u,s,h,n);if(f!==0){f<0&&t.updateValue(s,h),s++;continue}let g=t.at(o),_=e[c],v=dg(o,g,c,_,n);if(v!==0){v<0&&t.updateValue(o,_),o--,c--;continue}let S=n(s,u),A=n(o,g),O=n(s,h);if(Object.is(O,A)){let F=n(c,_);Object.is(F,S)?(t.swap(s,o),t.updateValue(o,_),c--,o--):t.move(o,s),t.updateValue(s,h),s++;continue}if(i??=new cd,r??=DI(t,s,o,n),dm(t,i,s,O))t.updateValue(s,h),s++,o++;else if(r.has(O))i.set(S,t.detach(s)),o--;else{let F=t.create(s,e[s]);t.attach(s,F),s++,o++}}for(;s<=c;)II(t,i,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&s<=o;){let h=t.at(s),f=u.value,g=dg(s,h,s,f,n);if(g!==0)g<0&&t.updateValue(s,f),s++,u=c.next();else{i??=new cd,r??=DI(t,s,o,n);let _=n(s,f);if(dm(t,i,s,_))t.updateValue(s,f),s++,o++,u=c.next();else if(!r.has(_))t.attach(s,t.create(s,f)),s++,o++,u=c.next();else{let v=n(s,h);i.set(v,t.detach(s)),o--}}}for(;!u.done;)II(t,i,n,t.length,u.value),u=c.next()}for(;s<=o;)t.destroy(t.detach(o--));i?.forEach(c=>{t.destroy(c)})}function dm(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function II(t,e,n,i,r){if(dm(t,e,i,n(i,r)))t.updateValue(i,r);else{let s=t.create(i,r);t.attach(i,s)}}function DI(t,e,n,i){let r=new Set;for(let s=e;s<=n;s++)r.add(i(s,t.at(s)));return r}var cd=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function fC(t,e){Yi("NgControlFlow");let n=re(),i=Wi(),r=n[i]!==Bt?n[i]:-1,s=r!==-1?ld(n,ze+r):void 0,o=0;if(Ft(n,i,t)){let a=fe(null);try{if(s!==void 0&&xT(s,o),t!==-1){let c=ze+t,u=ld(n,c),h=gm(n[ie],c),f=Ys(u,h.tView.ssrId),g=Za(n,h,e,{dehydratedView:f});Xa(u,g,o,Js(h,f))}}finally{fe(a)}}else if(s!==void 0){let a=OT(s,o);a!==void 0&&(a[gt]=e)}}var hm=class{constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-mt}};function ic(t,e){return e}var fm=class{constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function rc(t,e,n,i,r,s,o,a,c,u,h,f,g){Yi("NgControlFlow");let _=re(),v=Fe(),S=c!==void 0,A=re(),O=a?o.bind(A[kt][gt]):o,F=new fm(S,O);A[ze+t]=F,od(_,v,t+1,e,n,i,r,Yn(v.consts,s)),S&&od(_,v,t+2,c,u,h,f,Yn(v.consts,g))}var pm=class extends um{constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-mt}at(e){return this.getLView(e)[gt].$implicit}attach(e,n){let i=n[Ws];this.needsIndexUpdate||=e!==this.length,Xa(this.lContainer,n,e,Js(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,XV(this.lContainer,e)}create(e,n){let i=Ys(this.lContainer,this.templateTNode.tView.ssrId),r=Za(this.hostLView,this.templateTNode,new hm(this.lContainer,n,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Ad(e[ie],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[gt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[gt].$index=e}getLView(e){return eL(this.lContainer,e)}};function sc(t){let e=fe(null),n=si();try{let i=re(),r=i[ie],s=i[n],o=n+1,a=ld(i,o);if(s.liveCollection===void 0){let u=gm(r,o);s.liveCollection=new pm(a,i,u)}else s.liveCollection.reset();let c=s.liveCollection;if(ZV(c,t,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let u=Wi(),h=c.length===0;if(Ft(i,u,h)){let f=n+2,g=ld(i,f);if(h){let _=gm(r,f),v=Ys(g,_.tView.ssrId),S=Za(i,_,void 0,{dehydratedView:v});Xa(g,S,0,Js(_,v))}else xT(g,0)}}}finally{fe(e)}}function ld(t,e){return t[e]}function XV(t,e){return Ba(t,e)}function eL(t,e){return OT(t,e)}function gm(t,e){return Om(t,e)}function tL(t,e,n,i,r,s){let o=e.consts,a=Yn(o,r),c=so(e,t,2,i,a);return o_(e,n,c,Yn(o,s)),c.attrs!==null&&nd(c,c.attrs,!1),c.mergedAttrs!==null&&nd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function W(t,e,n,i){let r=re(),s=Fe(),o=ze+t,a=r[Te],c=s.firstCreatePass?tL(o,s,r,e,n,i):s.data[o],u=nL(s,r,c,a,e,t);r[o]=u;let h=bd(c);return wn(c,!0),vT(a,u,c),!DV(c)&&Wa()&&Rd(s,r,u,c),sP()===0&&bn(u,r),oP(),h&&(i_(s,r,c),n_(s,c,r)),i!==null&&r_(r,c),W}function z(){let t=yt();Pm()?km():(t=t.parent,wn(t,!1));let e=t;cP(e)&&lP(),aP();let n=Fe();return n.firstCreatePass&&(Sd(n,t),Nm(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&IP(e)&&lm(n,e,re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DP(e)&&lm(n,e,re(),e.stylesWithoutHost,!1),z}function Xt(t,e,n,i){return W(t,e,n,i),z(),Xt}var nL=(t,e,n,i,r,s)=>(Ka(!0),Ym(i,r,vP()));function iL(t,e,n,i,r){let s=e.consts,o=Yn(s,i),a=so(e,t,8,"ng-container",o);o!==null&&nd(a,o,!0);let c=Yn(s,r);return o_(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function oo(t,e,n){let i=re(),r=Fe(),s=t+ze,o=r.firstCreatePass?iL(s,r,i,e,n):r.data[s];wn(o,!0);let a=rL(r,i,o,t);return i[s]=a,Wa()&&Rd(r,i,a,o),bn(a,i),bd(o)&&(i_(r,i,o),n_(r,o,i)),n!=null&&r_(i,o),oo}function ao(){let t=yt(),e=Fe();return Pm()?km():(t=t.parent,wn(t,!1)),e.firstCreatePass&&(Sd(e,t),Nm(t)&&e.queries.elementEnd(t)),ao}var rL=(t,e,n,i)=>(Ka(!0),sT(e[Te],""));function Vd(){return re()}function co(t,e,n){let i=re(),r=Wi();if(Ft(i,r,e)){let s=Fe(),o=Cd();Od(s,o,i,t,e,i[Te],n,!0)}return co}var Rr=void 0;function sL(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var oL=["en",[["a","p"],["AM","PM"],Rr],[["AM","PM"],Rr,Rr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rr,"{1} 'at' {0}",Rr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",sL],hg={};function Ld(t){let e=aL(t),n=TI(e);if(n)return n;let i=e.split("-")[0];if(n=TI(i),n)return n;if(i==="en")return oL;throw new H(701,!1)}function pC(t){return Ld(t)[Gr.PluralCase]}function TI(t){return t in hg||(hg[t]=Mr.ng&&Mr.ng.common&&Mr.ng.common.locales&&Mr.ng.common.locales[t]),hg[t]}var Gr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Gr||{});function aL(t){return t.toLowerCase().replace(/_/g,"-")}var cL=["zero","one","two","few","many"];function lL(t,e){let n=pC(e)(parseInt(t,10)),i=cL[n];return i!==void 0?i:"other"}var ud="en-US";var gC={marker:"element"},mC={marker:"ICU"},Wn=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(Wn||{}),_C=ud;function uL(t){typeof t=="string"&&(_C=t.toLowerCase().replace(/_/g,"-"))}function dL(){return _C}var $a=0,Oa=0;function hL(t){t&&($a=$a|1<<Math.min(Oa,31)),Oa++}function fL(t,e,n){if(Oa>0){let i=t.data[n],r=Array.isArray(i)?i:i.update,s=Fm()-Oa-1;vC(t,e,r,s,$a)}$a=0,Oa=0}function pL(t,e,n){let i=t[Te];switch(n){case Node.COMMENT_NODE:return sT(i,e);case Node.TEXT_NODE:return iT(i,e);case Node.ELEMENT_NODE:return Ym(i,e,null)}}var Fu=(t,e,n,i)=>(Ka(!0),pL(t,n,i));function gL(t,e,n,i){let r=t[Te];for(let s=0;s<e.length;s++){let o=e[s++],a=e[s],c=(o&Wn.COMMENT)===Wn.COMMENT,u=(o&Wn.APPEND_EAGERLY)===Wn.APPEND_EAGERLY,h=o>>>Wn.SHIFT,f=t[h],g=!1;f===null&&(f=t[h]=Fu(t,h,a,c?Node.COMMENT_NODE:Node.TEXT_NODE),g=Wa()),u&&n!==null&&g&&Br(r,n,f,i,!1)}}function yC(t,e,n,i){let r=n[Te],s=null,o;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="string"){let u=e[++a];n[u]===null&&(n[u]=Fu(n,u,c,Node.TEXT_NODE))}else if(typeof c=="number")switch(c&1){case 0:let u=CF(c);s===null&&(s=u,o=Xm(r,i));let h,f;if(u===s?(h=i,f=o):(h=null,f=Kt(n[u])),f!==null){let S=SF(c),A=n[S];Br(r,f,A,h,!1);let O=Na(t,S);if(O!==null&&typeof O=="object"){let F=kd(O,n);F!==null&&yC(t,O.create[F],n,n[O.anchorIdx])}}break;case 1:let g=c>>>1,_=e[++a],v=e[++a];a_(r,Ed(g,n),null,null,_,v,null);break;default:}else switch(c){case mC:let u=e[++a],h=e[++a];if(n[h]===null){let _=n[h]=Fu(n,h,u,Node.COMMENT_NODE);bn(_,n)}break;case gC:let f=e[++a],g=e[++a];if(n[g]===null){let _=n[g]=Fu(n,g,f,Node.ELEMENT_NODE);bn(_,n)}break;default:}}}function vC(t,e,n,i,r){for(let s=0;s<n.length;s++){let o=n[s],a=n[++s];if(o&r){let c="";for(let u=s+1;u<=s+a;u++){let h=n[u];if(typeof h=="string")c+=h;else if(typeof h=="number")if(h<0)c+=_n(e[i-h]);else{let f=h>>>2;switch(h&3){case 1:let g=n[++u],_=n[++u],v=t.data[f];typeof v=="string"?a_(e[Te],e[f],null,v,g,c,_):Od(t,v,e,g,c,e[Te],_,!1);break;case 0:let S=e[f];S!==null&&rT(e[Te],S,c);break;case 2:mL(t,Na(t,f),e,c);break;case 3:CI(t,Na(t,f),i,e);break}}}}else{let c=n[s+1];if(c>0&&(c&3)===3){let u=c>>>2,h=Na(t,u);e[h.currentCaseLViewIndex]<0&&CI(t,h,i,e)}}s+=a}}function CI(t,e,n,i){let r=i[e.currentCaseLViewIndex];if(r!==null){let s=$a;r<0&&(r=i[e.currentCaseLViewIndex]=~r,s=-1),vC(t,i,e.update[r],n,s)}}function mL(t,e,n,i){let r=_L(e,i);if(kd(e,n)!==r&&(wC(t,e,n),n[e.currentCaseLViewIndex]=r===null?null:~r,r!==null)){let o=n[e.anchorIdx];o&&yC(t,e.create[r],n,o),PF(n,e.anchorIdx,r)}}function wC(t,e,n){let i=kd(e,n);if(i!==null){let r=e.remove[i];for(let s=0;s<r.length;s++){let o=r[s];if(o>0){let a=Ed(o,n);a!==null&&mT(n[Te],a)}else wC(t,Na(t,~o),n)}}}function _L(t,e){let n=t.cases.indexOf(e);if(n===-1)switch(t.type){case 1:{let i=lL(e,dL());n=t.cases.indexOf(i),n===-1&&i!=="other"&&(n=t.cases.indexOf("other"));break}case 0:{n=t.cases.indexOf("other");break}}return n===-1?null:n}var dd=/(\d+):?\d*/gi;var yL=/(\d+)/,bC=/^\s*(\d+:?\d*)\s*,\s*(select|plural)\s*,/,xa="\uFFFD",vL=/\/?\*(\d+:\d+)/gi,wL=/(\/?[#*]\d+):?\d*/gi,bL=/\uE500/g;function EL(t){return t.replace(bL," ")}function IL(t,e,n,i,r,s){let o=La(),a=[],c=[],u=[[]],h=[[]];r=TL(r,s);let f=EL(r).split(wL);for(let g=0;g<f.length;g++){let _=f[g];if(g&1){let v=_.charCodeAt(0)===47,S=_.charCodeAt(v?1:0),A=ze+Number.parseInt(_.substring(v?2:1));if(v)u.shift(),h.shift(),wn(La(),!1);else{let O=TF(t,u[0],A);u.unshift([]),wn(O,!0);let F={kind:2,index:A,children:[],type:S===35?0:1};h[0].push(F),h.unshift(F.children)}}else{let v=mm(_);for(let S=0;S<v.length;S++){let A=v[S];if(S&1){let O=A;if(typeof O!="object")throw new Error(`Unable to parse ICU expression in "${r}" message.`);let L=EC(t,o,u[0],n,a,"",!0).index;DC(h[0],t,n,c,e,O,L)}else{let O=A;O!==""&&DL(h[0],t,o,u[0],a,c,n,O)}}}}t.data[i]={create:a,update:c,ast:h[0],parentTNodeIndex:e}}function EC(t,e,n,i,r,s,o){let a=Ya(t,i,1,null),c=a<<Wn.SHIFT,u=La();e===u&&(u=null),u===null&&(c|=Wn.APPEND_EAGERLY),o&&(c|=Wn.COMMENT,bk(MF)),r.push(c,s===null?"":s);let h=t_(t,a,o?32:1,s===null?"":s,null);$T(n,h);let f=h.index;return wn(h,!1),u!==null&&e!==u&&DF(u,f),h}function DL(t,e,n,i,r,s,o,a){let c=a.match(dd),h=EC(e,n,i,o,r,c?null:a,!1).index;c&&Vu(s,a,h,null,0,null),t.push({kind:0,index:h})}function Vu(t,e,n,i,r,s){let o=t.length,a=o+1;t.push(null,null);let c=o+2,u=e.split(dd),h=0;for(let f=0;f<u.length;f++){let g=u[f];if(f&1){let _=r+parseInt(g,10);t.push(-1-_),h=h|IC(_)}else g!==""&&t.push(g)}return t.push(n<<2|(i?1:0)),i&&t.push(i,s),t[o]=h,t[a]=t.length-c,h}function IC(t){return 1<<Math.min(t,31)}function SI(t){let e,n="",i=0,r=!1,s;for(;(e=vL.exec(t))!==null;)r?e[0]===`${xa}/*${s}${xa}`&&(i=e.index,r=!1):(n+=t.substring(i,e.index+e[0].length),s=e[1],r=!0);return n+=t.slice(i),n}function TL(t,e){if(RF(e))return SI(t);{let n=t.indexOf(`:${e}${xa}`)+2+e.toString().length,i=t.search(new RegExp(`${xa}\\/\\*\\d+:${e}${xa}`));return SI(t.substring(n,i))}}function DC(t,e,n,i,r,s,o){let a=0,c={type:s.type,currentCaseLViewIndex:Ya(e,n,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};RL(i,s,o),IF(e,o,c);let u=s.values,h=[];for(let f=0;f<u.length;f++){let g=u[f],_=[];for(let S=0;S<g.length;S++){let A=g[S];if(typeof A!="string"){let O=_.push(A)-1;g[S]=`<!--\uFFFD${O}\uFFFD-->`}}let v=[];h.push(v),a=SL(v,e,c,n,i,r,s.cases[f],g.join(""),_)|a}a&&ML(i,a,o),t.push({kind:3,index:o,cases:h,currentCaseLViewIndex:c.currentCaseLViewIndex})}function CL(t){let e=[],n=[],i=1,r=0;t=t.replace(bC,function(o,a,c){return c==="select"?i=0:i=1,r=parseInt(a.slice(1),10),""});let s=mm(t);for(let o=0;o<s.length;){let a=s[o++].trim();i===1&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);let c=mm(s[o++]);e.length>n.length&&n.push(c)}return{type:i,mainBinding:r,cases:e,values:n}}function mm(t){if(!t)return[];let e=0,n=[],i=[],r=/[{}]/g;r.lastIndex=0;let s;for(;s=r.exec(t);){let a=s.index;if(s[0]=="}"){if(n.pop(),n.length==0){let c=t.substring(e,a);bC.test(c)?i.push(CL(c)):i.push(c),e=a+1}}else{if(n.length==0){let c=t.substring(e,a);i.push(c),e=a+1}n.push("{")}}let o=t.substring(e);return i.push(o),i}function SL(t,e,n,i,r,s,o,a,c){let u=[],h=[],f=[];n.cases.push(o),n.create.push(u),n.remove.push(h),n.update.push(f);let _=nk(JD()).getInertBodyElement(a),v=fk(_)||_;return v?TC(t,e,n,i,r,u,h,f,v,s,c,0):0}function TC(t,e,n,i,r,s,o,a,c,u,h,f){let g=0,_=c.firstChild;for(;_;){let v=Ya(e,i,1,null);switch(_.nodeType){case Node.ELEMENT_NODE:let S=_,A=S.tagName.toLowerCase();if(lk.hasOwnProperty(A)){fg(s,gC,A,u,v),e.data[v]=A;let q=S.attributes;for(let G=0;G<q.length;G++){let I=q.item(G),y=I.name.toLowerCase();!!I.value.match(dd)?hk.hasOwnProperty(y)&&(tT[y]?Vu(a,I.value,v,I.name,0,Km):Vu(a,I.value,v,I.name,0,null)):NL(s,v,I)}let he={kind:1,index:v,children:[]};t.push(he),g=TC(he.children,e,n,i,r,s,o,a,_,v,h,f+1)|g,AI(o,v,f)}break;case Node.TEXT_NODE:let O=_.textContent||"",F=O.match(dd);fg(s,null,F?"":O,u,v),AI(o,v,f),F&&(g=Vu(a,O,v,null,0,null)|g),t.push({kind:0,index:v});break;case Node.COMMENT_NODE:let L=yL.exec(_.textContent||"");if(L){let q=parseInt(L[1],10),he=h[q];fg(s,mC,"",u,v),DC(t,e,i,r,u,he,v),AL(o,v,f)}break}_=_.nextSibling}return g}function AI(t,e,n){n===0&&t.push(e)}function AL(t,e,n){n===0&&(t.push(~e),t.push(e))}function RL(t,e,n){t.push(IC(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}function ML(t,e,n){t.push(e,1,n<<2|3)}function fg(t,e,n,i,r){e!==null&&t.push(e),t.push(n,r,AF(0,i,r))}function NL(t,e,n){t.push(e<<1|1,n.name,n.value)}function OL(t,e,n=-1){let i=Fe(),r=re(),s=ze+t,o=Yn(i.consts,e),a=La();if(i.firstCreatePass&&IL(i,a===null?0:a.index,r,s,o,n),i.type===2){let g=r[kt];g[X]|=32}else r[X]|=32;let c=i.data[s],u=a===r[Nt]?null:a,h=lT(i,u,r),f=a&&a.type&8?r[a.index]:null;OF(r,s,a,n),gL(r,c.create,h,f),ED(!0)}function xL(){ED(!1)}function CC(t,e,n){OL(t,e,n),xL()}function g_(t){let e=re();return hL(Ft(e,Wi(),t)),g_}function SC(t){fL(Fe(),re(),t+ze)}var PL=(t,e,n)=>{};function Vt(t,e,n,i){let r=re(),s=Fe(),o=yt();return AC(s,r,r[Te],o,t,e,i),Vt}function kL(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[Gu],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function AC(t,e,n,i,r,s,o){let a=bd(i),u=t.firstCreatePass&&RT(t),h=e[gt],f=AT(e),g=!0;if(i.type&3||o){let S=Yt(i,e),A=o?o(S):S,O=f.length,F=o?q=>o(Kt(q[i.index])):i.index,L=null;if(!o&&a&&(L=kL(t,e,r,i.index)),L!==null){let q=L.__ngLastListenerFn__||L;q.__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,g=!1}else{s=MI(i,e,h,s),PL(S,r,s);let q=n.listen(A,r,s);f.push(s,q),u&&u.push(r,F,O,O+1)}}else s=MI(i,e,h,s);let _=i.outputs,v;if(g&&_!==null&&(v=_[r])){let S=v.length;if(S)for(let A=0;A<S;A+=2){let O=v[A],F=v[A+1],he=e[O][F].subscribe(s),G=f.length;f.push(s,he),u&&u.push(r,i.index,G,-(G+1))}}}function RI(t,e,n,i){let r=fe(null);try{return gn(6,e,n),n(i)!==!1}catch(s){return MT(t,s),!1}finally{gn(7,e,n),fe(r)}}function MI(t,e,n,i){return function r(s){if(s===Function)return i;let o=t.componentOffset>-1?qi(t.index,e):e;u_(o,5);let a=RI(e,n,i,s),c=r.__ngNextListenerFn__;for(;c;)a=RI(e,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function et(t=1){return yP(t)}function FL(t,e){let n=null,i=Ax(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?QI(t,s,!0):Nx(i,s))return r}return n}function Bd(t){let e=re()[kt][Nt];if(!e.projection){let n=t?t.length:1,i=e.projection=yx(n,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?FL(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function jd(t,e=0,n,i,r,s){let o=re(),a=Fe(),c=i?t+1:null;c!==null&&od(o,a,c,i,r,s,null,n);let u=so(a,ze+t,16,null,n||null);u.projection===null&&(u.projection=e),km();let f=!o[Ws]||vD();o[kt][Nt].projection[u.projection]===null&&c!==null?VL(o,a,c):f&&(u.flags&32)!==32&&Rk(a,o,u)}function VL(t,e,n){let i=ze+n,r=e.data[i],s=t[i],o=Ys(s,r.tView.ssrId),a=Za(t,r,void 0,{dehydratedView:o});Xa(s,a,0,Js(r,o))}function oc(t,e,n,i){aV(t,e,n,i)}function RC(t,e,n){oV(t,e,n)}function lo(t){let e=re(),n=Fe(),i=ID();Vm(i+1);let r=h_(n,i);if(t.dirty&&tP(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=uV(e,i);t.reset(s,GP),t.notifyOnChanges()}return!0}return!1}function uo(){return sV(re(),ID())}function LL(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function m_(t){let e=uP();return fD(e,ze+t)}function xe(t,e=""){let n=re(),i=Fe(),r=t+ze,s=i.firstCreatePass?so(i,r,1,e,null):i.data[r],o=BL(i,n,s,e,t);n[r]=o,Wa()&&Rd(i,n,o,s),wn(s,!1)}var BL=(t,e,n,i,r)=>(Ka(!0),iT(e[Te],i));function Ud(t){return ci("",t,""),Ud}function ci(t,e,n){let i=re(),r=NV(i,t,e,n);return r!==Bt&&NT(i,si(),r),ci}function ac(t,e,n,i,r,s,o){let a=re(),c=xV(a,t,e,n,i,r,s,o);return c!==Bt&&NT(a,si(),c),ac}function $d(t,e,n){ZT(e)&&(e=e());let i=re(),r=Wi();if(Ft(i,r,e)){let s=Fe(),o=Cd();Od(s,o,i,t,e,i[Te],n,!1)}return $d}function __(t,e){let n=ZT(t);return n&&t.set(e),n}function Hd(t,e){let n=re(),i=Fe(),r=yt();return AC(i,n,n[Te],r,t,e),Hd}function jL(t,e,n){let i=Fe();if(i.firstCreatePass){let r=Gi(t);_m(n,i.data,i.blueprint,r,!0),_m(e,i.data,i.blueprint,r,!1)}}function _m(t,e,n,i,r){if(t=ot(t),Array.isArray(t))for(let s=0;s<t.length;s++)_m(t[s],e,n,i,r);else{let s=Fe(),o=re(),a=yt(),c=qs(t)?t:ot(t.provide),u=sD(t),h=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(qs(t)||!t.multi){let _=new Vr(u,r,me),v=gg(c,e,r?h:h+g,f);v===-1?(Mg(Ju(a,o),s,c),pg(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(_),o.push(_)):(n[v]=_,o[v]=_)}else{let _=gg(c,e,h+g,f),v=gg(c,e,h,h+g),S=_>=0&&n[_],A=v>=0&&n[v];if(r&&!A||!r&&!S){Mg(Ju(a,o),s,c);let O=HL(r?$L:UL,n.length,r,i,u);!r&&A&&(n[v].providerFactory=O),pg(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(O),o.push(O)}else{let O=MC(n[r?v:_],u,!r&&i);pg(s,t,_>-1?_:v,O)}!r&&i&&A&&n[v].componentProviders++}}}function pg(t,e,n,i){let r=qs(e),s=$x(e);if(r||s){let c=(s?ot(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let h=u.indexOf(n);h===-1?u.push(n,[i,c]):u[h+1].push(i,c)}else u.push(n,c)}}}function MC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gg(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function UL(t,e,n,i){return ym(this.multi,[])}function $L(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Lr(n,n[ie],this.providerFactory.index,i);s=a.slice(0,o),ym(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],ym(r,s);return s}function ym(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function HL(t,e,n,i,r){let s=new Vr(t,n,me);return s.multi=[],s.index=e,s.componentProviders=0,MC(s,r,i&&!n),s}function zr(t,e=[]){return n=>{n.providersResolver=(i,r)=>jL(i,r?r(t):t,e)}}var GL=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=nD(!1,n.type),r=i.length>0?p_([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(ee(at))})}}return t})();function li(t){Yi("NgStandalone"),t.getStandaloneInjector=e=>e.get(GL).getOrCreateStandaloneInjector(t)}function zL(t,e){let n=t[e];return n===Bt?void 0:n}function qL(t,e,n,i,r,s){let o=e+n;return Ft(t,o,r)?EV(t,o+1,s?i.call(s,r):i(r)):zL(t,o+1)}function NC(t,e){let n=Fe(),i,r=t+ze;n.firstCreatePass?(i=WL(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=Or(i.type,!0)),o,a=Pt(me);try{let c=Qu(!1),u=s();return Qu(c),LL(n,re(),r,u),u}finally{Pt(a)}}function WL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function OC(t,e,n){let i=t+ze,r=re(),s=fD(r,i);return KL(r,i)?qL(r,dP(),e,s.transform,n,s):s.transform(n)}function KL(t,e){return t[ie].data[e].pure}function y_(t,e){return Pd(t,e)}var ei=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xC=new ei("18.2.11");var Gd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var PC=new U("");function qr(t){return!!t&&typeof t.then=="function"}function kC(t){return!!t&&typeof t.subscribe=="function"}var FC=new U(""),VC=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=N(FC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let s=r();if(qr(s))n.push(s);else if(kC(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zd=new U("");function QL(){yE(()=>{throw new H(600,!1)})}function JL(t){return t.isBoundToModule}var YL=10;function ZL(t,e,n){try{let i=n();return qr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var Cn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N($P),this.afterRenderManager=N(nC),this.zonelessEnabled=N(d_),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Me,this.afterTick=new Me,this.componentTypes=[],this.components=[],this.isStable=N(ai).hasPendingTasks.pipe(Y(n=>!n)),this._injector=N(at)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof td;if(!this._injector.get(VC).done){let g=!r&&ZI(n),_=!1;throw new H(405,_)}let o;r?o=n:o=this._injector.get(Xs).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=JL(o)?void 0:this._injector.get(zi),c=i||o.selector,u=o.create(Le.NULL,[],c,a),h=u.location.nativeElement,f=u.injector.get(PC,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Lu(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new H(101,!1);let n=fe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,fe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(eo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<YL;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)XL(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Id(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Lu(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(zd,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new H(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Lu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function XL(t,e,n,i){if(!n&&!Id(t))return;FT(t,e,n&&!i?0:1)}var vm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},v_=(()=>{class t{compileModuleSync(n){return new rm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=XI(n),s=nT(r.declarations).reduce((o,a)=>{let c=Hi(a);return c&&o.push(new to(c)),o},[]);return new vm(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var e2=(()=>{class t{constructor(){this.zone=N(we),this.changeDetectionScheduler=N(Zs),this.applicationRef=N(Cn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function t2({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(ue(V({},n2()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:zs,multi:!0,useFactory:()=>{let i=N(e2,{optional:!0});return()=>i.initialize()}},{provide:zs,multi:!0,useFactory:()=>{let i=N(i2);return()=>{i.initialize()}}},e===!0?{provide:zT,useValue:!0}:[],{provide:qT,useValue:n??UD}]}function n2(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var i2=(()=>{class t{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=N(we),this.pendingTasks=N(ai)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var r2=(()=>{class t{constructor(){this.appRef=N(Cn),this.taskService=N(ai),this.ngZone=N(we),this.zonelessEnabled=N(d_),this.disableScheduling=N(zT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ue,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(qT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?lI:$D;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function s2(){return typeof $localize<"u"&&$localize.locale||ud}var cc=new U("",{providedIn:"root",factory:()=>N(cc,de.Optional|de.SkipSelf)||s2()});var wm=new U("");function Nu(t){return!t.moduleRef}function o2(t){let e=Nu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{Nu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=e.get(Zn,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:s=>{i.handleError(s)}})}),Nu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(wm);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(wm);o.add(s),t.moduleRef.onDestroy(()=>{Lu(t.allPlatformModules,t.moduleRef),r.unsubscribe(),o.delete(s)})}return ZL(i,n,()=>{let s=e.get(VC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(cc,ud);if(uL(o||ud),Nu(t)){let a=e.get(Cn);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return a2(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function a2(t,e){let n=t.injector.get(Cn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new H(-403,!1);e.push(t)}var Bu=null;function c2(t=[],e){return Le.create({name:e,providers:[{provide:_d,useValue:"platform"},{provide:wm,useValue:new Set([()=>Bu=null])},...t]})}function l2(t=[]){if(Bu)return Bu;let e=c2(t);return Bu=e,QL(),u2(e),e}function u2(t){t.get(Gm,null)?.forEach(n=>n())}var Sn=(()=>{class t{static{this.__NG_ELEMENT_ID__=d2}}return t})();function d2(t){return h2(yt(),re(),(t&16)===16)}function h2(t,e,n){if(wd(t)&&!n){let i=qi(t.index,e);return new jr(i,i)}else if(t.type&175){let i=e[kt];return new jr(i,e)}return null}var bm=class{constructor(){}supports(e){return eC(e)}create(e){return new Em(e)}},f2=(t,e)=>e,Em=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||f2}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<NI(i,r,s)?n:i,a=NI(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,h=c-r;if(u!=h){for(let g=0;g<u;g++){let _=g<s.length?s[g]:s[g]=0,v=_+g;h<=v&&v<u&&(s[g]=_+1)}let f=o.previousIndex;s[f]=h-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!eC(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,wV(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new Im(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new hd),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new hd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Im=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Dm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},hd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Dm,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function NI(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function OI(){return new w_([new bm])}var w_=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:OI})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||OI()),deps:[[t,new HI,new Mt]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new H(901,!1)}}return t})();function LC(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=l2(i),s=[t2({}),{provide:Zs,useExisting:r2},...n||[]],o=new sd({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return o2({r3Injector:o.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function qd(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function lc(t,e){Yi("NgSignals");let n=gE(t);return e?.equal&&(n[Gn].equal=e.equal),n}function ui(t){let e=fe(null);try{return t()}finally{fe(e)}}function Wd(t,e){let n=Hi(t),i=e.elementInjector||yd();return new to(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var zC=null;function hi(){return zC}function qC(t){zC??=t}var Kd=class{};var tt=new U(""),WC=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>N(m2),providedIn:"platform"})}}return t})();var m2=(()=>{class t extends WC{constructor(){super(),this._doc=N(tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hi().getBaseHref(this._doc)}onPopState(n){let i=hi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=hi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function KC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function BC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Wr(t){return t&&t[0]!=="?"?"?"+t:t}var Jd=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>N(QC),providedIn:"root"})}}return t})(),_2=new U(""),QC=(()=>{class t extends Jd{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return KC(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Wr(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+Wr(s));this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+Wr(s));this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||t)(ee(WC),ee(_2,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var dc=(()=>{class t{constructor(n){this._subject=new ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=w2(BC(jC(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Wr(i))}normalize(n){return t.stripTrailingSlash(v2(this._basePath,jC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wr(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=Wr}static{this.joinWithSlash=KC}static{this.stripTrailingSlash=BC}static{this.\u0275fac=function(i){return new(i||t)(ee(Jd))}}static{this.\u0275prov=j({token:t,factory:()=>y2(),providedIn:"root"})}}return t})();function y2(){return new dc(ee(Jd))}function v2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function jC(t){return t.replace(/\/index.html$/,"")}function w2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var JC=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(JC||{});var An={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ho(t,e){let n=Ld(t),i=n[Gr.NumberSymbols][e];if(typeof i>"u"){if(e===An.CurrencyDecimal)return n[Gr.NumberSymbols][An.Decimal];if(e===An.CurrencyGroup)return n[Gr.NumberSymbols][An.Group]}return i}function b2(t,e){return Ld(t)[Gr.NumberFormats][e]}var E2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,UC=22,Qd=".",uc="0",I2=";",D2=",",b_="#";var T2="%";function C2(t,e,n,i,r,s,o=!1){let a="",c=!1;if(!isFinite(t))a=ho(n,An.Infinity);else{let u=M2(t);o&&(u=R2(u));let h=e.minInt,f=e.minFrac,g=e.maxFrac;if(s){let F=s.match(E2);if(F===null)throw new Error(`${s} is not a valid digit info`);let L=F[1],q=F[3],he=F[5];L!=null&&(h=E_(L)),q!=null&&(f=E_(q)),he!=null?g=E_(he):q!=null&&f>g&&(g=f)}N2(u,f,g);let _=u.digits,v=u.integerLen,S=u.exponent,A=[];for(c=_.every(F=>!F);v<h;v++)_.unshift(0);for(;v<0;v++)_.unshift(0);v>0?A=_.splice(v,_.length):(A=_,_=[0]);let O=[];for(_.length>=e.lgSize&&O.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)O.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&O.unshift(_.join("")),a=O.join(ho(n,i)),A.length&&(a+=ho(n,r)+A.join("")),S&&(a+=ho(n,An.Exponential)+"+"+S)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function S2(t,e,n){let i=b2(e,JC.Percent),r=A2(i,ho(e,An.MinusSign));return C2(t,r,e,An.Group,An.Decimal,n,!0).replace(new RegExp(T2,"g"),ho(e,An.PercentSign))}function A2(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(I2),r=i[0],s=i[1],o=r.indexOf(Qd)!==-1?r.split(Qd):[r.substring(0,r.lastIndexOf(uc)+1),r.substring(r.lastIndexOf(uc)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(b_));for(let h=0;h<c.length;h++){let f=c.charAt(h);f===uc?n.minFrac=n.maxFrac=h+1:f===b_?n.maxFrac=h+1:n.posSuf+=f}let u=a.split(D2);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let h=r.length-n.posPre.length-n.posSuf.length,f=s.indexOf(b_);n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function R2(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function M2(t){let e=Math.abs(t)+"",n=0,i,r,s,o,a;for((r=e.indexOf(Qd))>-1&&(e=e.replace(Qd,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===uc;s++);if(s===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===uc;)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(e.charAt(s))}return r>UC&&(i=i.splice(0,UC-1),n=r-1,r=1),{digits:i,exponent:n,integerLen:r}}function N2(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen,s=Math.min(Math.max(e,r),n),o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let f=o;f<i.length;f++)i[f]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let f=1;f<o;f++)i[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let c=s!==0,u=e+t.integerLen,h=i.reduceRight(function(f,g,_,v){return g=g+f,v[_]=g<10?g:g-10,c&&(v[_]===0&&_>=u?v.pop():c=!1),g>=10?1:0},0);h&&(i.unshift(h),t.integerLen++)}function E_(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Yd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var I_=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},YC=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new I_(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),$C(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);$C(s,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(me(In),me(En),me(w_))}}static{this.\u0275dir=ke({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function $C(t,e){t.context.$implicit=e.item}var ZC=(()=>{class t{constructor(n,i){this._viewContainer=n,this._context=new D_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){HC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){HC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(me(In),me(En))}}static{this.\u0275dir=ke({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),D_=class{constructor(){this.$implicit=null,this.ngIf=null}};function HC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Rt(e)}'.`)}function O2(t,e){return new H(2100,!1)}var XC=(()=>{class t{constructor(n){this._locale=n}transform(n,i,r){if(!x2(n))return null;r||=this._locale;try{let s=P2(n);return S2(s,r,i)}catch(s){throw O2(t,s.message)}}static{this.\u0275fac=function(i){return new(i||t)(me(cc,16))}}static{this.\u0275pipe=JI({name:"percent",type:t,pure:!0,standalone:!0})}}return t})();function x2(t){return!(t==null||t===""||t!==t)}function P2(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var T_=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({})}}return t})(),e1="browser",k2="server";function Zd(t){return t===k2}var fo=class{};var fc=class{},eh=class{},fi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var S_=class{encodeKey(e){return n1(e)}encodeValue(e){return n1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function F2(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var V2=/%(\d[a-f0-9])/gi,L2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function n1(t){return encodeURIComponent(t).replace(V2,(e,n)=>L2[n]??e)}function Xd(t){return`${t}`}var er=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new S_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=F2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Xd):[Xd(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Xd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Xd(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var A_=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function B2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function i1(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function r1(t){return typeof Blob<"u"&&t instanceof Blob}function s1(t){return typeof FormData<"u"&&t instanceof FormData}function j2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var hc=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(B2(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new fi,this.context??=new A_,!this.params)this.params=new er,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||i1(this.body)||r1(this.body)||s1(this.body)||j2(this.body)?this.body:this.body instanceof er?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||s1(this.body)?null:r1(this.body)?this.body.type||null:i1(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof er?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,_)=>g.set(_,e.setHeaders[_]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,_)=>g.set(_,e.setParams[_]),h)),new t(n,i,o,{params:h,headers:u,context:f,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},tr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(tr||{}),pc=class{constructor(e,n=200,i="OK"){this.headers=e.headers||new fi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},th=class t extends pc{constructor(e={}){super(e),this.type=tr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gc=class t extends pc{constructor(e={}){super(e),this.type=tr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xi=class extends pc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},u1=200,U2=204;function C_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var mc=(()=>{class t{constructor(n){this.handler=n}request(n,i,r={}){let s;if(n instanceof hc)s=n;else{let c;r.headers instanceof fi?c=r.headers:c=new fi(r.headers);let u;r.params&&(r.params instanceof er?u=r.params:u=new er({fromObject:r.params})),s=new hc(n,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=Z(s).pipe(Vi(c=>this.handler.handle(c)));if(n instanceof hc||r.observe==="events")return o;let a=o.pipe(Je(c=>c instanceof gc));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Y(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Y(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Y(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Y(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new er().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,C_(r,i))}post(n,i,r={}){return this.request("POST",n,C_(r,i))}put(n,i,r={}){return this.request("PUT",n,C_(r,i))}static{this.\u0275fac=function(i){return new(i||t)(ee(fc))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),$2=/^\)\]\}',?\n/,H2="X-Request-URL";function o1(t){if(t.url)return t.url;let e=H2.toLocaleLowerCase();return t.headers.get(e)}var G2=(()=>{class t{constructor(){this.fetchImpl=N(R_,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=N(we)}handle(n){return new J(i=>{let r=new AbortController;return this.doRequest(n,r.signal,i).then(M_,s=>i.error(new Xi({error:s}))),()=>r.abort()})}doRequest(n,i,r){return E(this,null,function*(){let s=this.createRequestInit(n),o;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,V({signal:i},s)));z2(_),r.next({type:tr.Sent}),o=yield _}catch(_){r.error(new Xi({error:_,status:_.status??0,statusText:_.statusText,url:n.urlWithParams,headers:_.headers}));return}let a=new fi(o.headers),c=o.statusText,u=o1(o)??n.urlWithParams,h=o.status,f=null;if(n.reportProgress&&r.next(new th({headers:a,status:h,statusText:c,url:u})),o.body){let _=o.headers.get("content-length"),v=[],S=o.body.getReader(),A=0,O,F,L=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:he,value:G}=yield S.read();if(he)break;if(v.push(G),A+=G.length,n.reportProgress){F=n.responseType==="text"?(F??"")+(O??=new TextDecoder).decode(G,{stream:!0}):void 0;let I=()=>r.next({type:tr.DownloadProgress,total:_?+_:void 0,loaded:A,partialText:F});L?L.run(I):I()}}}));let q=this.concatChunks(v,A);try{let he=o.headers.get("Content-Type")??"";f=this.parseBody(n,q,he)}catch(he){r.error(new Xi({error:he,headers:new fi(o.headers),status:o.status,statusText:o.statusText,url:o1(o)??n.urlWithParams}));return}}h===0&&(h=f?u1:0),h>=200&&h<300?(r.next(new gc({body:f,headers:a,status:h,statusText:c,url:u})),r.complete()):r.error(new Xi({error:f,headers:a,status:h,statusText:c,url:u}))})}parseBody(n,i,r){switch(n.responseType){case"json":let s=new TextDecoder().decode(i).replace($2,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>i[s]=o.join(",")),n.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:r}}concatChunks(n,i){let r=new Uint8Array(i),s=0;for(let o of n)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),R_=class{};function M_(){}function z2(t){t.then(M_,M_)}function d1(t,e){return e(t)}function q2(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function W2(t,e,n){return(i,r)=>ln(n,()=>e(i,s=>t(s,r)))}var K2=new U(""),N_=new U(""),Q2=new U(""),h1=new U("",{providedIn:"root",factory:()=>!0});function J2(){let t=null;return(e,n)=>{t===null&&(t=(N(K2,{optional:!0})??[]).reduceRight(q2,d1));let i=N(ai);if(N(h1)){let s=i.add();return t(e,n).pipe(qn(()=>i.remove(s)))}else return t(e,n)}}var a1=(()=>{class t extends fc{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=N(ai),this.contributeToStability=N(h1)}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(N_),...this.injector.get(Q2,[])]));this.chain=i.reduceRight((r,s)=>W2(r,s,this.injector),d1)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(qn(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||t)(ee(eh),ee(at))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Y2=/^\)\]\}',?\n/;function Z2(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var c1=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new H(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ne(i.\u0275loadImpl()):Z(null)).pipe(St(()=>new J(s=>{let o=i.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((S,A)=>o.setRequestHeader(S,A.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let S=n.detectContentTypeHeader();S!==null&&o.setRequestHeader("Content-Type",S)}if(n.responseType){let S=n.responseType.toLowerCase();o.responseType=S!=="json"?S:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let S=o.statusText||"OK",A=new fi(o.getAllResponseHeaders()),O=Z2(o)||n.url;return c=new th({headers:A,status:o.status,statusText:S,url:O}),c},h=()=>{let{headers:S,status:A,statusText:O,url:F}=u(),L=null;A!==U2&&(L=typeof o.response>"u"?o.responseText:o.response),A===0&&(A=L?u1:0);let q=A>=200&&A<300;if(n.responseType==="json"&&typeof L=="string"){let he=L;L=L.replace(Y2,"");try{L=L!==""?JSON.parse(L):null}catch(G){L=he,q&&(q=!1,L={error:G,text:L})}}q?(s.next(new gc({body:L,headers:S,status:A,statusText:O,url:F||void 0})),s.complete()):s.error(new Xi({error:L,headers:S,status:A,statusText:O,url:F||void 0}))},f=S=>{let{url:A}=u(),O=new Xi({error:S,status:o.status||0,statusText:o.statusText||"Unknown Error",url:A||void 0});s.error(O)},g=!1,_=S=>{g||(s.next(u()),g=!0);let A={type:tr.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(A.total=S.total),n.responseType==="text"&&o.responseText&&(A.partialText=o.responseText),s.next(A)},v=S=>{let A={type:tr.UploadProgress,loaded:S.loaded};S.lengthComputable&&(A.total=S.total),s.next(A)};return o.addEventListener("load",h),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),n.reportProgress&&(o.addEventListener("progress",_),a!==null&&o.upload&&o.upload.addEventListener("progress",v)),o.send(a),s.next({type:tr.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",h),o.removeEventListener("timeout",f),n.reportProgress&&(o.removeEventListener("progress",_),a!==null&&o.upload&&o.upload.removeEventListener("progress",v)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(ee(fo))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),f1=new U(""),X2="XSRF-TOKEN",eB=new U("",{providedIn:"root",factory:()=>X2}),tB="X-XSRF-TOKEN",nB=new U("",{providedIn:"root",factory:()=>tB}),nh=class{},iB=(()=>{class t{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(ee(tt),ee(Zt),ee(eB))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function rB(t,e){let n=t.url.toLowerCase();if(!N(f1)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=N(nh).getToken(),r=N(nB);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var p1=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(p1||{});function sB(t,e){return{\u0275kind:t,\u0275providers:e}}function O_(...t){let e=[mc,c1,a1,{provide:fc,useExisting:a1},{provide:eh,useFactory:()=>N(G2,{optional:!0})??N(c1)},{provide:N_,useValue:rB,multi:!0},{provide:f1,useValue:!0},{provide:nh,useClass:iB}];for(let n of t)e.push(...n.\u0275providers);return cn(e)}var l1=new U("");function oB(){return sB(p1.LegacyInterceptors,[{provide:l1,useFactory:J2},{provide:N_,useExisting:l1,multi:!0}])}var g1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({providers:[O_(oB())]})}}return t})();var k_=class extends Kd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},F_=class t extends k_{static makeCurrent(){qC(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=aB();return n==null?null:cB(n)}resetBaseElement(){_c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yd(document.cookie,e)}},_c=null;function aB(){return _c=_c||document.querySelector("base"),_c?_c.getAttribute("href"):null}function cB(t){return new URL(t,document.baseURI).pathname}var lB=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),V_=new U(""),w1=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||t)(ee(V_),ee(we))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),ih=class{constructor(e){this._doc=e}},x_="ng-app-id",b1=(()=>{class t{constructor(n,i,r,s={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zd(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${x_}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let s=r.get(n);return s.usage+=i,s.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===n)return r.delete(i),s.removeAttribute(x_),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(x_,this.appId),n.appendChild(o),o}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(ee(tt),ee(Hm),ee(zm,8),ee(Zt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),P_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},B_=/%COMP%/g,E1="%COMP%",uB=`_nghost-${E1}`,dB=`_ngcontent-${E1}`,hB=!0,fB=new U("",{providedIn:"root",factory:()=>hB});function pB(t){return dB.replace(B_,t)}function gB(t){return uB.replace(B_,t)}function I1(t,e){return e.map(n=>n.replace(B_,t))}var _1=(()=>{class t{constructor(n,i,r,s,o,a,c,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Zd(a),this.defaultRenderer=new yc(n,o,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===yn.ShadowDom&&(i=ue(V({},i),{encapsulation:yn.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof rh?r.applyToHost(n):r instanceof vc&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case yn.Emulated:s=new rh(c,u,i,this.appId,h,o,a,f);break;case yn.ShadowDom:return new L_(c,u,n,i,o,a,this.nonce,f);default:s=new vc(c,u,i,h,o,a,f);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(ee(w1),ee(b1),ee(Hm),ee(fB),ee(tt),ee(Zt),ee(we),ee(zm))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),yc=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(P_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(y1(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(y1(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new H(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=P_[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=P_[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Xn.DashCase|Xn.Important)?e.style.setProperty(n,i,r&Xn.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=hi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function y1(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var L_=class extends yc{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=I1(r.id,r.styles);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vc=class extends yc{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?I1(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rh=class extends vc{constructor(e,n,i,r,s,o,a,c){let u=r+"-"+i.id;super(e,n,i,s,o,a,c,u),this.contentAttr=pB(u),this.hostAttr=gB(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},mB=(()=>{class t extends ih{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(ee(tt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),v1=["alt","control","meta","shift"],_B={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},vB=(()=>{class t extends ih{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,r){let s=t.parseEventName(i),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=t._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),v1.forEach(u=>{let h=i.indexOf(u);h>-1&&(i.splice(h,1),o+=u+".")}),o+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(n,i){let r=_B[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),v1.forEach(o=>{if(o!==r){let a=yB[o];a(n)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(n,i,r){return s=>{t.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||t)(ee(tt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function D1(t,e){return LC(V({rootComponent:t},wB(e)))}function wB(t){return{appProviders:[...TB,...t?.providers??[]],platformProviders:DB}}function bB(){F_.makeCurrent()}function EB(){return new Zn}function IB(){return QD(document),document}var DB=[{provide:Zt,useValue:e1},{provide:Gm,useValue:bB,multi:!0},{provide:tt,useFactory:IB,deps:[]}];var TB=[{provide:_d,useValue:"root"},{provide:Zn,useFactory:EB,deps:[]},{provide:V_,useClass:mB,multi:!0,deps:[tt,we,Zt]},{provide:V_,useClass:vB,multi:!0,deps:[tt]},_1,b1,w1,{provide:eo,useExisting:_1},{provide:fo,useClass:lB,deps:[]},[]];var T1=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||t)(ee(tt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var le="primary",Fc=Symbol("RouteTitle"),G_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vo(t){return new G_(t)}function SB(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function AB(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Rn(t[n],e[n]))return!1;return!0}function Rn(t,e){let n=t?z_(t):void 0,i=e?z_(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!x1(t[r],e[r]))return!1;return!0}function z_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function x1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function P1(t){return t.length>0?t[t.length-1]:null}function nr(t){return qp(t)?t:qr(t)?Ne(Promise.resolve(t)):Z(t)}var RB={exact:F1,subset:V1},k1={exact:MB,subset:NB,ignored:()=>!0};function C1(t,e,n){return RB[n.paths](t.root,e.root,n.matrixParams)&&k1[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function MB(t,e){return Rn(t,e)}function F1(t,e,n){if(!Qr(t.segments,e.segments)||!ah(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!F1(t.children[i],e.children[i],n))return!1;return!0}function NB(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>x1(t[n],e[n]))}function V1(t,e,n){return L1(t,e,e.segments,n)}function L1(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Qr(r,n)||e.hasChildren()||!ah(r,n,i))}else if(t.segments.length===n.length){if(!Qr(t.segments,n)||!ah(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!V1(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Qr(t.segments,r)||!ah(t.segments,r,i)||!t.children[le]?!1:L1(t.children[le],e,s,i)}}function ah(t,e,n){return e.every((i,r)=>k1[n](t[r].parameters,i.parameters))}var gi=class{constructor(e=new Ce([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){return PB.serialize(this)}},Ce=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ch(this)}},Kr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vo(this.parameters),this._parameterMap}toString(){return j1(this)}};function OB(t,e){return Qr(t,e)&&t.every((n,i)=>Rn(n.parameters,e[i].parameters))}function Qr(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function xB(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===le&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==le&&(n=n.concat(e(r,i)))}),n}var _y=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>new Cc,providedIn:"root"})}}return t})(),Cc=class{parse(e){let n=new W_(e);return new gi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${wc(e.root,!0)}`,i=VB(e.queryParams),r=typeof e.fragment=="string"?`#${kB(e.fragment)}`:"";return`${n}${i}${r}`}},PB=new Cc;function ch(t){return t.segments.map(e=>j1(e)).join("/")}function wc(t,e){if(!t.hasChildren())return ch(t);if(e){let n=t.children[le]?wc(t.children[le],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==le&&i.push(`${r}:${wc(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=xB(t,(i,r)=>r===le?[wc(t.children[le],!1)]:[`${r}:${wc(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[le]!=null?`${ch(t)}/${n[0]}`:`${ch(t)}/(${n.join("//")})`}}function B1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sh(t){return B1(t).replace(/%3B/gi,";")}function kB(t){return encodeURI(t)}function q_(t){return B1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lh(t){return decodeURIComponent(t)}function S1(t){return lh(t.replace(/\+/g,"%20"))}function j1(t){return`${q_(t.path)}${FB(t.parameters)}`}function FB(t){return Object.entries(t).map(([e,n])=>`;${q_(e)}=${q_(n)}`).join("")}function VB(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${sh(n)}=${sh(r)}`).join("&"):`${sh(n)}=${sh(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var LB=/^[^\/()?;#]+/;function j_(t){let e=t.match(LB);return e?e[0]:""}var BB=/^[^\/()?;=#]+/;function jB(t){let e=t.match(BB);return e?e[0]:""}var UB=/^[^=?&#]+/;function $B(t){let e=t.match(UB);return e?e[0]:""}var HB=/^[^&#]+/;function GB(t){let e=t.match(HB);return e?e[0]:""}var W_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[le]=new Ce(e,n)),i}parseSegment(){let e=j_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Kr(lh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=jB(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=j_(this.remaining);r&&(i=r,this.capture(i))}e[lh(n)]=lh(i)}parseQueryParam(e){let n=$B(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=GB(this.remaining);o&&(i=o,this.capture(i))}let r=S1(n),s=S1(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=j_(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new H(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=le);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[le]:new Ce([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function U1(t){return t.segments.length>0?new Ce([],{[le]:t}):t}function $1(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=$1(r);if(i===le&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new Ce(t.segments,e);return zB(n)}function zB(t){if(t.numberOfChildren===1&&t.children[le]){let e=t.children[le];return new Ce(t.segments.concat(e.segments),e.children)}return t}function Sc(t){return t instanceof gi}function qB(t,e,n=null,i=null){let r=H1(t);return G1(r,e,n,i)}function H1(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Ce(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=U1(i);return e??r}function G1(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return U_(r,r,r,n,i);let s=WB(e);if(s.toRoot())return U_(r,r,new Ce([],{}),n,i);let o=KB(s,r,t),a=o.processChildren?Ic(o.segmentGroup,o.index,s.commands):q1(o.segmentGroup,o.index,s.commands);return U_(r,o.segmentGroup,a,n,i)}function uh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ac(t){return typeof t=="object"&&t!=null&&t.outlets}function U_(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let o;t===e?o=n:o=z1(t,e,n);let a=U1($1(o));return new gi(a,s,r)}function z1(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=z1(s,e,n)}),new Ce(t.segments,i)}var dh=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&uh(i[0]))throw new H(4003,!1);let r=i.find(Ac);if(r&&r!==P1(i))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function WB(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new dh(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new dh(n,e,i)}var mo=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function KB(t,e,n){if(t.isAbsolute)return new mo(e,!0,0);if(!n)return new mo(e,!1,NaN);if(n.parent===null)return new mo(n,!0,0);let i=uh(t.commands[0])?0:1,r=n.segments.length-1+i;return QB(n,r,t.numberOfDoubleDots)}function QB(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new H(4005,!1);r=i.segments.length}return new mo(i,!1,r-s)}function JB(t){return Ac(t[0])?t[0].outlets:{[le]:t}}function q1(t,e,n){if(t??=new Ce([],{}),t.segments.length===0&&t.hasChildren())return Ic(t,e,n);let i=YB(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new Ce(t.segments.slice(0,i.pathIndex),{});return s.children[le]=new Ce(t.segments.slice(i.pathIndex),t.children),Ic(s,0,r)}else return i.match&&r.length===0?new Ce(t.segments,{}):i.match&&!t.hasChildren()?K_(t,e,n):i.match?Ic(t,0,r):K_(t,e,n)}function Ic(t,e,n){if(n.length===0)return new Ce(t.segments,{});{let i=JB(n),r={};if(Object.keys(i).some(s=>s!==le)&&t.children[le]&&t.numberOfChildren===1&&t.children[le].segments.length===0){let s=Ic(t.children[le],e,n);return new Ce(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=q1(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Ce(t.segments,r)}}function YB(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(Ac(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!R1(c,u,o))return s;i+=2}else{if(!R1(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function K_(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(Ac(s)){let c=ZB(s.outlets);return new Ce(i,c)}if(r===0&&uh(n[0])){let c=t.segments[e];i.push(new Kr(c.path,A1(n[0]))),r++;continue}let o=Ac(s)?s.outlets[le]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&uh(a)?(i.push(new Kr(o,A1(a))),r+=2):(i.push(new Kr(o,{})),r++)}return new Ce(i,{})}function ZB(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=K_(new Ce([],{}),0,i))}),e}function A1(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function R1(t,e,n){return t==n.path&&Rn(e,n.parameters)}var Dc="imperative",lt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(lt||{}),en=class{constructor(e,n){this.id=e,this.url=n}},Rc=class extends en{constructor(e,n,i="imperative",r=null){super(e,n),this.type=lt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jr=class extends en{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ut||{}),Q_=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Q_||{}),pi=class extends en{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yr=class extends en{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=lt.NavigationSkipped}},Mc=class extends en{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hh=class extends en{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},J_=class extends en{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Y_=class extends en{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Z_=class extends en{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},X_=class extends en{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ey=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ty=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ny=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iy=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ry=class{constructor(e){this.snapshot=e,this.type=lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sy=class{constructor(e){this.snapshot=e,this.type=lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Nc=class{},wo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function XB(t,e){return t.providers&&!t._injector&&(t._injector=p_(t.providers,e,`Route: ${t.path}`)),t._injector??e}function un(t){return t.outlet||le}function ej(t,e){let n=t.filter(i=>un(i)===e);return n.push(...t.filter(i=>un(i)!==e)),n}function Vc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var oy=class{get injector(){return Vc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new vh(this.rootInjector),this.attachRef=null}},vh=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new oy(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||t)(ee(at))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ay(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=ay(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=cy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return cy(e,this._root).map(n=>n.value)}};function ay(t,e){if(t===e.value)return e;for(let n of e.children){let i=ay(t,n);if(i)return i}return null}function cy(t,e){if(t===e.value)return[e];for(let n of e.children){let i=cy(t,n);if(i.length)return i.unshift(e),i}return[]}var jt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function go(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ph=class extends fh{constructor(e,n){super(e),this.snapshot=n,yy(this,e)}toString(){return this.snapshot.toString()}};function W1(t){let e=tj(t),n=new Ze([new Kr("",{})]),i=new Ze({}),r=new Ze({}),s=new Ze({}),o=new Ze(""),a=new bo(n,i,s,o,r,le,t,e.root);return a.snapshot=e.root,new ph(new jt(a,[]),e)}function tj(t){let e={},n={},i={},r="",s=new _o([],e,i,r,n,le,t,null,{});return new mh("",new jt(s,[]))}var bo=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(u=>u[Fc]))??Z(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>vo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>vo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gh(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),r?.data),t._resolvedData)}:i={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},r&&Q1(r)&&(i.resolve[Fc]=r.title),i}var _o=class{get title(){return this.data?.[Fc]}constructor(e,n,i,r,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},mh=class extends fh{constructor(e,n){super(n),this.url=e,yy(this,n)}toString(){return K1(this._root)}};function yy(t,e){e.value._routerState=t,e.children.forEach(n=>yy(t,n))}function K1(t){let e=t.children.length>0?` { ${t.children.map(K1).join(", ")} } `:"";return`${t.value}${e}`}function $_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Rn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Rn(e.params,n.params)||t.paramsSubject.next(n.params),AB(e.url,n.url)||t.urlSubject.next(n.url),Rn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ly(t,e){let n=Rn(t.params,e.params)&&OB(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||ly(t.parent,e.parent))}function Q1(t){return typeof t.title=="string"||t.title===null}var nj=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=le,this.activateEvents=new ve,this.deactivateEvents=new ve,this.attachEvents=new ve,this.detachEvents=new ve,this.parentContexts=N(vh),this.location=N(In),this.changeDetector=N(Sn),this.inputBinder=N(vy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=n;let r=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new uy(n,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ke({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$r]})}}return t})(),uy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===bo?this.route:e===vh?this.childContexts:this.parent.get(e,n)}},vy=new U("");function ij(t,e,n){let i=Oc(t,e._root,n?n._root:void 0);return new ph(i,e)}function Oc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=rj(t,e,n);return new jt(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Oc(t,a)),o}}let i=sj(e.value),r=e.children.map(s=>Oc(t,s));return new jt(i,r)}}function rj(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Oc(t,i,r);return Oc(t,i)})}function sj(t){return new bo(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var xc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},J1="ngNavigationCancelingError";function _h(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Sc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Y1(!1,Ut.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Y1(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[J1]=!0,n.cancellationCode=e,n}function oj(t){return Z1(t)&&Sc(t.url)}function Z1(t){return!!t&&t[J1]}var aj=(t,e,n,i)=>Y(r=>(new dy(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),dy=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),$_(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=go(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=go(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=go(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=go(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new sy(s.value.snapshot))}),e.children.length&&this.forwardEvent(new iy(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if($_(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),$_(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},yh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yo=class{constructor(e,n){this.component=e,this.route=n}};function cj(t,e,n){let i=t._root,r=e?e._root:null;return bc(i,r,n,[i.value])}function lj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Io(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!FI(t)?t:e.get(t):i}function bc(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=go(e);return t.children.forEach(o=>{uj(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Tc(a,n.getContext(o),r)),r}function uj(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=dj(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new yh(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?bc(t,e,a?a.children:null,i,r):bc(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new yo(a.outlet.component,o))}else o&&Tc(e,a,r),r.canActivateChecks.push(new yh(i)),s.component?bc(t,null,a?a.children:null,i,r):bc(t,null,n,i,r);return r}function dj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Qr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qr(t.url,e.url)||!Rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ly(t,e)||!Rn(t.queryParams,e.queryParams);case"paramsChange":default:return!ly(t,e)}}function Tc(t,e,n){let i=go(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Tc(o,e.children.getContext(s),n):Tc(o,null,n):Tc(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new yo(e.outlet.component,r)):n.canDeactivateChecks.push(new yo(null,r)):n.canDeactivateChecks.push(new yo(null,r))}function Lc(t){return typeof t=="function"}function hj(t){return typeof t=="boolean"}function fj(t){return t&&Lc(t.canLoad)}function pj(t){return t&&Lc(t.canActivate)}function gj(t){return t&&Lc(t.canActivateChild)}function mj(t){return t&&Lc(t.canDeactivate)}function _j(t){return t&&Lc(t.canMatch)}function X1(t){return t instanceof zn||t?.name==="EmptyError"}var oh=Symbol("INITIAL_VALUE");function Eo(){return St(t=>Ar(t.map(e=>e.pipe(qt(1),Aa(oh)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===oh)return oh;if(n===!1||yj(n))return n}return!0}),Je(e=>e!==oh),qt(1)))}function yj(t){return Sc(t)||t instanceof xc}function vj(t,e){return $e(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Z(ue(V({},n),{guardsResult:!0})):wj(o,i,r,t).pipe($e(a=>a&&hj(a)?bj(i,s,t,e):Z(a)),Y(a=>ue(V({},n),{guardsResult:a})))})}function wj(t,e,n,i){return Ne(t).pipe($e(r=>Cj(r.component,r.route,n,e,i)),pn(r=>r!==!0,!0))}function bj(t,e,n,i){return Ne(e).pipe(Vi(r=>ki(Ij(r.route.parent,i),Ej(r.route,i),Tj(t,r.path,n),Dj(t,r.route,n))),pn(r=>r!==!0,!0))}function Ej(t,e){return t!==null&&e&&e(new ry(t)),Z(!0)}function Ij(t,e){return t!==null&&e&&e(new ny(t)),Z(!0)}function Dj(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Z(!0);let r=i.map(s=>Eu(()=>{let o=Vc(e)??n,a=Io(s,o),c=pj(a)?a.canActivate(e,t):ln(o,()=>a(e,t));return nr(c).pipe(pn())}));return Z(r).pipe(Eo())}function Tj(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>lj(o)).filter(o=>o!==null).map(o=>Eu(()=>{let a=o.guards.map(c=>{let u=Vc(o.node)??n,h=Io(c,u),f=gj(h)?h.canActivateChild(i,t):ln(u,()=>h(i,t));return nr(f).pipe(pn())});return Z(a).pipe(Eo())}));return Z(s).pipe(Eo())}function Cj(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(a=>{let c=Vc(e)??r,u=Io(a,c),h=mj(u)?u.canDeactivate(t,e,n,i):ln(c,()=>u(t,e,n,i));return nr(h).pipe(pn())});return Z(o).pipe(Eo())}function Sj(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Z(!0);let s=r.map(o=>{let a=Io(o,t),c=fj(a)?a.canLoad(e,n):ln(t,()=>a(e,n));return nr(c)});return Z(s).pipe(Eo(),eS(i))}function eS(t){return ru(He(e=>{if(typeof e!="boolean")throw _h(t,e)}),Y(e=>e===!0))}function Aj(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Z(!0);let s=r.map(o=>{let a=Io(o,t),c=_j(a)?a.canMatch(e,n):ln(t,()=>a(e,n));return nr(c)});return Z(s).pipe(Eo(),eS(i))}var Pc=class{constructor(e){this.segmentGroup=e||null}},kc=class extends Error{constructor(e){super(),this.urlTree=e}};function po(t){return Vs(new Pc(t))}function Rj(t){return Vs(new H(4e3,!1))}function Mj(t){return Vs(Y1(!1,Ut.GuardRejected))}var hy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Z(i);if(r.numberOfChildren>1||!r.children[le])return Rj(`${e.redirectTo}`);r=r.children[le]}}applyRedirectCommands(e,n,i,r,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:h,url:f,outlet:g,params:_,data:v,title:S}=r,A=ln(s,()=>a({params:_,data:v,queryParams:c,fragment:u,routeConfig:h,url:f,outlet:g,title:S}));if(A instanceof gi)throw new kc(A);n=A}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new kc(o);return o}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new gi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new Ce(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new H(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},fy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nj(t,e,n,i,r){let s=tS(t,e,n);return s.matched?(i=XB(e,i),Aj(i,e,n,r).pipe(Y(o=>o===!0?s:V({},fy)))):Z(s)}function tS(t,e,n){if(e.path==="**")return Oj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},fy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||SB)(n,t,e);if(!r)return V({},fy);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?V(V({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Oj(t){return{matched:!0,parameters:t.length>0?P1(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function M1(t,e,n,i){return n.length>0&&kj(t,n,i)?{segmentGroup:new Ce(e,Pj(i,new Ce(n,t.children))),slicedSegments:[]}:n.length===0&&Fj(t,n,i)?{segmentGroup:new Ce(t.segments,xj(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ce(t.segments,t.children),slicedSegments:n}}function xj(t,e,n,i){let r={};for(let s of n)if(wh(t,e,s)&&!i[un(s)]){let o=new Ce([],{});r[un(s)]=o}return V(V({},i),r)}function Pj(t,e){let n={};n[le]=e;for(let i of t)if(i.path===""&&un(i)!==le){let r=new Ce([],{});n[un(i)]=r}return n}function kj(t,e,n){return n.some(i=>wh(t,e,i)&&un(i)!==le)}function Fj(t,e,n){return n.some(i=>wh(t,e,i))}function wh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Vj(t,e,n){return e.length===0&&!t.children[n]}var py=class{};function Lj(t,e,n,i,r,s,o="emptyOnly"){return new gy(t,e,n,i,r,o,s).recognize()}var Bj=31,gy=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new hy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=M1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:n,rootSnapshot:i})=>{let r=new jt(i,n),s=new mh("",r),o=qB(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new _o([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,le,n).pipe(Y(i=>({children:i,rootSnapshot:n})),Fi(i=>{if(i instanceof kc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Pc?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,s):this.processSegment(e,n,i,i.segments,r,!0,s).pipe(Y(o=>o instanceof jt?[o]:[]))}processChildren(e,n,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Ne(s).pipe(Vi(o=>{let a=i.children[o],c=ej(n,o);return this.processSegmentGroup(e,c,a,o,r)}),Tu((o,a)=>(o.push(...a),o)),Li(null),Xp(),$e(o=>{if(o===null)return po(i);let a=nS(o);return jj(a),Z(a)}))}processSegment(e,n,i,r,s,o,a){return Ne(n).pipe(Vi(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,s,o,a).pipe(Fi(u=>{if(u instanceof Pc)return Z(null);throw u}))),pn(c=>!!c),Fi(c=>{if(X1(c))return Vj(i,r,s)?Z(new py):po(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,s,o,a,c){return un(i)!==o&&(o===le||!wh(r,s,i))?po(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o,c):po(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o,a){let{matched:c,parameters:u,consumedSegments:h,positionalParamSegments:f,remainingSegments:g}=tS(n,r,s);if(!c)return po(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Bj&&(this.allowRedirects=!1));let _=new _o(s,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,N1(r),un(r),r.component??r._loadedComponent??null,r,O1(r)),v=gh(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);let S=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,f,_,e);return this.applyRedirects.lineralizeSegments(r,S).pipe($e(A=>this.processSegment(e,i,n,A.concat(g),o,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,s,o){let a=Nj(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(St(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(St(({routes:u})=>{let h=i._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:_}=c,v=new _o(g,f,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,N1(i),un(i),i.component??i._loadedComponent??null,i,O1(i)),S=gh(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let{segmentGroup:A,slicedSegments:O}=M1(n,g,_,u);if(O.length===0&&A.hasChildren())return this.processChildren(h,u,A,v).pipe(Y(L=>new jt(v,L)));if(u.length===0&&O.length===0)return Z(new jt(v,[]));let F=un(i)===s;return this.processSegment(h,u,A,O,F?le:s,!0,v).pipe(Y(L=>new jt(v,L instanceof jt?[L]:[])))}))):po(n)))}getChildConfig(e,n,i){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):Sj(e,n,i,this.urlSerializer).pipe($e(r=>r?this.configLoader.loadChildren(e,n).pipe(He(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Mj(n))):Z({routes:[],injector:e})}};function jj(t){t.sort((e,n)=>e.value.outlet===le?-1:n.value.outlet===le?1:e.value.outlet.localeCompare(n.value.outlet))}function Uj(t){let e=t.value.routeConfig;return e&&e.path===""}function nS(t){let e=[],n=new Set;for(let i of t){if(!Uj(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=nS(i.children);e.push(new jt(i.value,r))}return e.filter(i=>!n.has(i))}function N1(t){return t.data||{}}function O1(t){return t.resolve||{}}function $j(t,e,n,i,r,s){return $e(o=>Lj(t,e,n,i,o.extractedUrl,r,s).pipe(Y(({state:a,tree:c})=>ue(V({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Hj(t,e){return $e(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Z(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of iS(c))o.add(u);let a=0;return Ne(o).pipe(Vi(c=>s.has(c)?Gj(c,i,t,e):(c.data=gh(c,c.parent,t).resolve,Z(void 0))),He(()=>a++),Bs(1),$e(c=>a===o.size?Z(n):st))})}function iS(t){let e=t.children.map(n=>iS(n)).flat();return[t,...e]}function Gj(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!Q1(r)&&(s[Fc]=r.title),zj(s,t,e,i).pipe(Y(o=>(t._resolvedData=o,t.data=gh(t,t.parent,n).resolve,null)))}function zj(t,e,n,i){let r=z_(t);if(r.length===0)return Z({});let s={};return Ne(r).pipe($e(o=>qj(t[o],e,n,i).pipe(pn(),He(a=>{if(a instanceof xc)throw _h(new Cc,a);s[o]=a}))),Bs(1),Yp(s),Fi(o=>X1(o)?st:Vs(o)))}function qj(t,e,n,i){let r=Vc(e)??i,s=Io(t,r),o=s.resolve?s.resolve(e,n):ln(r,()=>s(e,n));return nr(o)}function H_(t){return St(e=>{let n=t(e);return n?Ne(n).pipe(Y(()=>e)):Z(e)})}var rS=(()=>{class t{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===le);return i}getResolvedTitleForRoute(n){return n.data[Fc]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>N(Wj),providedIn:"root"})}}return t})(),Wj=(()=>{class t extends rS{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(ee(T1))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wy=new U("",{providedIn:"root",factory:()=>({})}),Kj=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ni({type:t,selectors:[["ng-component"]],standalone:!0,features:[li],decls:1,vars:0,template:function(i,r){i&1&&Xt(0,"router-outlet")},dependencies:[nj],encapsulation:2})}}return t})();function by(t){let e=t.children&&t.children.map(by),n=e?ue(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==le&&(n.component=Kj),n}var Ey=new U(""),Qj=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(v_)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=nr(n.loadComponent()).pipe(Y(sS),He(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),qn(()=>{this.componentLoaders.delete(n)})),r=new Os(i,()=>new Me).pipe(Ns());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Jj(i,this.compiler,n,this.onLoadEndListener).pipe(qn(()=>{this.childrenLoaders.delete(i)})),o=new Os(s,()=>new Me).pipe(Ns());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Jj(t,e,n,i){return nr(t.loadChildren()).pipe(Y(sS),$e(r=>r instanceof ja||Array.isArray(r)?Z(r):Ne(e.compileModuleAsync(r))),Y(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Ey,[],{optional:!0,self:!0}).flat()),{routes:o.map(by),injector:s}}))}function Yj(t){return t&&typeof t=="object"&&"default"in t}function sS(t){return Yj(t)?t.default:t}var Iy=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>N(Zj),providedIn:"root"})}}return t})(),Zj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xj=new U("");var eU=new U(""),tU=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Me,this.transitionAbortSubject=new Me,this.configLoader=N(Qj),this.environmentInjector=N(at),this.urlSerializer=N(_y),this.rootContexts=N(vh),this.location=N(dc),this.inputBindingEnabled=N(vy,{optional:!0})!==null,this.titleStrategy=N(rS),this.options=N(wy,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Iy),this.createViewTransition=N(Xj,{optional:!0}),this.navigationErrorHandler=N(eU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let n=r=>this.events.next(new ey(r)),i=r=>this.events.next(new ty(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(ue(V(V({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new Ze({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Dc,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Je(s=>s.id!==0),Y(s=>ue(V({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),St(s=>{let o=!1,a=!1;return Z(s).pipe(St(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ut.SupersededByNewNavigation),st;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ue(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&h!=="reload"){let f="";return this.events.next(new Yr(c.id,this.urlSerializer.serialize(c.rawUrl),f,Q_.IgnoredSameUrlNavigation)),c.resolve(!1),st}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Z(c).pipe(St(f=>{let g=this.transitions?.getValue();return this.events.next(new Rc(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),g!==this.transitions?.getValue()?st:Promise.resolve(f)}),$j(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),He(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ue(V({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let g=new hh(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:g,source:_,restoredState:v,extras:S}=c,A=new Rc(f,this.urlSerializer.serialize(g),_,v);this.events.next(A);let O=W1(this.rootComponentType).snapshot;return this.currentTransition=s=ue(V({},c),{targetSnapshot:O,urlAfterRedirects:g,extras:ue(V({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Z(s)}else{let f="";return this.events.next(new Yr(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Q_.IgnoredByUrlHandlingStrategy)),c.resolve(!1),st}}),He(c=>{let u=new J_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Y(c=>(this.currentTransition=s=ue(V({},c),{guards:cj(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),vj(this.environmentInjector,c=>this.events.next(c)),He(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw _h(this.urlSerializer,c.guardsResult);let u=new Y_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Je(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ut.GuardRejected),!1)),H_(c=>{if(c.guards.canActivateChecks.length)return Z(c).pipe(He(u=>{let h=new Z_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),St(u=>{let h=!1;return Z(u).pipe(Hj(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",Ut.NoDataFromResolver)}}))}),He(u=>{let h=new X_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),H_(c=>{let u=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(He(g=>{h.component=g}),Y(()=>{})));for(let g of h.children)f.push(...u(g));return f};return Ar(u(c.targetSnapshot.root)).pipe(Li(null),qt(1))}),H_(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return h?Ne(h).pipe(Y(()=>s)):Z(s)}),Y(c=>{let u=ij(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=ue(V({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),He(()=>{this.events.next(new Nc)}),aj(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),qt(1),He({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Xe(this.transitionAbortSubject.pipe(He(c=>{throw c}))),qn(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fi(c=>{if(a=!0,Z1(c))this.events.next(new pi(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),oj(c)?this.events.next(new wo(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Mc(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let h=ln(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof xc){let{message:f,cancellationCode:g}=_h(this.urlSerializer,h);this.events.next(new pi(s.id,this.urlSerializer.serialize(s.extractedUrl),f,g)),this.events.next(new wo(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let f=n.errorHandler(c);s.resolve(!!f)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return st}))}))}cancelNavigationTransition(n,i,r){let s=new pi(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function nU(t){return t!==Dc}var iU=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>N(rU),providedIn:"root"})}}return t})(),my=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},rU=(()=>{class t extends my{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=oi(t)))(r||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),oS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>N(sU),providedIn:"root"})}}return t})(),sU=(()=>{class t extends oS{constructor(){super(...arguments),this.location=N(dc),this.urlSerializer=N(_y),this.options=N(wy,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Iy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=W1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Rc)this.stateMemento=this.createStateMemento();else if(n instanceof Yr)this.rawUrlTree=i.initialUrl;else if(n instanceof hh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof Nc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof pi&&(n.code===Ut.GuardRejected||n.code===Ut.NoDataFromResolver)?this.restoreHistory(i):n instanceof Mc?this.restoreHistory(i,!0):n instanceof Jr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof gi?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=V(V({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=V(V({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=oi(t)))(r||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ec=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ec||{});function oU(t,e){t.events.pipe(Je(n=>n instanceof Jr||n instanceof pi||n instanceof Mc||n instanceof Yr),Y(n=>n instanceof Jr||n instanceof Yr?Ec.COMPLETE:(n instanceof pi?n.code===Ut.Redirect||n.code===Ut.SupersededByNewNavigation:!1)?Ec.REDIRECTING:Ec.FAILED),Je(n=>n!==Ec.REDIRECTING),qt(1)).subscribe(()=>{e()})}function aU(t){throw t}var cU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},aS=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=N(Gd),this.stateManager=N(oS),this.options=N(wy,{optional:!0})||{},this.pendingTasks=N(ai),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(tU),this.urlSerializer=N(_y),this.location=N(dc),this.urlHandlingStrategy=N(Iy),this._events=new Me,this.errorHandler=this.options.errorHandler||aU,this.navigated=!1,this.routeReuseStrategy=N(iU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Ey,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(vy,{optional:!0}),this.eventsSubscription=new Ue,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof pi&&i.code!==Ut.Redirect&&i.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Jr)this.navigated=!0;else if(i instanceof wo){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=V({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||nU(r.source)},o);this.scheduleNavigation(a,Dc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}dU(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let c=V({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(by),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let g=r?r.snapshot:this.routerState.snapshot.root;f=H1(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return G1(f,n,h,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Sc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Dc,null,i)}navigate(n,i={skipLocationChange:!1}){return uU(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=V({},cU):i===!1?r=V({},lU):r=i,Sc(n))return C1(this.currentUrlTree,n,r);let s=this.parseUrl(n);return C1(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(n,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((f,g)=>{a=f,c=g});let h=this.pendingTasks.add();return oU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function uU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function dU(t){return!(t instanceof Nc)&&!(t instanceof wo)}var hU=new U("");function cS(t,...e){return cn([{provide:Ey,multi:!0,useValue:t},[],{provide:bo,useFactory:fU,deps:[aS]},{provide:zd,multi:!0,useFactory:pU},e.map(n=>n.\u0275providers)])}function fU(t){return t.routerState.root}function pU(){let t=N(Le);return e=>{let n=t.get(Cn);if(e!==n.components[0])return;let i=t.get(aS),r=t.get(gU);t.get(mU)===1&&i.initialNavigation(),t.get(_U,null,de.Optional)?.setUpPreloading(),t.get(hU,null,de.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var gU=new U("",{factory:()=>new Me}),mU=new U("",{providedIn:"root",factory:()=>1});var _U=new U("");var lS=[];var dS=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},yU=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,h=s>>2,f=(s&3)<<4|a>>4,g=(a&15)<<2|u>>6,_=u&63;c||(_=64,o||(g=64)),i.push(n[h],n[f],n[g],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||f==null)throw new Ty;let g=s<<2|a>>4;if(i.push(g),u!==64){let _=a<<4&240|u>>2;if(i.push(_),f!==64){let v=u<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ty=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vU=function(t){let e=dS(t);return hS.encodeByteArray(e,!0)},Bc=function(t){return vU(t).replace(/\./g,"")},Sy=function(t){try{return hS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bU=()=>wU().__FIREBASE_DEFAULTS__,EU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Sy(t[1]);return e&&JSON.parse(e)},Eh=()=>{try{return bU()||EU()||IU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ay=t=>{var e,n;return(n=(e=Eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fS=t=>{let e=Ay(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Ry=()=>{var t;return(t=Eh())===null||t===void 0?void 0:t.config},My=t=>{var e;return(e=Eh())===null||e===void 0?void 0:e[`_${t}`]};var bh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function pS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bc(JSON.stringify(n)),Bc(JSON.stringify(o)),""].join(".")}function nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function DU(){var t;let e=(t=Eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vS(){let t=nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wS(){return!DU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ny(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var TU="FirebaseError",$t=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=TU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mi.prototype.create)}},mi=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?CU(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new $t(r,a,i)}};function CU(t,e){return t.replace(SU,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var SU=/\{\$([^}]+)}/g;function ES(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zr(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(uS(s)&&uS(o)){if(!Zr(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function uS(t){return t!==null&&typeof t=="object"}function jc(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Do(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function To(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IS(t,e){let n=new Cy(t,e);return n.subscribe.bind(n)}var Cy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");AU(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Dy),r.error===void 0&&(r.error=Dy),r.complete===void 0&&(r.complete=Dy);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function AU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dy(){}var VJ=4*60*60*1e3;function wt(t){return t&&t._delegate?t._delegate:t}var tn=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xr="[DEFAULT]";var Oy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new bh;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MU(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:RU(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RU(t){return t===Xr?void 0:t}function MU(t){return t.instantiationMode==="EAGER"}var Ih=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Oy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var NU=[],_e=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(_e||{}),OU={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},xU=_e.INFO,PU={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},kU=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=PU[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ir=class{constructor(e){this.name=e,this._logLevel=xU,this._logHandler=kU,this._userLogHandler=null,NU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}};var FU=(t,e)=>e.some(n=>t instanceof n),DS,TS;function VU(){return DS||(DS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LU(){return TS||(TS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var CS=new WeakMap,Py=new WeakMap,SS=new WeakMap,xy=new WeakMap,Fy=new WeakMap;function BU(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mn(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CS.set(n,t)}).catch(()=>{}),Fy.set(e,t),e}function jU(t){if(Py.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Py.set(t,e)}var ky={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AS(t){ky=t(ky)}function UU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(Dh(this),e,...n);return SS.set(i,e.sort?e.sort():[e]),Mn(i)}:LU().includes(t)?function(...e){return t.apply(Dh(this),e),Mn(CS.get(this))}:function(...e){return Mn(t.apply(Dh(this),e))}}function $U(t){return typeof t=="function"?UU(t):(t instanceof IDBTransaction&&jU(t),FU(t,VU())?new Proxy(t,ky):t)}function Mn(t){if(t instanceof IDBRequest)return BU(t);if(xy.has(t))return xy.get(t);let e=$U(t);return e!==t&&(xy.set(t,e),Fy.set(e,t)),e}var Dh=t=>Fy.get(t);function MS(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=Mn(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Mn(o.result),c.oldVersion,c.newVersion,Mn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var HU=["get","getKey","getAll","getAllKeys","count"],GU=["put","add","delete","clear"],Vy=new Map;function RS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vy.get(e))return Vy.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=GU.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||HU.includes(n)))return;let s=function(o,...a){return E(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&c.done]))[0]})};return Vy.set(e,s),s}AS(t=>ue(V({},t),{get:(e,n,i)=>RS(e,n)||t.get(e,n,i),has:(e,n)=>!!RS(e,n)||t.has(e,n)}));var By=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zU(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function zU(t){let e=t.getComponent();return e?.type==="VERSION"}var jy="@firebase/app",NS="0.10.13";var _i=new ir("@firebase/app"),qU="@firebase/app-compat",WU="@firebase/analytics-compat",KU="@firebase/analytics",QU="@firebase/app-check-compat",JU="@firebase/app-check",YU="@firebase/auth",ZU="@firebase/auth-compat",XU="@firebase/database",e$="@firebase/data-connect",t$="@firebase/database-compat",n$="@firebase/functions",i$="@firebase/functions-compat",r$="@firebase/installations",s$="@firebase/installations-compat",o$="@firebase/messaging",a$="@firebase/messaging-compat",c$="@firebase/performance",l$="@firebase/performance-compat",u$="@firebase/remote-config",d$="@firebase/remote-config-compat",h$="@firebase/storage",f$="@firebase/storage-compat",p$="@firebase/firestore",g$="@firebase/vertexai-preview",m$="@firebase/firestore-compat",_$="firebase",y$="10.14.1";var Uy="[DEFAULT]",v$={[jy]:"fire-core",[qU]:"fire-core-compat",[KU]:"fire-analytics",[WU]:"fire-analytics-compat",[JU]:"fire-app-check",[QU]:"fire-app-check-compat",[YU]:"fire-auth",[ZU]:"fire-auth-compat",[XU]:"fire-rtdb",[e$]:"fire-data-connect",[t$]:"fire-rtdb-compat",[n$]:"fire-fn",[i$]:"fire-fn-compat",[r$]:"fire-iid",[s$]:"fire-iid-compat",[o$]:"fire-fcm",[a$]:"fire-fcm-compat",[c$]:"fire-perf",[l$]:"fire-perf-compat",[u$]:"fire-rc",[d$]:"fire-rc-compat",[h$]:"fire-gcs",[f$]:"fire-gcs-compat",[p$]:"fire-fst",[m$]:"fire-fst-compat",[g$]:"fire-vertex","fire-js":"fire-js",[_$]:"fire-js-all"};var Uc=new Map,w$=new Map,$y=new Map;function OS(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sr(t){let e=t.name;if($y.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,t);for(let n of Uc.values())OS(n,t);for(let n of w$.values())OS(n,t);return!0}function Hc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nn(t){return t.settings!==void 0}var b$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new mi("app","Firebase",b$);var Hy=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}};var or=y$;function qy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Uy,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw rr.create("bad-app-name",{appName:String(r)});if(n||(n=Ry()),!n)throw rr.create("no-options");let s=Uc.get(r);if(s){if(Zr(n,s.options)&&Zr(i,s.config))return s;throw rr.create("duplicate-app",{appName:r})}let o=new Ih(r);for(let c of $y.values())o.addComponent(c);let a=new Hy(n,i,o);return Uc.set(r,a),a}function Co(t=Uy){let e=Uc.get(t);if(!e&&t===Uy&&Ry())return qy();if(!e)throw rr.create("no-app",{appName:t});return e}function Th(){return Array.from(Uc.values())}function Ye(t,e,n){var i;let r=(i=v$[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(a.join(" "));return}sr(new tn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var E$="firebase-heartbeat-database",I$=1,$c="firebase-heartbeat-store",Ly=null;function FS(){return Ly||(Ly=MS(E$,I$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($c)}catch(n){console.warn(n)}}}}).catch(t=>{throw rr.create("idb-open",{originalErrorMessage:t.message})})),Ly}function D$(t){return E(this,null,function*(){try{let n=(yield FS()).transaction($c),i=yield n.objectStore($c).get(VS(t));return yield n.done,i}catch(e){if(e instanceof $t)_i.warn(e.message);else{let n=rr.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}})}function xS(t,e){return E(this,null,function*(){try{let i=(yield FS()).transaction($c,"readwrite");yield i.objectStore($c).put(e,VS(t)),yield i.done}catch(n){if(n instanceof $t)_i.warn(n.message);else{let i=rr.create("idb-set",{originalErrorMessage:n?.message});_i.warn(i.message)}}})}function VS(t){return`${t.name}!${t.options.appId}`}var T$=1024,C$=30*24*60*60*1e3,Gy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new zy(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return E(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=C$}),this._storage.overwrite(this._heartbeatsCache))}catch(i){_i.warn(i)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=PS(),{heartbeatsToSend:i,unsentEntries:r}=S$(this._heartbeatsCache.heartbeats),s=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _i.warn(n),""}})}};function PS(){return new Date().toISOString().substring(0,10)}function S$(t,e=T$){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),kS(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),kS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var zy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Ny()?bS().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield D$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function kS(t){return Bc(JSON.stringify({version:2,heartbeats:t})).length}function A$(t){sr(new tn("platform-logger",e=>new By(e),"PRIVATE")),sr(new tn("heartbeat",e=>new Gy(e),"PRIVATE")),Ye(jy,NS,t),Ye(jy,NS,"esm2017"),Ye("fire-js","")}A$("");var R$="firebase",M$="10.14.1";Ye(R$,M$,"app");var ts=new ei("ANGULARFIRE2_VERSION");function Sh(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Gc=(t,e)=>{let n=e?[e]:Th(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Ao=class{constructor(){return Gc(N$)}},N$="app-check";function So(){}var Ch=class{zone;delegate;constructor(e,n=Gp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},Wy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So)),n.pipe(He({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ro=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ch(Zone.current)),this.insideAngular=n.run(()=>new Ch(Zone.current,au)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(ee(we))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ah(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function O$(t){return Ah().ngZone.runOutsideAngular(()=>t())}function es(t){return Ah().ngZone.run(()=>t())}function x$(t){return P$(Ah())(t)}function P$(t){return function(n){return n=n.lift(new Wy(t.ngZone)),n.pipe(Pi(t.outsideAngular),xi(t.insideAngular))}}var k$=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),es(()=>t.apply(void 0,i))},Ht=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=es(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So))),i[s]=k$(i[s],n));let r=O$(()=>t.apply(this,i));if(!e)if(r instanceof J){let s=Ah();return r.pipe(Pi(s.outsideAngular),xi(s.insideAngular))}else return es(()=>r);return r instanceof J?r.pipe(x$):r instanceof Promise?es(()=>new Promise((s,o)=>r.then(a=>es(()=>s(a)),a=>es(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:es(()=>r)};var yi=class{constructor(e){return e}},ns=class{constructor(){return Th()}};function F$(t){return t&&t.length===1?t[0]:new yi(Co())}var Ky=new U("angularfire2._apps"),V$={provide:yi,useFactory:F$,deps:[[new Mt,Ky]]},L$={provide:ns,deps:[[new Mt,Ky]]};function B$(t){return(e,n)=>{let i=n.get(Zt);Ye("angularfire",ts.full,"core"),Ye("angularfire",ts.full,"app"),Ye("angular",xC.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new yi(r)}}function LS(t,...e){return cn([V$,L$,{provide:Ky,useFactory:B$(t),multi:!0,deps:[we,Le,Ro,...e]}])}var BS=Ht(qy,!0);function iA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var rA=iA,sA=new mi("auth","Firebase",iA());var Ph=new ir("@firebase/auth");function j$(t,...e){Ph.logLevel<=_e.WARN&&Ph.warn(`Auth (${or}): ${t}`,...e)}function Mh(t,...e){Ph.logLevel<=_e.ERROR&&Ph.error(`Auth (${or}): ${t}`,...e)}function xn(t,...e){throw mv(t,...e)}function is(t,...e){return mv(t,...e)}function oA(t,e,n){let i=Object.assign(Object.assign({},rA()),{[e]:n});return new mi("auth","Firebase",i).create(e,{appName:t.name})}function cr(t){return oA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mv(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return sA.create(t,...e)}function te(t,e,...n){if(!t)throw mv(e,...n)}function vi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Mh(e),new Error(e)}function lr(t,e){t||vi(e)}function Zy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U$(){return jS()==="http:"||jS()==="https:"}function jS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function $$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U$()||_S()||"connection"in navigator)?navigator.onLine:!0}function H$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var rs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=gS()||yS()}get(){return $$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _v(t,e){lr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var kh=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var G$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var z$=new rs(3e4,6e4);function os(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ur(s,o,a,c){return E(this,arguments,function*(t,e,n,i,r={}){return aA(t,r,()=>E(this,null,function*(){let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});let f=jc(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let _=Object.assign({method:e,headers:g},u);return mS()||(_.referrerPolicy="no-referrer"),kh.fetch()(cA(t,t.config.apiHost,n,f),_)}))})}function aA(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},G$),e);try{let r=new Xy(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Rh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Rh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Rh(t,"user-disabled",o);let h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oA(t,h,u);xn(t,h)}}catch(r){if(r instanceof $t)throw r;xn(t,"network-request-failed",{message:String(r)})}})}function zh(s,o,a,c){return E(this,arguments,function*(t,e,n,i,r={}){let u=yield ur(t,e,n,i,r);return"mfaPendingCredential"in u&&xn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function cA(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?_v(t.config,r):`${t.config.apiScheme}://${r}`}function q$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Xy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(is(this.auth,"network-request-failed")),z$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Rh(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=is(t,e,i);return r.customData._tokenResponse=n,r}function US(t){return t!==void 0&&t.enterprise!==void 0}var ev=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return q$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function W$(t,e){return E(this,null,function*(){return ur(t,"GET","/v2/recaptchaConfig",os(t,e))})}function K$(t,e){return E(this,null,function*(){return ur(t,"POST","/v1/accounts:delete",e)})}function lA(t,e){return E(this,null,function*(){return ur(t,"POST","/v1/accounts:lookup",e)})}function zc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yv(t,e=!1){return E(this,null,function*(){let n=wt(t),i=yield n.getIdToken(e),r=vv(i);te(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:zc(Qy(r.auth_time)),issuedAtTime:zc(Qy(r.iat)),expirationTime:zc(Qy(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Qy(t){return Number(t)*1e3}function vv(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{let r=Sy(n);return r?JSON.parse(r):(Mh("Failed to decode base64 JWT payload"),null)}catch(r){return Mh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function $S(t){let e=vv(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wc(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof $t&&Q$(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function Q$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var tv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Kc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Fh(t){return E(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Wc(t,lA(n,{idToken:i}));te(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?uA(s.providerUserInfo):[],a=J$(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,h=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)})}function wv(t){return E(this,null,function*(){let e=wt(t);yield Fh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function J$(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function uA(t){return t.map(e=>{var{providerId:n}=e,i=zp(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Y$(t,e){return E(this,null,function*(){let n=yield aA(t,{},()=>E(this,null,function*(){let i=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=cA(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kh.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Z$(t,e){return E(this,null,function*(){return ur(t,"POST","/v2/accounts:revokeToken",os(t,e))})}var qc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$S(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");let n=$S(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return E(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield Y$(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(te(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(te(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return vi("not implemented")}};function ar(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Mo=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield Wc(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return yv(this,e)}reload(){return wv(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Fh(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Nn(this.auth.app))return Promise.reject(cr(this.auth));let e=yield this.getIdToken();return yield Wc(this,K$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,u,h;let f=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,O=(u=n.createdAt)!==null&&u!==void 0?u:void 0,F=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:L,emailVerified:q,isAnonymous:he,providerData:G,stsTokenManager:I}=n;te(L&&I,e,"internal-error");let y=qc.fromJSON(this.name,I);te(typeof L=="string",e,"internal-error"),ar(f,e.name),ar(g,e.name),te(typeof q=="boolean",e,"internal-error"),te(typeof he=="boolean",e,"internal-error"),ar(_,e.name),ar(v,e.name),ar(S,e.name),ar(A,e.name),ar(O,e.name),ar(F,e.name);let w=new t({uid:L,auth:e,email:g,emailVerified:q,displayName:f,isAnonymous:he,photoURL:v,phoneNumber:_,tenantId:S,stsTokenManager:y,createdAt:O,lastLoginAt:F});return G&&Array.isArray(G)&&(w.providerData=G.map(D=>Object.assign({},D))),A&&(w._redirectEventId=A),w}static _fromIdTokenResponse(e,n,i=!1){return E(this,null,function*(){let r=new qc;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Fh(s),s})}static _fromGetAccountInfoResponse(e,n,i){return E(this,null,function*(){let r=n.users[0];te(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?uA(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new qc;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Kc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var HS=new Map;function wi(t){lr(t instanceof Function,"Expected a class definition");let e=HS.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HS.set(t,e),e)}var X$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,i){return E(this,null,function*(){this.storage[n]=i})}_get(n){return E(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),nv=X$;function Nh(t,e,n){return`firebase:${t}:${e}:${n}`}var Vh=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Nh(this.userKey,r.apiKey,s),this.fullPersistenceKey=Nh("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Mo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return E(this,null,function*(){if(!n.length)return new t(wi(nv),e,i);let r=(yield Promise.all(n.map(u=>E(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||wi(nv),o=Nh(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let h=yield u._get(o);if(h){let f=Mo._fromJSON(e,h);u!==s&&(a=f),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>E(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,i))})}};function GS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mA(e))return"Blackberry";if(_A(e))return"Webos";if(hA(e))return"Safari";if((e.includes("chrome/")||fA(e))&&!e.includes("edge/"))return"Chrome";if(gA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function dA(t=nt()){return/firefox\//i.test(t)}function hA(t=nt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fA(t=nt()){return/crios\//i.test(t)}function pA(t=nt()){return/iemobile/i.test(t)}function gA(t=nt()){return/android/i.test(t)}function mA(t=nt()){return/blackberry/i.test(t)}function _A(t=nt()){return/webos/i.test(t)}function bv(t=nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eH(t=nt()){var e;return bv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tH(){return vS()&&document.documentMode===10}function yA(t=nt()){return bv(t)||gA(t)||_A(t)||mA(t)||/windows phone/i.test(t)||pA(t)}function vA(t,e=[]){let n;switch(t){case"Browser":n=GS(nt());break;case"Worker":n=`${GS(nt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${or}/${i}`}var iv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function nH(n){return E(this,arguments,function*(t,e={}){return ur(t,"GET","/v2/passwordPolicy",os(t,e))})}var iH=6,rv=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:iH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var sv=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lh(this),this.idTokenSubscription=new Lh(this),this.beforeStateQueue=new iv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Vh.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let n=yield lA(this,{idToken:e}),i=yield Mo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;if(Nn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=H$()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Nn(this.app))return Promise.reject(cr(this));let n=e?wt(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Nn(this.app)?Promise.reject(cr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Nn(this.app)?Promise.reject(cr(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(wi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield nH(this),n=new rv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mi("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Z$(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&wi(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield Vh.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&j$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function No(t){return wt(t)}var Lh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=IS(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qh={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rH(t){qh=t}function wA(t){return qh.loadJS(t)}function sH(){return qh.recaptchaEnterpriseScript}function oH(){return qh.gapiScript}function bA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var aH="recaptcha-enterprise",cH="NO_RECAPTCHA",ov=class{constructor(e){this.type=aH,this.auth=No(e)}verify(e="verify",n=!1){return E(this,null,function*(){function i(s){return E(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>E(this,null,function*(){W$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new ev(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;US(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(cH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&US(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=sH();c.length!==0&&(c+=a),wA(c).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function zS(t,e,n,i=!1){return E(this,null,function*(){let r=new ov(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function qS(t,e,n,i){return E(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield zS(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>E(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield zS(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function Ev(t,e){let n=Hc(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(Zr(s,e??{}))return r;xn(r,"already-initialized")}return n.initialize({options:e})}function lH(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(wi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Iv(t,e,n){let i=No(t);te(i._canInitEmulator,i,"emulator-config-failed"),te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=EA(e),{host:o,port:a}=uH(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||dH()}function EA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uH(t){let e=EA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:WS(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:WS(o)}}}function WS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function dH(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Qc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}};function hH(t,e){return E(this,null,function*(){return ur(t,"POST","/v1/accounts:signUp",e)})}function fH(t,e){return E(this,null,function*(){return zh(t,"POST","/v1/accounts:signInWithPassword",os(t,e))})}function pH(t,e){return E(this,null,function*(){return zh(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))})}function gH(t,e){return E(this,null,function*(){return zh(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))})}var Jc=class t extends Qc{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qS(e,n,"signInWithPassword",fH);case"emailLink":return pH(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}})}_linkToIdToken(e,n){return E(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qS(e,i,"signUpPassword",hH);case"emailLink":return gH(e,{idToken:n,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Jy(t,e){return E(this,null,function*(){return zh(t,"POST","/v1/accounts:signInWithIdp",os(t,e))})}function mH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _H(t){let e=Do(To(t)).link,n=e?Do(To(e)).deep_link_id:null,i=Do(To(t)).deep_link_id;return(i?Do(To(i)).link:null)||i||n||e||t}var Bh=class t{constructor(e){var n,i,r,s,o,a;let c=Do(To(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(i=c.oobCode)!==null&&i!==void 0?i:null,f=mH((r=c.mode)!==null&&r!==void 0?r:null);te(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=_H(e);try{return new t(n)}catch{return null}}};var IA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return Jc._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=Bh.parseLink(i);return te(r,"argument-error"),Jc._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),jh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var av=class extends jh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Yc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return E(this,null,function*(){let s=yield Mo._fromIdTokenResponse(e,i,r),o=KS(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return E(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=KS(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function KS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var cv=class t extends $t{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function DA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cv._fromErrorAndOperation(t,s,e,i):s})}function yH(t,e,n=!1){return E(this,null,function*(){let i=yield Wc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Yc._forOperation(t,"link",i)})}function vH(t,e,n=!1){return E(this,null,function*(){let{auth:i}=t;if(Nn(i.app))return Promise.reject(cr(i));let r="reauthenticate";try{let s=yield Wc(t,DA(i,r,e,t),n);te(s.idToken,i,"internal-error");let o=vv(s.idToken);te(o,i,"internal-error");let{sub:a}=o;return te(t.uid===a,i,"user-mismatch"),Yc._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&xn(i,"user-mismatch"),s}})}function TA(t,e,n=!1){return E(this,null,function*(){if(Nn(t.app))return Promise.reject(cr(t));let i="signIn",r=yield DA(t,i,e),s=yield Yc._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function Dv(t,e){return E(this,null,function*(){return TA(No(t),e)})}function wH(t){return E(this,null,function*(){let e=No(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Tv(t,e,n){return Nn(t.app)?Promise.reject(cr(t)):Dv(wt(t),IA.credential(e,n)).catch(i=>E(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&wH(t),i}))}function Cv(t,e,n,i){return wt(t).onIdTokenChanged(e,n,i)}function Sv(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}var Uh="__sak";var $h=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var bH=1e3,EH=10,IH=(()=>{class t extends $h{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=n.key;i?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);tH()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,EH):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},bH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return E(this,null,function*(){yield Mi(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return E(this,null,function*(){let i=yield Mi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return E(this,null,function*(){yield Mi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),CA=IH;var DH=(()=>{class t extends $h{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Av=DH;function TH(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var CH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(h=>E(this,null,function*(){return h(i.origin,o)})),u=yield TH(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function SA(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var lv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return E(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=SA("",20);r.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){let g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function On(){return window}function SH(t){On().location.href=t}function AA(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}function AH(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function RH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MH(){return AA()?self:null}var RA="firebaseLocalStorageDb",NH=1,Hh="firebaseLocalStorage",MA="fbase_key",ss=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Wh(t,e){return t.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function OH(){let t=indexedDB.deleteDatabase(RA);return new ss(t).toPromise()}function uv(){let t=indexedDB.open(RA,NH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Hh,{keyPath:MA})}catch(r){n(r)}}),t.addEventListener("success",()=>E(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Hh)?e(i):(i.close(),yield OH(),e(yield uv()))}))})}function QS(t,e,n){return E(this,null,function*(){let i=Wh(t,!0).put({[MA]:e,value:n});return new ss(i).toPromise()})}function xH(t,e){return E(this,null,function*(){let n=Wh(t,!1).get(e),i=yield new ss(n).toPromise();return i===void 0?null:i.value})}function JS(t,e){let n=Wh(t,!0).delete(e);return new ss(n).toPromise()}var PH=800,kH=3,FH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield uv(),this.db)})}_withRetries(n){return E(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>kH)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return AA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=CH._getInstance(MH()),this.receiver._subscribe("keyChanged",(n,i)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,i;if(this.activeServiceWorker=yield AH(),!this.activeServiceWorker)return;this.sender=new lv(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||RH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield uv();return yield QS(n,Uh,"1"),yield JS(n,Uh),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>QS(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let i=yield this._withRetries(r=>xH(r,n));return this.localCache[n]=i,i})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>JS(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(s=>{let o=Wh(s,!1).getAll();return new ss(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),PH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),NA=FH;var MY=bA("rcb"),NY=new rs(3e4,6e4);function VH(t,e){return e?wi(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Zc=class extends Qc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function LH(t){return TA(t.auth,new Zc(t),t.bypassAuthState)}function BH(t){let{auth:e,user:n}=t;return te(n,e,"internal-error"),vH(n,new Zc(t),t.bypassAuthState)}function jH(t){return E(this,null,function*(){let{auth:e,user:n}=t;return te(n,e,"internal-error"),yH(n,new Zc(t),t.bypassAuthState)})}var dv=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LH;case"linkViaPopup":case"linkViaRedirect":return jH;case"reauthViaPopup":case"reauthViaRedirect":return BH;default:xn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var OY=new rs(2e3,1e4);var UH="pendingRedirect",Oh=new Map,hv=class t extends dv{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return E(this,null,function*(){let e=Oh.get(this.auth._key());if(!e){try{let i=(yield $H(this.resolver,this.auth))?yield Mi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Mi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Mi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function $H(t,e){return E(this,null,function*(){let n=zH(e),i=GH(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function HH(t,e){Oh.set(t._key(),e)}function GH(t){return wi(t._redirectPersistence)}function zH(t){return Nh(UH,t.config.apiKey,t.name)}function qH(t,e,n=!1){return E(this,null,function*(){if(Nn(t.app))return Promise.reject(cr(t));let i=No(t),r=VH(i,e),o=yield new hv(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var WH=10*60*1e3,fv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!OA(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(is(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WH&&this.cachedEventUids.clear(),this.cachedEventUids.has(YS(e))}saveEventToCache(e){this.cachedEventUids.add(YS(e)),this.lastProcessedEventTime=Date.now()}};function YS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function KH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OA(t);default:return!1}}function QH(n){return E(this,arguments,function*(t,e={}){return ur(t,"GET","/v1/projects",e)})}var JH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YH=/^https?/;function ZH(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield QH(t);for(let n of e)try{if(XH(n))return}catch{}xn(t,"unauthorized-domain")})}function XH(t){let e=Zy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!YH.test(n))return!1;if(JH.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var eG=new rs(3e4,6e4);function ZS(){let t=On().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tG(t){return new Promise((e,n)=>{var i,r,s;function o(){ZS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZS(),n(is(t,"network-request-failed"))},timeout:eG.get()})}if(!((r=(i=On().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=On().gapi)===null||s===void 0)&&s.load)o();else{let a=bA("iframefcb");return On()[a]=()=>{gapi.load?o():n(is(t,"network-request-failed"))},wA(`${oH()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw xh=null,e})}var xh=null;function nG(t){return xh=xh||tG(t),xh}var iG=new rs(5e3,15e3),rG="__/auth/iframe",sG="emulator/auth/iframe",oG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cG(t){let e=t.config;te(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?_v(e,sG):`https://${t.config.authDomain}/${rG}`,i={apiKey:e.apiKey,appName:t.name,v:or},r=aG.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${jc(i).slice(1)}`}function lG(t){return E(this,null,function*(){let e=yield nG(t),n=On().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:cG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oG,dontclear:!0},i=>new Promise((r,s)=>E(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=is(t,"network-request-failed"),a=On().setTimeout(()=>{s(o)},iG.get());function c(){On().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var uG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dG=500,hG=600,fG="_blank",pG="http://localhost",Gh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function gG(t,e,n,i=dG,r=hG){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},uG),{width:i.toString(),height:r.toString(),top:s,left:o}),u=nt().toLowerCase();n&&(a=fA(u)?fG:n),dA(u)&&(e=e||pG,c.scrollbars="yes");let h=Object.entries(c).reduce((g,[_,v])=>`${g}${_}=${v},`,"");if(eH(u)&&a!=="_self")return mG(e||"",a),new Gh(null);let f=window.open(e||"",a,h);te(f,t,"popup-blocked");try{f.focus()}catch{}return new Gh(f)}function mG(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var _G="__/auth/handler",yG="emulator/auth/handler",vG=encodeURIComponent("fac");function XS(t,e,n,i,r,s){return E(this,null,function*(){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:or,eventId:r};if(e instanceof jh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ES(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,f]of Object.entries(s||{}))o[h]=f}if(e instanceof av){let h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield t._getAppCheckToken(),u=c?`#${vG}=${encodeURIComponent(c)}`:"";return`${wG(t)}?${jc(a).slice(1)}${u}`})}function wG({config:t}){return t.emulator?_v(t,yG):`https://${t.authDomain}/${_G}`}var Yy="webStorageSupport",pv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Av,this._completeRedirectFn=qH,this._overrideRedirectResult=HH}_openPopup(e,n,i,r){return E(this,null,function*(){var s;lr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield XS(e,n,i,Zy(),r);return gG(e,o,SA())})}_openRedirect(e,n,i,r){return E(this,null,function*(){yield this._originValidation(e);let s=yield XS(e,n,i,Zy(),r);return SH(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(lr(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return E(this,null,function*(){let n=yield lG(e),i=new fv(e);return n.register("authEvent",r=>(te(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yy,{type:Yy},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[Yy];o!==void 0&&n(!!o),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yA()||hA()||bv()}},xA=pv;var eA="@firebase/auth",tA="1.7.9";var gv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function bG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EG(t){sr(new tn("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vA(t)},u=new sv(i,r,s,c);return lH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),sr(new tn("auth-internal",e=>{let n=No(e.getProvider("auth").getImmediate());return(i=>new gv(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(eA,tA,bG(t)),Ye(eA,tA,"esm2017")}var IG=5*60,DG=My("authIdTokenMaxAge")||IG,nA=null,TG=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>DG)return;let r=n?.token;nA!==r&&(nA=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Rv(t=Co()){let e=Hc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ev(t,{popupRedirectResolver:xA,persistence:[NA,CA,Av]}),i=My("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=TG(s.toString());Sv(n,o,()=>o(n.currentUser)),Cv(n,a=>o(a))}}let r=Ay("auth");return r&&Iv(n,`http://${r}`),n}function CG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rH({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=is("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",CG().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EG("Browser");var PA="auth",as=class{constructor(e){return e}},Xc=class{constructor(){return Gc(PA)}};var Mv=new U("angularfire2.auth-instances");function y3(t,e){let n=Sh(PA,t,e);return n&&new as(n)}function v3(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new as(i)}}var w3={provide:Xc,deps:[[new Mt,Mv]]},b3={provide:as,useFactory:y3,deps:[[new Mt,Mv],yi]};function kA(t,...e){return Ye("angularfire",ts.full,"auth"),cn([b3,w3,{provide:Mv,useFactory:v3(t),multi:!0,deps:[we,Le,Ro,ns,[new Mt,Ao],...e]}])}var FA=Ht(Rv,!0);var VA=Ht(Tv,!0);var LA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},BA={};var dr,Nv;(function(){var t;function e(I,y){function w(){}w.prototype=y.prototype,I.D=y.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(D,T,R){for(var b=Array(arguments.length-2),Un=2;Un<arguments.length;Un++)b[Un-2]=arguments[Un];return y.prototype[T].apply(D,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,y,w){w||(w=0);var D=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)D[T]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(T=0;16>T;++T)D[T]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=I.g[0],w=I.g[1],T=I.g[2];var R=I.g[3],b=y+(R^w&(T^R))+D[0]+3614090360&4294967295;y=w+(b<<7&4294967295|b>>>25),b=R+(T^y&(w^T))+D[1]+3905402710&4294967295,R=y+(b<<12&4294967295|b>>>20),b=T+(w^R&(y^w))+D[2]+606105819&4294967295,T=R+(b<<17&4294967295|b>>>15),b=w+(y^T&(R^y))+D[3]+3250441966&4294967295,w=T+(b<<22&4294967295|b>>>10),b=y+(R^w&(T^R))+D[4]+4118548399&4294967295,y=w+(b<<7&4294967295|b>>>25),b=R+(T^y&(w^T))+D[5]+1200080426&4294967295,R=y+(b<<12&4294967295|b>>>20),b=T+(w^R&(y^w))+D[6]+2821735955&4294967295,T=R+(b<<17&4294967295|b>>>15),b=w+(y^T&(R^y))+D[7]+4249261313&4294967295,w=T+(b<<22&4294967295|b>>>10),b=y+(R^w&(T^R))+D[8]+1770035416&4294967295,y=w+(b<<7&4294967295|b>>>25),b=R+(T^y&(w^T))+D[9]+2336552879&4294967295,R=y+(b<<12&4294967295|b>>>20),b=T+(w^R&(y^w))+D[10]+4294925233&4294967295,T=R+(b<<17&4294967295|b>>>15),b=w+(y^T&(R^y))+D[11]+2304563134&4294967295,w=T+(b<<22&4294967295|b>>>10),b=y+(R^w&(T^R))+D[12]+1804603682&4294967295,y=w+(b<<7&4294967295|b>>>25),b=R+(T^y&(w^T))+D[13]+4254626195&4294967295,R=y+(b<<12&4294967295|b>>>20),b=T+(w^R&(y^w))+D[14]+2792965006&4294967295,T=R+(b<<17&4294967295|b>>>15),b=w+(y^T&(R^y))+D[15]+1236535329&4294967295,w=T+(b<<22&4294967295|b>>>10),b=y+(T^R&(w^T))+D[1]+4129170786&4294967295,y=w+(b<<5&4294967295|b>>>27),b=R+(w^T&(y^w))+D[6]+3225465664&4294967295,R=y+(b<<9&4294967295|b>>>23),b=T+(y^w&(R^y))+D[11]+643717713&4294967295,T=R+(b<<14&4294967295|b>>>18),b=w+(R^y&(T^R))+D[0]+3921069994&4294967295,w=T+(b<<20&4294967295|b>>>12),b=y+(T^R&(w^T))+D[5]+3593408605&4294967295,y=w+(b<<5&4294967295|b>>>27),b=R+(w^T&(y^w))+D[10]+38016083&4294967295,R=y+(b<<9&4294967295|b>>>23),b=T+(y^w&(R^y))+D[15]+3634488961&4294967295,T=R+(b<<14&4294967295|b>>>18),b=w+(R^y&(T^R))+D[4]+3889429448&4294967295,w=T+(b<<20&4294967295|b>>>12),b=y+(T^R&(w^T))+D[9]+568446438&4294967295,y=w+(b<<5&4294967295|b>>>27),b=R+(w^T&(y^w))+D[14]+3275163606&4294967295,R=y+(b<<9&4294967295|b>>>23),b=T+(y^w&(R^y))+D[3]+4107603335&4294967295,T=R+(b<<14&4294967295|b>>>18),b=w+(R^y&(T^R))+D[8]+1163531501&4294967295,w=T+(b<<20&4294967295|b>>>12),b=y+(T^R&(w^T))+D[13]+2850285829&4294967295,y=w+(b<<5&4294967295|b>>>27),b=R+(w^T&(y^w))+D[2]+4243563512&4294967295,R=y+(b<<9&4294967295|b>>>23),b=T+(y^w&(R^y))+D[7]+1735328473&4294967295,T=R+(b<<14&4294967295|b>>>18),b=w+(R^y&(T^R))+D[12]+2368359562&4294967295,w=T+(b<<20&4294967295|b>>>12),b=y+(w^T^R)+D[5]+4294588738&4294967295,y=w+(b<<4&4294967295|b>>>28),b=R+(y^w^T)+D[8]+2272392833&4294967295,R=y+(b<<11&4294967295|b>>>21),b=T+(R^y^w)+D[11]+1839030562&4294967295,T=R+(b<<16&4294967295|b>>>16),b=w+(T^R^y)+D[14]+4259657740&4294967295,w=T+(b<<23&4294967295|b>>>9),b=y+(w^T^R)+D[1]+2763975236&4294967295,y=w+(b<<4&4294967295|b>>>28),b=R+(y^w^T)+D[4]+1272893353&4294967295,R=y+(b<<11&4294967295|b>>>21),b=T+(R^y^w)+D[7]+4139469664&4294967295,T=R+(b<<16&4294967295|b>>>16),b=w+(T^R^y)+D[10]+3200236656&4294967295,w=T+(b<<23&4294967295|b>>>9),b=y+(w^T^R)+D[13]+681279174&4294967295,y=w+(b<<4&4294967295|b>>>28),b=R+(y^w^T)+D[0]+3936430074&4294967295,R=y+(b<<11&4294967295|b>>>21),b=T+(R^y^w)+D[3]+3572445317&4294967295,T=R+(b<<16&4294967295|b>>>16),b=w+(T^R^y)+D[6]+76029189&4294967295,w=T+(b<<23&4294967295|b>>>9),b=y+(w^T^R)+D[9]+3654602809&4294967295,y=w+(b<<4&4294967295|b>>>28),b=R+(y^w^T)+D[12]+3873151461&4294967295,R=y+(b<<11&4294967295|b>>>21),b=T+(R^y^w)+D[15]+530742520&4294967295,T=R+(b<<16&4294967295|b>>>16),b=w+(T^R^y)+D[2]+3299628645&4294967295,w=T+(b<<23&4294967295|b>>>9),b=y+(T^(w|~R))+D[0]+4096336452&4294967295,y=w+(b<<6&4294967295|b>>>26),b=R+(w^(y|~T))+D[7]+1126891415&4294967295,R=y+(b<<10&4294967295|b>>>22),b=T+(y^(R|~w))+D[14]+2878612391&4294967295,T=R+(b<<15&4294967295|b>>>17),b=w+(R^(T|~y))+D[5]+4237533241&4294967295,w=T+(b<<21&4294967295|b>>>11),b=y+(T^(w|~R))+D[12]+1700485571&4294967295,y=w+(b<<6&4294967295|b>>>26),b=R+(w^(y|~T))+D[3]+2399980690&4294967295,R=y+(b<<10&4294967295|b>>>22),b=T+(y^(R|~w))+D[10]+4293915773&4294967295,T=R+(b<<15&4294967295|b>>>17),b=w+(R^(T|~y))+D[1]+2240044497&4294967295,w=T+(b<<21&4294967295|b>>>11),b=y+(T^(w|~R))+D[8]+1873313359&4294967295,y=w+(b<<6&4294967295|b>>>26),b=R+(w^(y|~T))+D[15]+4264355552&4294967295,R=y+(b<<10&4294967295|b>>>22),b=T+(y^(R|~w))+D[6]+2734768916&4294967295,T=R+(b<<15&4294967295|b>>>17),b=w+(R^(T|~y))+D[13]+1309151649&4294967295,w=T+(b<<21&4294967295|b>>>11),b=y+(T^(w|~R))+D[4]+4149444226&4294967295,y=w+(b<<6&4294967295|b>>>26),b=R+(w^(y|~T))+D[11]+3174756917&4294967295,R=y+(b<<10&4294967295|b>>>22),b=T+(y^(R|~w))+D[2]+718787259&4294967295,T=R+(b<<15&4294967295|b>>>17),b=w+(R^(T|~y))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(T+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+R&4294967295}i.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var w=y-this.blockSize,D=this.B,T=this.h,R=0;R<y;){if(T==0)for(;R<=w;)r(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<y;)if(D[T++]=I.charCodeAt(R++),T==this.blockSize){r(this,D),T=0;break}}else for(;R<y;)if(D[T++]=I[R++],T==this.blockSize){r(this,D),T=0;break}}this.h=T,this.o+=y},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var w=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=w&255,w/=256;for(this.u(I),I=Array(16),y=w=0;4>y;++y)for(var D=0;32>D;D+=8)I[w++]=this.g[y]>>>D&255;return I};function s(I,y){var w=a;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=y(I)}function o(I,y){this.h=y;for(var w=[],D=!0,T=I.length-1;0<=T;T--){var R=I[T]|0;D&&R==y||(w[T]=R,D=!1)}this.g=w}var a={};function c(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return A(u(-I));for(var y=[],w=1,D=0;I>=w;D++)y[D]=I/w|0,w*=4294967296;return new o(y,0)}function h(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return A(h(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(y,8)),D=f,T=0;T<I.length;T+=8){var R=Math.min(8,I.length-T),b=parseInt(I.substring(T,T+R),y);8>R?(R=u(Math.pow(y,R)),D=D.j(R).add(u(b))):(D=D.j(w),D=D.add(u(b)))}return D}var f=c(0),g=c(1),_=c(16777216);t=o.prototype,t.m=function(){if(S(this))return-A(this).m();for(var I=0,y=1,w=0;w<this.g.length;w++){var D=this.i(w);I+=(0<=D?D:4294967296+D)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(S(this))return"-"+A(this).toString(I);for(var y=u(Math.pow(I,6)),w=this,D="";;){var T=q(w,y).g;w=O(w,T.j(y));var R=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=T,v(w))return R+D;for(;6>R.length;)R="0"+R;D=R+D}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function S(I){return I.h==-1}t.l=function(I){return I=O(this,I),S(I)?-1:v(I)?0:1};function A(I){for(var y=I.g.length,w=[],D=0;D<y;D++)w[D]=~I.g[D];return new o(w,~I.h).add(g)}t.abs=function(){return S(this)?A(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],D=0,T=0;T<=y;T++){var R=D+(this.i(T)&65535)+(I.i(T)&65535),b=(R>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);D=b>>>16,R&=65535,b&=65535,w[T]=b<<16|R}return new o(w,w[w.length-1]&-2147483648?-1:0)};function O(I,y){return I.add(A(y))}t.j=function(I){if(v(this)||v(I))return f;if(S(this))return S(I)?A(this).j(A(I)):A(A(this).j(I));if(S(I))return A(this.j(A(I)));if(0>this.l(_)&&0>I.l(_))return u(this.m()*I.m());for(var y=this.g.length+I.g.length,w=[],D=0;D<2*y;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<I.g.length;T++){var R=this.i(D)>>>16,b=this.i(D)&65535,Un=I.i(T)>>>16,sa=I.i(T)&65535;w[2*D+2*T]+=b*sa,F(w,2*D+2*T),w[2*D+2*T+1]+=R*sa,F(w,2*D+2*T+1),w[2*D+2*T+1]+=b*Un,F(w,2*D+2*T+1),w[2*D+2*T+2]+=R*Un,F(w,2*D+2*T+2)}for(D=0;D<y;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=y;D<2*y;D++)w[D]=0;return new o(w,0)};function F(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function L(I,y){this.g=I,this.h=y}function q(I,y){if(v(y))throw Error("division by zero");if(v(I))return new L(f,f);if(S(I))return y=q(A(I),y),new L(A(y.g),A(y.h));if(S(y))return y=q(I,A(y)),new L(A(y.g),y.h);if(30<I.g.length){if(S(I)||S(y))throw Error("slowDivide_ only works with positive integers.");for(var w=g,D=y;0>=D.l(I);)w=he(w),D=he(D);var T=G(w,1),R=G(D,1);for(D=G(D,2),w=G(w,2);!v(D);){var b=R.add(D);0>=b.l(I)&&(T=T.add(w),R=b),D=G(D,1),w=G(w,1)}return y=O(I,T.j(y)),new L(T,y)}for(T=f;0<=I.l(y);){for(w=Math.max(1,Math.floor(I.m()/y.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),R=u(w),b=R.j(y);S(b)||0<b.l(I);)w-=D,R=u(w),b=R.j(y);v(R)&&(R=g),T=T.add(R),I=O(I,b)}return new L(T,I)}t.A=function(I){return q(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)&I.i(D);return new o(w,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)|I.i(D);return new o(w,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],D=0;D<y;D++)w[D]=this.i(D)^I.i(D);return new o(w,this.h^I.h)};function he(I){for(var y=I.g.length+1,w=[],D=0;D<y;D++)w[D]=I.i(D)<<1|I.i(D-1)>>>31;return new o(w,I.h)}function G(I,y){var w=y>>5;y%=32;for(var D=I.g.length-w,T=[],R=0;R<D;R++)T[R]=0<y?I.i(R+w)>>>y|I.i(R+w+1)<<32-y:I.i(R+w);return new o(T,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Nv=BA.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,dr=BA.Integer=o}).apply(typeof LA<"u"?LA:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bi={};var Ov,I3,Oo,xv,el,Qh,Pv,kv,Fv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,p){return l==Array.prototype||l==Object.prototype||(l[d]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function r(l,d){if(d)e:{var p=i;l=l.split(".");for(var m=0;m<l.length-1;m++){var C=l[m];if(!(C in p))break e;p=p[C]}l=l[l.length-1],m=p[l],d=d(m),d!=m&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var p=0,m=!1,C={next:function(){if(!m&&p<l.length){var M=p++;return{value:d(M,l[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(l){return l||function(){return s(this,function(d,p){return p})}});var o=o||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,p){return l.call.apply(l.bind,arguments)}function f(l,d,p){if(!l)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),l.apply(d,C)}}return function(){return l.apply(d,arguments)}}function g(l,d,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function _(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var m=p.slice();return m.push.apply(m,arguments),l.apply(this,m)}}function v(l,d){function p(){}p.prototype=d.prototype,l.aa=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(m,C,M){for(var k=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)k[Re-2]=arguments[Re];return d.prototype[C].apply(m,k)}}function S(l){let d=l.length;if(0<d){let p=Array(d);for(let m=0;m<d;m++)p[m]=l[m];return p}return[]}function A(l,d){for(let p=1;p<arguments.length;p++){let m=arguments[p];if(c(m)){let C=l.length||0,M=m.length||0;l.length=C+M;for(let k=0;k<M;k++)l[C+k]=m[k]}else l.push(m)}}class O{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function F(l){return/^[\s\xa0]*$/.test(l)}function L(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function q(l){return q[" "](l),l}q[" "]=function(){};var he=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function G(l,d,p){for(let m in l)d.call(p,l[m],m,l)}function I(l,d){for(let p in l)d.call(void 0,l[p],p,l)}function y(l){let d={};for(let p in l)d[p]=l[p];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,d){let p,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(p in m)l[p]=m[p];for(let M=0;M<w.length;M++)p=w[M],Object.prototype.hasOwnProperty.call(m,p)&&(l[p]=m[p])}}function T(l){var d=1;l=l.split(":");let p=[];for(;0<d&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function R(l){a.setTimeout(()=>{throw l},0)}function b(){var l=np;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Un{constructor(){this.h=this.g=null}add(d,p){let m=sa.get();m.set(d,p),this.h?this.h.next=m:this.g=m,this.h=m}}var sa=new O(()=>new CN,l=>l.reset());class CN{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let oa,aa=!1,np=new Un,rb=()=>{let l=a.Promise.resolve(void 0);oa=()=>{l.then(SN)}};var SN=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(p){R(p)}var d=sa;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}aa=!1};function Ci(){this.s=this.s,this.C=this.C}Ci.prototype.s=!1,Ci.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ci.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var AN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return l}();function ca(l,d){if(dt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,m=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(he){e:{try{q(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:RN[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ca.aa.h.call(this)}}v(ca,dt);var RN={2:"touch",3:"pen",4:"mouse"};ca.prototype.h=function(){ca.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var la="closure_listenable_"+(1e6*Math.random()|0),MN=0;function NN(l,d,p,m,C){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!m,this.ha=C,this.key=++MN,this.da=this.fa=!1}function Nl(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ol(l){this.src=l,this.g={},this.h=0}Ol.prototype.add=function(l,d,p,m,C){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var k=rp(l,d,m,C);return-1<k?(d=l[k],p||(d.fa=!1)):(d=new NN(d,this.src,M,!!m,C),d.fa=p,l.push(d)),d};function ip(l,d){var p=d.type;if(p in l.g){var m=l.g[p],C=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=C)&&Array.prototype.splice.call(m,C,1),M&&(Nl(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function rp(l,d,p,m){for(var C=0;C<l.length;++C){var M=l[C];if(!M.da&&M.listener==d&&M.capture==!!p&&M.ha==m)return C}return-1}var sp="closure_lm_"+(1e6*Math.random()|0),op={};function sb(l,d,p,m,C){if(m&&m.once)return ab(l,d,p,m,C);if(Array.isArray(d)){for(var M=0;M<d.length;M++)sb(l,d[M],p,m,C);return null}return p=up(p),l&&l[la]?l.K(d,p,u(m)?!!m.capture:!!m,C):ob(l,d,p,!1,m,C)}function ob(l,d,p,m,C,M){if(!d)throw Error("Invalid event type");var k=u(C)?!!C.capture:!!C,Re=cp(l);if(Re||(l[sp]=Re=new Ol(l)),p=Re.add(d,p,m,k,M),p.proxy)return p;if(m=ON(),p.proxy=m,m.src=l,m.listener=p,l.addEventListener)AN||(C=k),C===void 0&&(C=!1),l.addEventListener(d.toString(),m,C);else if(l.attachEvent)l.attachEvent(lb(d.toString()),m);else if(l.addListener&&l.removeListener)l.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ON(){function l(p){return d.call(l.src,l.listener,p)}let d=xN;return l}function ab(l,d,p,m,C){if(Array.isArray(d)){for(var M=0;M<d.length;M++)ab(l,d[M],p,m,C);return null}return p=up(p),l&&l[la]?l.L(d,p,u(m)?!!m.capture:!!m,C):ob(l,d,p,!0,m,C)}function cb(l,d,p,m,C){if(Array.isArray(d))for(var M=0;M<d.length;M++)cb(l,d[M],p,m,C);else m=u(m)?!!m.capture:!!m,p=up(p),l&&l[la]?(l=l.i,d=String(d).toString(),d in l.g&&(M=l.g[d],p=rp(M,p,m,C),-1<p&&(Nl(M[p]),Array.prototype.splice.call(M,p,1),M.length==0&&(delete l.g[d],l.h--)))):l&&(l=cp(l))&&(d=l.g[d.toString()],l=-1,d&&(l=rp(d,p,m,C)),(p=-1<l?d[l]:null)&&ap(p))}function ap(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[la])ip(d.i,l);else{var p=l.type,m=l.proxy;d.removeEventListener?d.removeEventListener(p,m,l.capture):d.detachEvent?d.detachEvent(lb(p),m):d.addListener&&d.removeListener&&d.removeListener(m),(p=cp(d))?(ip(p,l),p.h==0&&(p.src=null,d[sp]=null)):Nl(l)}}}function lb(l){return l in op?op[l]:op[l]="on"+l}function xN(l,d){if(l.da)l=!0;else{d=new ca(d,this);var p=l.listener,m=l.ha||l.src;l.fa&&ap(l),l=p.call(m,d)}return l}function cp(l){return l=l[sp],l instanceof Ol?l:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function up(l){return typeof l=="function"?l:(l[lp]||(l[lp]=function(d){return l.handleEvent(d)}),l[lp])}function ht(){Ci.call(this),this.i=new Ol(this),this.M=this,this.F=null}v(ht,Ci),ht.prototype[la]=!0,ht.prototype.removeEventListener=function(l,d,p,m){cb(this,l,d,p,m)};function Dt(l,d){var p,m=l.F;if(m)for(p=[];m;m=m.F)p.push(m);if(l=l.M,m=d.type||d,typeof d=="string")d=new dt(d,l);else if(d instanceof dt)d.target=d.target||l;else{var C=d;d=new dt(m,l),D(d,C)}if(C=!0,p)for(var M=p.length-1;0<=M;M--){var k=d.g=p[M];C=xl(k,m,!0,d)&&C}if(k=d.g=l,C=xl(k,m,!0,d)&&C,C=xl(k,m,!1,d)&&C,p)for(M=0;M<p.length;M++)k=d.g=p[M],C=xl(k,m,!1,d)&&C}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var p=l.g[d],m=0;m<p.length;m++)Nl(p[m]);delete l.g[d],l.h--}}this.F=null},ht.prototype.K=function(l,d,p,m){return this.i.add(String(l),d,!1,p,m)},ht.prototype.L=function(l,d,p,m){return this.i.add(String(l),d,!0,p,m)};function xl(l,d,p,m){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,M=0;M<d.length;++M){var k=d[M];if(k&&!k.da&&k.capture==p){var Re=k.listener,rt=k.ha||k.src;k.fa&&ip(l.i,k),C=Re.call(rt,m)!==!1&&C}}return C&&!m.defaultPrevented}function ub(l,d,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function db(l){l.g=ub(()=>{l.g=null,l.i&&(l.i=!1,db(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class PN extends Ci{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:db(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(l){Ci.call(this),this.h=l,this.g={}}v(ua,Ci);var hb=[];function fb(l){G(l.g,function(d,p){this.g.hasOwnProperty(p)&&ap(d)},l),l.g={}}ua.prototype.N=function(){ua.aa.N.call(this),fb(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dp=a.JSON.stringify,kN=a.JSON.parse,FN=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function hp(){}hp.prototype.h=null;function pb(l){return l.h||(l.h=l.i())}function gb(){}var da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fp(){dt.call(this,"d")}v(fp,dt);function pp(){dt.call(this,"c")}v(pp,dt);var vr={},mb=null;function Pl(){return mb=mb||new ht}vr.La="serverreachability";function _b(l){dt.call(this,vr.La,l)}v(_b,dt);function ha(l){let d=Pl();Dt(d,new _b(d))}vr.STAT_EVENT="statevent";function yb(l,d){dt.call(this,vr.STAT_EVENT,l),this.stat=d}v(yb,dt);function Tt(l){let d=Pl();Dt(d,new yb(d,l))}vr.Ma="timingevent";function vb(l,d){dt.call(this,vr.Ma,l),this.size=d}v(vb,dt);function fa(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function pa(){this.g=!0}pa.prototype.xa=function(){this.g=!1};function VN(l,d,p,m,C,M){l.info(function(){if(l.g)if(M)for(var k="",Re=M.split("&"),rt=0;rt<Re.length;rt++){var Ie=Re[rt].split("=");if(1<Ie.length){var ft=Ie[0];Ie=Ie[1];var pt=ft.split("_");k=2<=pt.length&&pt[1]=="type"?k+(ft+"="+Ie+"&"):k+(ft+"=redacted&")}}else k=null;else k=M;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+p+`
`+k})}function LN(l,d,p,m,C,M,k){l.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+p+`
`+M+" "+k})}function Es(l,d,p,m){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+jN(l,p)+(m?" "+m:"")})}function BN(l,d){l.info(function(){return"TIMEOUT: "+d})}pa.prototype.info=function(){};function jN(l,d){if(!l.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var m=p[l];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var M=C[0];if(M!="noop"&&M!="stop"&&M!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return dp(p)}catch{return d}}var kl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gp;function Fl(){}v(Fl,hp),Fl.prototype.g=function(){return new XMLHttpRequest},Fl.prototype.i=function(){return{}},gp=new Fl;function Si(l,d,p,m){this.j=l,this.i=d,this.l=p,this.R=m||1,this.U=new ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bb}function bb(){this.i=null,this.g="",this.h=!1}var Eb={},mp={};function _p(l,d,p){l.L=1,l.v=jl($n(d)),l.m=p,l.P=!0,Ib(l,null)}function Ib(l,d){l.F=Date.now(),Vl(l),l.A=$n(l.v);var p=l.A,m=l.R;Array.isArray(m)||(m=[String(m)]),Vb(p.i,"t",m),l.C=0,p=l.j.J,l.h=new bb,l.g=tE(l.j,p?d:null,!l.m),0<l.O&&(l.M=new PN(g(l.Y,l,l.g),l.O)),d=l.U,p=l.g,m=l.ca;var C="readystatechange";Array.isArray(C)||(C&&(hb[0]=C.toString()),C=hb);for(var M=0;M<C.length;M++){var k=sb(p,C[M],m||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),ha(),VN(l.i,l.u,l.A,l.l,l.R,l.m)}Si.prototype.ca=function(l){l=l.target;let d=this.M;d&&Hn(l)==3?d.j():this.Y(l)},Si.prototype.Y=function(l){try{if(l==this.g)e:{let pt=Hn(this.g);var d=this.g.Ba();let Ts=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Gb(this.g)))){this.J||pt!=4||d==7||(d==8||0>=Ts?ha(3):ha(2)),yp(this);var p=this.g.Z();this.X=p;t:if(Db(this)){var m=Gb(this.g);l="";var C=m.length,M=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wr(this),ga(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,l+=this.h.i.decode(m[d],{stream:!(M&&d==C-1)});m.length=0,this.h.g+=l,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=p==200,LN(this.i,this.u,this.A,this.l,this.R,pt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,rt=this.g;if((Re=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Re)){var Ie=Re;break t}}Ie=null}if(p=Ie)Es(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vp(this,p);else{this.o=!1,this.s=3,Tt(12),wr(this),ga(this);break e}}if(this.P){p=!0;let nn;for(;!this.J&&this.C<k.length;)if(nn=UN(this,k),nn==mp){pt==4&&(this.s=4,Tt(14),p=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Eb){this.s=4,Tt(15),Es(this.i,this.l,k,"[Invalid Chunk]"),p=!1;break}else Es(this.i,this.l,nn,null),vp(this,nn);if(Db(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||k.length!=0||this.h.h||(this.s=1,Tt(16),p=!1),this.o=this.o&&p,!p)Es(this.i,this.l,k,"[Invalid Chunked Response]"),wr(this),ga(this);else if(0<k.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Tp(ft),ft.M=!0,Tt(11))}}else Es(this.i,this.l,k,null),vp(this,k);pt==4&&wr(this),this.o&&!this.J&&(pt==4?Yb(this.j,this):(this.o=!1,Vl(this)))}else rO(this.g),p==400&&0<k.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),wr(this),ga(this)}}}catch{}finally{}};function Db(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function UN(l,d){var p=l.C,m=d.indexOf(`
`,p);return m==-1?mp:(p=Number(d.substring(p,m)),isNaN(p)?Eb:(m+=1,m+p>d.length?mp:(d=d.slice(m,m+p),l.C=m+p,d)))}Si.prototype.cancel=function(){this.J=!0,wr(this)};function Vl(l){l.S=Date.now()+l.I,Tb(l,l.I)}function Tb(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=fa(g(l.ba,l),d)}function yp(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Si.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(BN(this.i,this.A),this.L!=2&&(ha(),Tt(17)),wr(this),this.s=2,ga(this)):Tb(this,this.S-l)};function ga(l){l.j.G==0||l.J||Yb(l.j,l)}function wr(l){yp(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,fb(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function vp(l,d){try{var p=l.j;if(p.G!=0&&(p.g==l||wp(p.h,l))){if(!l.K&&wp(p.h,l)&&p.G==3){try{var m=p.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)zl(p),Hl(p);else break e;Dp(p),Tt(18)}}else p.za=C[1],0<p.za-p.T&&37500>C[2]&&p.F&&p.v==0&&!p.C&&(p.C=fa(g(p.Za,p),6e3));if(1>=Ab(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Er(p,11)}else if((l.K||p.g==l)&&zl(p),!F(d))for(C=p.Da.g.parse(d),d=0;d<C.length;d++){let Ie=C[d];if(p.T=Ie[0],Ie=Ie[1],p.G==2)if(Ie[0]=="c"){p.K=Ie[1],p.ia=Ie[2];let ft=Ie[3];ft!=null&&(p.la=ft,p.j.info("VER="+p.la));let pt=Ie[4];pt!=null&&(p.Aa=pt,p.j.info("SVER="+p.Aa));let Ts=Ie[5];Ts!=null&&typeof Ts=="number"&&0<Ts&&(m=1.5*Ts,p.L=m,p.j.info("backChannelRequestTimeoutMs_="+m)),m=p;let nn=l.g;if(nn){let Wl=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wl){var M=m.h;M.g||Wl.indexOf("spdy")==-1&&Wl.indexOf("quic")==-1&&Wl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(bp(M,M.h),M.h=null))}if(m.D){let Cp=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cp&&(m.ya=Cp,Pe(m.I,m.D,Cp))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),m=p;var k=l;if(m.qa=eE(m,m.J?m.ia:null,m.W),k.K){Rb(m.h,k);var Re=k,rt=m.L;rt&&(Re.I=rt),Re.B&&(yp(Re),Vl(Re)),m.g=k}else Qb(m);0<p.i.length&&Gl(p)}else Ie[0]!="stop"&&Ie[0]!="close"||Er(p,7);else p.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Er(p,7):Ip(p):Ie[0]!="noop"&&p.l&&p.l.ta(Ie),p.v=0)}}ha(4)}catch{}}var $N=class{constructor(l,d){this.g=l,this.map=d}};function Cb(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sb(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ab(l){return l.h?1:l.g?l.g.size:0}function wp(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function bp(l,d){l.g?l.g.add(d):l.h=d}function Rb(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Cb.prototype.cancel=function(){if(this.i=Mb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Mb(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let p of l.g.values())d=d.concat(p.D);return d}return S(l.i)}function HN(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],p=l.length,m=0;m<p;m++)d.push(l[m]);return d}d=[],p=0;for(m in l)d[p++]=l[m];return d}function GN(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var p=0;p<l;p++)d.push(p);return d}d=[],p=0;for(let m in l)d[p++]=m;return d}}}function Nb(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var p=GN(l),m=HN(l),C=m.length,M=0;M<C;M++)d.call(void 0,m[M],p&&p[M],l)}var Ob=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zN(l,d){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var m=l[p].indexOf("="),C=null;if(0<=m){var M=l[p].substring(0,m);C=l[p].substring(m+1)}else M=l[p];d(M,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function br(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof br){this.h=l.h,Ll(this,l.j),this.o=l.o,this.g=l.g,Bl(this,l.s),this.l=l.l;var d=l.i,p=new ya;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),xb(this,p),this.m=l.m}else l&&(d=String(l).match(Ob))?(this.h=!1,Ll(this,d[1]||"",!0),this.o=ma(d[2]||""),this.g=ma(d[3]||"",!0),Bl(this,d[4]),this.l=ma(d[5]||"",!0),xb(this,d[6]||"",!0),this.m=ma(d[7]||"")):(this.h=!1,this.i=new ya(null,this.h))}br.prototype.toString=function(){var l=[],d=this.j;d&&l.push(_a(d,Pb,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(_a(d,Pb,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(_a(p,p.charAt(0)=="/"?KN:WN,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",_a(p,JN)),l.join("")};function $n(l){return new br(l)}function Ll(l,d,p){l.j=p?ma(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Bl(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function xb(l,d,p){d instanceof ya?(l.i=d,YN(l.i,l.h)):(p||(d=_a(d,QN)),l.i=new ya(d,l.h))}function Pe(l,d,p){l.i.set(d,p)}function jl(l){return Pe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ma(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function _a(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,qN),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function qN(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Pb=/[#\/\?@]/g,WN=/[#\?:]/g,KN=/[#\?]/g,QN=/[#\?@]/g,JN=/#/g;function ya(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Ai(l){l.g||(l.g=new Map,l.h=0,l.i&&zN(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=ya.prototype,t.add=function(l,d){Ai(this),this.i=null,l=Is(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function kb(l,d){Ai(l),d=Is(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Fb(l,d){return Ai(l),d=Is(l,d),l.g.has(d)}t.forEach=function(l,d){Ai(this),this.g.forEach(function(p,m){p.forEach(function(C){l.call(d,C,m,this)},this)},this)},t.na=function(){Ai(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let m=0;m<d.length;m++){let C=l[m];for(let M=0;M<C.length;M++)p.push(d[m])}return p},t.V=function(l){Ai(this);let d=[];if(typeof l=="string")Fb(this,l)&&(d=d.concat(this.g.get(Is(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)d=d.concat(l[p])}return d},t.set=function(l,d){return Ai(this),this.i=null,l=Is(this,l),Fb(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Vb(l,d,p){kb(l,d),0<p.length&&(l.i=null,l.g.set(Is(l,d),S(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var m=d[p];let M=encodeURIComponent(String(m)),k=this.V(m);for(m=0;m<k.length;m++){var C=M;k[m]!==""&&(C+="="+encodeURIComponent(String(k[m]))),l.push(C)}}return this.i=l.join("&")};function Is(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function YN(l,d){d&&!l.j&&(Ai(l),l.i=null,l.g.forEach(function(p,m){var C=m.toLowerCase();m!=C&&(kb(this,m),Vb(this,C,p))},l)),l.j=d}function ZN(l,d){let p=new pa;if(a.Image){let m=new Image;m.onload=_(Ri,p,"TestLoadImage: loaded",!0,d,m),m.onerror=_(Ri,p,"TestLoadImage: error",!1,d,m),m.onabort=_(Ri,p,"TestLoadImage: abort",!1,d,m),m.ontimeout=_(Ri,p,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=l}else d(!1)}function XN(l,d){let p=new pa,m=new AbortController,C=setTimeout(()=>{m.abort(),Ri(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:m.signal}).then(M=>{clearTimeout(C),M.ok?Ri(p,"TestPingServer: ok",!0,d):Ri(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Ri(p,"TestPingServer: error",!1,d)})}function Ri(l,d,p,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(p)}catch{}}function eO(){this.g=new FN}function tO(l,d,p){let m=p||"";try{Nb(l,function(C,M){let k=C;u(C)&&(k=dp(C)),d.push(m+M+"="+encodeURIComponent(k))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function va(l){this.l=l.Ub||null,this.j=l.eb||!1}v(va,hp),va.prototype.g=function(){return new Ul(this.l,this.j)},va.prototype.i=function(l){return function(){return l}}({});function Ul(l,d){ht.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ul,ht),t=Ul.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,ba(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lb(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lb(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?wa(this):ba(this),this.readyState==3&&Lb(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,wa(this))},t.Qa=function(l){this.g&&(this.response=l,wa(this))},t.ga=function(){this.g&&wa(this)};function wa(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ba(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join(`\r
`)};function ba(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Bb(l){let d="";return G(l,function(p,m){d+=m,d+=":",d+=p,d+=`\r
`}),d}function Ep(l,d,p){e:{for(m in p){var m=!1;break e}m=!0}m||(p=Bb(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Pe(l,d,p))}function je(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(je,ht);var nO=/^https?$/i,iO=["POST","PUT"];t=je.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,p,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gp.g(),this.v=this.o?pb(this.o):pb(gp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(M){jb(this,M);return}if(l=p||"",p=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)p.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())p.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),C=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iO,d,void 0))||m||C||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,k]of p)this.g.setRequestHeader(M,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hb(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){jb(this,M)}};function jb(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Ub(l),$l(l)}function Ub(l){l.A||(l.A=!0,Dt(l,"complete"),Dt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Dt(this,"complete"),Dt(this,"abort"),$l(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$l(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$b(this):this.bb())},t.bb=function(){$b(this)};function $b(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Hn(l)!=4||l.Z()!=2)){if(l.u&&Hn(l)==4)ub(l.Ea,0,l);else if(Dt(l,"readystatechange"),Hn(l)==4){l.h=!1;try{let k=l.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var m;if(m=k===0){var C=String(l.D).match(Ob)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!nO.test(C?C.toLowerCase():"")}p=m}if(p)Dt(l,"complete"),Dt(l,"success");else{l.m=6;try{var M=2<Hn(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",Ub(l)}}finally{$l(l)}}}}function $l(l,d){if(l.g){Hb(l);let p=l.g,m=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Dt(l,"ready");try{p.onreadystatechange=m}catch{}}}function Hb(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Hn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),kN(d)}};function Gb(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function rO(l){let d={};l=(l.g&&2<=Hn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<l.length;m++){if(F(l[m]))continue;var p=T(l[m]);let C=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let M=d[C]||[];d[C]=M,M.push(p)}I(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function zb(l){this.Aa=0,this.i=[],this.j=new pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,l),this.cb=Ea("retryDelaySeedMs",1e4,l),this.Wa=Ea("forwardChannelMaxRetries",2,l),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Cb(l&&l.concurrentRequestLimit),this.Da=new eO,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zb.prototype,t.la=8,t.G=1,t.connect=function(l,d,p,m){Tt(0),this.W=l,this.H=d||{},p&&m!==void 0&&(this.H.OSID=p,this.H.OAID=m),this.F=this.X,this.I=eE(this,null,this.W),Gl(this)};function Ip(l){if(qb(l),l.G==3){var d=l.U++,p=$n(l.I);if(Pe(p,"SID",l.K),Pe(p,"RID",d),Pe(p,"TYPE","terminate"),Ia(l,p),d=new Si(l,l.j,d),d.L=2,d.v=jl($n(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=tE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Vl(d)}Xb(l)}function Hl(l){l.g&&(Tp(l),l.g.cancel(),l.g=null)}function qb(l){Hl(l),l.u&&(a.clearTimeout(l.u),l.u=null),zl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Gl(l){if(!Sb(l.h)&&!l.s){l.s=!0;var d=l.Ga;oa||rb(),aa||(oa(),aa=!0),np.add(d,l),l.B=0}}function sO(l,d){return Ab(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=fa(g(l.Ga,l,d),Zb(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let C=new Si(this,this.j,l),M=this.o;if(this.S&&(M?(M=y(M),D(M,this.S)):M=this.S),this.m!==null||this.O||(C.H=M,M=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var m=this.i[p];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Kb(this,C,d),p=$n(this.I),Pe(p,"RID",l),Pe(p,"CVER",22),this.D&&Pe(p,"X-HTTP-Session-Id",this.D),Ia(this,p),M&&(this.O?d="headers="+encodeURIComponent(String(Bb(M)))+"&"+d:this.m&&Ep(p,this.m,M)),bp(this.h,C),this.Ua&&Pe(p,"TYPE","init"),this.P?(Pe(p,"$req",d),Pe(p,"SID","null"),C.T=!0,_p(C,p,null)):_p(C,p,d),this.G=2}}else this.G==3&&(l?Wb(this,l):this.i.length==0||Sb(this.h)||Wb(this))};function Wb(l,d){var p;d?p=d.l:p=l.U++;let m=$n(l.I);Pe(m,"SID",l.K),Pe(m,"RID",p),Pe(m,"AID",l.T),Ia(l,m),l.m&&l.o&&Ep(m,l.m,l.o),p=new Si(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Kb(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),bp(l.h,p),_p(p,m,d)}function Ia(l,d){l.H&&G(l.H,function(p,m){Pe(d,m,p)}),l.l&&Nb({},function(p,m){Pe(d,m,p)})}function Kb(l,d,p){p=Math.min(l.i.length,p);var m=l.l?g(l.l.Na,l.l,l):null;e:{var C=l.i;let M=-1;for(;;){let k=["count="+p];M==-1?0<p?(M=C[0].g,k.push("ofs="+M)):M=0:k.push("ofs="+M);let Re=!0;for(let rt=0;rt<p;rt++){let Ie=C[rt].g,ft=C[rt].map;if(Ie-=M,0>Ie)M=Math.max(0,C[rt].g-100),Re=!1;else try{tO(ft,k,"req"+Ie+"_")}catch{m&&m(ft)}}if(Re){m=k.join("&");break e}}}return l=l.i.splice(0,p),d.D=l,m}function Qb(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;oa||rb(),aa||(oa(),aa=!0),np.add(d,l),l.v=0}}function Dp(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=fa(g(l.Fa,l),Zb(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Jb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=fa(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Hl(this),Jb(this))};function Tp(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Jb(l){l.g=new Si(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=$n(l.qa);Pe(d,"RID","rpc"),Pe(d,"SID",l.K),Pe(d,"AID",l.T),Pe(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Pe(d,"TO",l.ja),Pe(d,"TYPE","xmlhttp"),Ia(l,d),l.m&&l.o&&Ep(d,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=jl($n(d)),p.m=null,p.P=!0,Ib(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Hl(this),Dp(this),Tt(19))};function zl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Yb(l,d){var p=null;if(l.g==d){zl(l),Tp(l),l.g=null;var m=2}else if(wp(l.h,d))p=d.D,Rb(l.h,d),m=1;else return;if(l.G!=0){if(d.o)if(m==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var C=l.B;m=Pl(),Dt(m,new vb(m,p)),Gl(l)}else Qb(l);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&sO(l,d)||m==2&&Dp(l)))switch(p&&0<p.length&&(d=l.h,d.i=d.i.concat(p)),C){case 1:Er(l,5);break;case 4:Er(l,10);break;case 3:Er(l,6);break;default:Er(l,2)}}}function Zb(l,d){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*d}function Er(l,d){if(l.j.info("Error code "+d),d==2){var p=g(l.fb,l),m=l.Xa;let C=!m;m=new br(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ll(m,"https"),jl(m),C?ZN(m.toString(),p):XN(m.toString(),p)}else Tt(2);l.G=0,l.l&&l.l.sa(d),Xb(l),qb(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Xb(l){if(l.G=0,l.ka=[],l.l){let d=Mb(l.h);(d.length!=0||l.i.length!=0)&&(A(l.ka,d),A(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function eE(l,d,p){var m=p instanceof br?$n(p):new br(p);if(m.g!="")d&&(m.g=d+"."+m.g),Bl(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var M=new br(null);m&&Ll(M,m),d&&(M.g=d),C&&Bl(M,C),p&&(M.l=p),m=M}return p=l.D,d=l.ya,p&&d&&Pe(m,p,d),Pe(m,"VER",l.la),Ia(l,m),m}function tE(l,d,p){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new je(new va({eb:p})):new je(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nE(){}t=nE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ql(){}ql.prototype.g=function(l,d){return new Lt(l,d)};function Lt(l,d){ht.call(this),this.g=new zb(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!F(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!F(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Ds(this)}v(Lt,ht),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Ip(this.g)},Lt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=dp(l),l=p);d.i.push(new $N(d.Ya++,l)),d.G==3&&Gl(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Ip(this.g),delete this.g,Lt.aa.N.call(this)};function iE(l){fp.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}v(iE,fp);function rE(){pp.call(this),this.status=1}v(rE,pp);function Ds(l){this.g=l}v(Ds,nE),Ds.prototype.ua=function(){Dt(this.g,"a")},Ds.prototype.ta=function(l){Dt(this.g,new iE(l))},Ds.prototype.sa=function(l){Dt(this.g,new rE)},Ds.prototype.ra=function(){Dt(this.g,"b")},ql.prototype.createWebChannel=ql.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,Fv=bi.createWebChannelTransport=function(){return new ql},kv=bi.getStatEventTarget=function(){return Pl()},Pv=bi.Event=vr,Qh=bi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kl.NO_ERROR=0,kl.TIMEOUT=8,kl.HTTP_ERROR=6,el=bi.ErrorCode=kl,wb.COMPLETE="complete",xv=bi.EventType=wb,gb.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Oo=bi.WebChannel=gb,I3=bi.FetchXmlHttpFactory=va,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,Ov=bi.XhrIo=je}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});var jA="@firebase/firestore";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var Zo="10.14.0";var hs=new ir("@firebase/firestore");function tl(){return hs.logLevel}function $(t,...e){if(hs.logLevel<=_e.DEBUG){let n=e.map(ww);hs.debug(`Firestore (${Zo}): ${t}`,...n)}}function Ei(t,...e){if(hs.logLevel<=_e.ERROR){let n=e.map(ww);hs.error(`Firestore (${Zo}): ${t}`,...n)}}function Bo(t,...e){if(hs.logLevel<=_e.WARN){let n=e.map(ww);hs.warn(`Firestore (${Zo}): ${t}`,...n)}}function ww(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+t;throw Ei(e),new Error(e)}function Ae(t,e){t||ne()}function se(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends $t{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Fn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ef=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Uv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}},$v=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Hv=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0);let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new Fn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ae(typeof i.accessToken=="string"),new ef(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new it(e)}},Gv=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},zv=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Gv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},qv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Wv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ae(this.o===void 0);let i=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new qv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function D3(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var tf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=D3(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function De(t,e){return t<e?-1:t>e?1:0}function jo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var ut=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ut(0,0))}static max(){return new t(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var nf=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&ne(),i===void 0?i=e.length-n:i>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Be=class t extends nf{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new B(x.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},T3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gt=class t extends nf{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return T3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new B(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new B(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new B(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new B(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var K=class t{constructor(e){this.path=e}static fromPath(e){return new t(Be.fromString(e))}static fromName(e){return new t(Be.fromString(e).popFirst(5))}static empty(){return new t(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Be(e.slice()))}};var Kv=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};Kv.UNKNOWN_ID=-1;function C3(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ae.fromTimestamp(i===1e9?new ut(n+1,0):new ut(n,i));return new fs(r,K.empty(),e)}function S3(t){return new fs(t.readTime,t.key,-1)}var fs=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(ae.min(),K.empty(),-1)}static max(){return new t(ae.max(),K.empty(),-1)}};function A3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}var R3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function vl(t){return E(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==R3)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(h=>{o[u]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};function M3(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}var bR=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function xf(t){return t==null}function al(t){return t===0&&1/t==-1/0}function N3(t){return typeof t=="number"&&Number.isInteger(t)&&!al(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var O3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SZ=[...O3,"documentOverlays"],x3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],P3=x3,k3=[...P3,"indexConfiguration","indexState","indexEntries"];var AZ=[...k3,"globals"];function UA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ER(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ge=class t{constructor(e,n){this.comparator=e,this.root=n||Vn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fo(this.root,e,this.comparator,!0)}},Fo=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Vn=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Et=class t{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rf(this.data.getIterator())}getIteratorFrom(e){return new rf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},rf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kn=class t{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Et(Gt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var sf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var It=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sf("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};It.EMPTY_BYTE_STRING=new It("");var F3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(t){if(Ae(!!t),typeof t=="string"){let e=0,n=F3.exec(t);if(Ae(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pr(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}function bw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ew(t){let e=t.mapValue.fields.__previous_value__;return bw(e)?Ew(e):e}function cl(t){let e=Ii(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}var Jv=class{constructor(e,n,i,r,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},of=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Jh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bw(t)?4:DR(t)?9007199254740991:IR(t)?10:11:ne()}function jn(t,e){if(t===e)return!0;let n=ps(t);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cl(t).isEqual(cl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Ii(r.timestampValue),a=Ii(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return pr(r.bytesValue).isEqual(pr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ve(r.geoPointValue.latitude)===Ve(s.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ve(r.integerValue)===Ve(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Ve(r.doubleValue),a=Ve(s.doubleValue);return o===a?al(o)===al(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(UA(o)!==UA(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!jn(o[c],a[c])))return!1;return!0}(t,e);default:return ne()}}function ll(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function Uo(t,e){if(t===e)return 0;let n=ps(t),i=ps(e);if(n!==i)return De(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ve(s.integerValue||s.doubleValue),c=Ve(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return $A(t.timestampValue,e.timestampValue);case 4:return $A(cl(t),cl(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(s,o){let a=pr(s),c=pr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let h=De(a[u],c[u]);if(h!==0)return h}return De(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=De(Ve(s.latitude),Ve(o.latitude));return a!==0?a:De(Ve(s.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HA(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,h;let f=s.fields||{},g=o.fields||{},_=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(c=g.value)===null||c===void 0?void 0:c.arrayValue,S=De(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((h=v?.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:HA(_,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Jh.mapValue&&o===Jh.mapValue)return 0;if(s===Jh.mapValue)return 1;if(o===Jh.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){let g=De(c[f],h[f]);if(g!==0)return g;let _=Uo(a[c[f]],u[h[f]]);if(_!==0)return _}return De(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function $A(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let n=Ii(t),i=Ii(e),r=De(n.seconds,i.seconds);return r!==0?r:De(n.nanos,i.nanos)}function HA(t,e){let n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){let s=Uo(n[r],i[r]);if(s)return s}return De(n.length,i.length)}function $o(t){return Yv(t)}function Yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Ii(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=Yv(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${Yv(n.fields[o])}`;return r+"}"}(t.mapValue):ne()}function GA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zv(t){return!!t&&"integerValue"in t}function Iw(t){return!!t&&"arrayValue"in t}function zA(t){return!!t&&"nullValue"in t}function qA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zh(t){return!!t&&"mapValue"in t}function IR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=il(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var dn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=Gt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=il(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());Zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Zh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Xo(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(il(this.value))}};function TR(t){let e=[];return Xo(t.fields,(n,i)=>{let r=new Gt([n]);if(Zh(i)){let s=TR(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new kn(e)}var hn=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ae.min(),ae.min(),ae.min(),dn.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,ae.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,ae.min(),ae.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ae.min(),ae.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ho=class{constructor(e,n){this.position=e,this.inclusive=n}};function WA(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=K.comparator(K.fromName(o.referenceValue),n.key):i=Uo(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function KA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}var Go=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function V3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var af=class{},Ke=class t extends af{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new e0(e,n,i):n==="array-contains"?new i0(e,i):n==="in"?new r0(e,i):n==="not-in"?new s0(e,i):n==="array-contains-any"?new o0(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new t0(e,i):new n0(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Uo(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fn=class t extends af{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return CR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function CR(t){return t.op==="and"}function SR(t){return L3(t)&&CR(t)}function L3(t){for(let e of t.filters)if(e instanceof fn)return!1;return!0}function Xv(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(SR(t))return t.filters.map(e=>Xv(e)).join(",");{let e=t.filters.map(n=>Xv(n)).join(",");return`${t.op}(${e})`}}function AR(t,e){return t instanceof Ke?function(i,r){return r instanceof Ke&&i.op===r.op&&i.field.isEqual(r.field)&&jn(i.value,r.value)}(t,e):t instanceof fn?function(i,r){return r instanceof fn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&AR(o,r.filters[a]),!0):!1}(t,e):void ne()}function RR(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(RR).join(" ,")+"}"}(t):"Filter"}var e0=class extends Ke{constructor(e,n,i){super(e,n,i),this.key=K.fromName(i.referenceValue)}matches(e){let n=K.comparator(e.key,this.key);return this.matchesComparison(n)}},t0=class extends Ke{constructor(e,n){super(e,"in",n),this.keys=MR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},n0=class extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=MR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function MR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>K.fromName(i.referenceValue))}var i0=class extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Iw(n)&&ll(n.arrayValue,this.value)}},r0=class extends Ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ll(this.value.arrayValue,n)}},s0=class extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ll(this.value.arrayValue,n)}},o0=class extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Iw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ll(this.value.arrayValue,i))}};var a0=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function QA(t,e=null,n=[],i=[],r=null,s=null,o=null){return new a0(t,e,n,i,r,s,o)}function Dw(t){let e=se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Xv(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$o(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$o(i)).join(",")),e.ue=n}return e.ue}function Tw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KA(t.startAt,e.startAt)&&KA(t.endAt,e.endAt)}function c0(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var gs=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function B3(t,e,n,i,r,s,o,a){return new gs(t,e,n,i,r,s,o,a)}function Pf(t){return new gs(t)}function JA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NR(t){return t.collectionGroup!==null}function rl(t){let e=se(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(Gt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Go(s,i))}),n.has(Gt.keyField().canonicalString())||e.ce.push(new Go(Gt.keyField(),i))}return e.ce}function Ln(t){let e=se(t);return e.le||(e.le=j3(e,rl(t))),e.le}function j3(t,e){if(t.limitType==="F")return QA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Go(r.field,s)});let n=t.endAt?new Ho(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ho(t.startAt.position,t.startAt.inclusive):null;return QA(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function l0(t,e){let n=t.filters.concat([e]);return new gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function u0(t,e,n){return new gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kf(t,e){return Tw(Ln(t),Ln(e))&&t.limitType===e.limitType}function OR(t){return`${Dw(Ln(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>RR(r)).join(", ")}]`),xf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$o(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$o(r)).join(",")),`Target(${i})`}(Ln(t))}; limitType=${t.limitType})`}function Ff(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):K.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of rl(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let u=WA(o,a,c);return o.inclusive?u<=0:u<0}(i.startAt,rl(i),r)||i.endAt&&!function(o,a,c){let u=WA(o,a,c);return o.inclusive?u>=0:u>0}(i.endAt,rl(i),r))}(t,e)}function U3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xR(t){return(e,n)=>{let i=!1;for(let r of rl(t)){let s=$3(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function $3(t,e,n){let i=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Uo(c,u):ne()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ne()}}var gr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return ER(this.inner)}size(){return this.innerSize}};var H3=new Ge(K.comparator);function Di(){return H3}var PR=new Ge(K.comparator);function nl(...t){let e=PR;for(let n of t)e=e.insert(n.key,n);return e}function kR(t){let e=PR;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function cs(){return sl()}function FR(){return sl()}function sl(){return new gr(t=>t.toString(),(t,e)=>t.isEqual(e))}var G3=new Ge(K.comparator),z3=new Et(K.comparator);function ye(...t){let e=z3;for(let n of t)e=e.add(n);return e}var q3=new Et(De);function W3(){return q3}function Cw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:al(e)?"-0":e}}function VR(t){return{integerValue:""+t}}function K3(t,e){return N3(e)?VR(e):Cw(t,e)}var zo=class{constructor(){this._=void 0}};function Q3(t,e,n){return t instanceof qo?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&bw(s)&&(s=Ew(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ms?BR(t,e):t instanceof _s?jR(t,e):function(r,s){let o=LR(r,s),a=YA(o)+YA(r.Pe);return Zv(o)&&Zv(r.Pe)?VR(a):Cw(r.serializer,a)}(t,e)}function J3(t,e,n){return t instanceof ms?BR(t,e):t instanceof _s?jR(t,e):n}function LR(t,e){return t instanceof Wo?function(i){return Zv(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var qo=class extends zo{},ms=class extends zo{constructor(e){super(),this.elements=e}};function BR(t,e){let n=UR(e);for(let i of t.elements)n.some(r=>jn(r,i))||n.push(i);return{arrayValue:{values:n}}}var _s=class extends zo{constructor(e){super(),this.elements=e}};function jR(t,e){let n=UR(e);for(let i of t.elements)n=n.filter(r=>!jn(r,i));return{arrayValue:{values:n}}}var Wo=class extends zo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function YA(t){return Ve(t.integerValue||t.doubleValue)}function UR(t){return Iw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Y3(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof ms&&r instanceof ms||i instanceof _s&&r instanceof _s?jo(i.elements,r.elements,jn):i instanceof Wo&&r instanceof Wo?jn(i.Pe,r.Pe):i instanceof qo&&r instanceof qo}(t.transform,e.transform)}var d0=class{constructor(e,n){this.version=e,this.transformResults=n}},ds=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ko=class{};function $R(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cf(t.key,ds.none()):new ys(t.key,t.data,ds.none());{let n=t.data,i=dn.empty(),r=new Et(Gt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Ti(t.key,i,new kn(r.toArray()),ds.none())}}function Z3(t,e,n){t instanceof ys?function(r,s,o){let a=r.value.clone(),c=XA(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ti?function(r,s,o){if(!Xh(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=XA(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(HR(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ol(t,e,n,i){return t instanceof ys?function(s,o,a,c){if(!Xh(s.precondition,o))return a;let u=s.value.clone(),h=eR(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ti?function(s,o,a,c){if(!Xh(s.precondition,o))return a;let u=eR(s.fieldTransforms,c,o),h=o.data;return h.setAll(HR(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return Xh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function X3(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=LR(i.transform,r||null);s!=null&&(n===null&&(n=dn.empty()),n.set(i.field,s))}return n||null}function ZA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&jo(i,r,(s,o)=>Y3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ys=class extends Ko{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Ti=class extends Ko{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function HR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function XA(t,e,n){let i=new Map;Ae(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,J3(o,a,n[r]))}return i}function eR(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,Q3(s,o,e))}return i}var cf=class extends Ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},h0=class extends Ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var f0=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&Z3(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=ol(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=ol(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=FR();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=$R(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(ae.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,i)=>ZA(n,i))&&jo(this.baseMutations,e.baseMutations,(n,i)=>ZA(n,i))}},p0=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ae(e.mutations.length===i.length);let r=function(){return G3}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var g0=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var m0=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var qe,be;function e4(t){switch(t){default:return ne();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function GR(t){if(t===void 0)return Ei("GRPC error has no .code"),x.UNKNOWN;switch(t){case qe.OK:return x.OK;case qe.CANCELLED:return x.CANCELLED;case qe.UNKNOWN:return x.UNKNOWN;case qe.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case qe.INTERNAL:return x.INTERNAL;case qe.UNAVAILABLE:return x.UNAVAILABLE;case qe.UNAUTHENTICATED:return x.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case qe.NOT_FOUND:return x.NOT_FOUND;case qe.ALREADY_EXISTS:return x.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return x.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case qe.ABORTED:return x.ABORTED;case qe.OUT_OF_RANGE:return x.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return x.UNIMPLEMENTED;case qe.DATA_LOSS:return x.DATA_LOSS;default:return ne()}}(be=qe||(qe={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var tR=null;function t4(){return new TextEncoder}var n4=new dr([4294967295,4294967295],0);function nR(t){let e=t4().encode(t),n=new Nv;return n.update(e),new Uint8Array(n.digest())}function iR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new dr([n,i],0),new dr([r,s],0)]}var _0=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ls(`Invalid padding: ${n}`);if(i<0)throw new ls(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ls(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ls(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=dr.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(dr.fromNumber(i)));return r.compare(n4)===1&&(r=new dr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=nR(e),[i,r]=iR(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=nR(e),[i,r]=iR(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},ls=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var lf=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,ul.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(ae.min(),r,new Ge(De),Di(),ye())}},ul=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,ye(),ye(),ye())}};var Vo=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},uf=class{constructor(e,n){this.targetId=e,this.me=n}},df=class{constructor(e,n,i=It.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},hf=class{constructor(){this.fe=0,this.ge=sR(),this.pe=It.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ye(),n=ye(),i=ye();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ne()}}),new ul(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=sR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},y0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Di(),this.qe=rR(),this.Qe=new Ge(De)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(c0(s))if(i===0){let o=new K(s.path);this.Ue(n,o,hn.newNoDocument(o,ae.min()))}else Ae(i===1);else{let o=this.Ye(n);if(o!==i){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}tR?.et(function(h,f,g,_,v){var S,A,O,F,L,q;let he={localCacheCount:h,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},G=f.unchangedNames;return G&&(he.bloomFilter={applied:v===0,hashCount:(S=G?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(F=(O=(A=G?.bits)===null||A===void 0?void 0:A.bitmap)===null||O===void 0?void 0:O.length)!==null&&F!==void 0?F:0,padding:(q=(L=G?.bits)===null||L===void 0?void 0:L.padding)!==null&&q!==void 0?q:0,mightContain:I=>{var y;return(y=_?.mightContain(I))!==null&&y!==void 0&&y}}),he}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=pr(i).toUint8Array()}catch(c){if(c instanceof sf)return Bo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new _0(o,r,s)}catch(c){return Bo(c instanceof ls?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&c0(a.target)){let c=new K(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,hn.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=ye();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new lf(e,n,this.Qe,this.ke,i);return this.ke=Di(),this.qe=rR(),this.Qe=new Ge(De),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new hf,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Et(De),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function rR(){return new Ge(K.comparator)}function sR(){return new Ge(K.comparator)}var i4={asc:"ASCENDING",desc:"DESCENDING"},r4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s4={and:"AND",or:"OR"},v0=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function w0(t,e){return t.useProto3Json||xf(e)?e:{value:e}}function ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o4(t,e){return ff(t,e.toTimestamp())}function Bn(t){return Ae(!!t),ae.fromTimestamp(function(n){let i=Ii(n);return new ut(i.seconds,i.nanos)}(t))}function Sw(t,e){return b0(t,e).canonicalString()}function b0(t,e){let n=function(r){return new Be(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qR(t){let e=Be.fromString(t);return Ae(YR(e)),e}function E0(t,e){return Sw(t.databaseId,e.path)}function Vv(t,e){let n=qR(e);if(n.get(1)!==t.databaseId.projectId)throw new B(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(KR(n))}function WR(t,e){return Sw(t.databaseId,e)}function a4(t){let e=qR(t);return e.length===4?Be.emptyPath():KR(e)}function I0(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KR(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oR(t,e,n){return{name:E0(t,e),fields:n.value.mapValue.fields}}function c4(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Ae(h===void 0||typeof h=="string"),It.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array),It.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let h=u.code===void 0?x.UNKNOWN:GR(u.code);return new B(h,u.message||"")}(o);n=new df(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Vv(t,i.document.name),s=Bn(i.document.updateTime),o=i.document.createTime?Bn(i.document.createTime):ae.min(),a=new dn({mapValue:{fields:i.document.fields}}),c=hn.newFoundDocument(r,s,o,a),u=i.targetIds||[],h=i.removedTargetIds||[];n=new Vo(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Vv(t,i.document),s=i.readTime?Bn(i.readTime):ae.min(),o=hn.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Vo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Vv(t,i.document),s=i.removedTargetIds||[];n=new Vo([],s,r,null)}else{if(!("filter"in e))return ne();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new m0(r,s),a=i.targetId;n=new uf(a,o)}}return n}function l4(t,e){let n;if(e instanceof ys)n={update:oR(t,e.key,e.value)};else if(e instanceof cf)n={delete:E0(t,e.key)};else if(e instanceof Ti)n={update:oR(t,e.key,e.data),updateMask:y4(e.fieldMask)};else{if(!(e instanceof h0))return ne();n={verify:E0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof qo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ms)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _s)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ne()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:o4(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(t,e.precondition)),n}function u4(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Bn(r.updateTime):Bn(s);return o.isEqual(ae.min())&&(o=Bn(s)),new d0(o,r.transformResults||[])}(n,e))):[]}function d4(t,e){return{documents:[WR(t,e.path)]}}function h4(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=WR(t,r);let s=function(u){if(u.length!==0)return JR(fn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:Po(g.field),direction:g4(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=w0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function f4(t){let e=a4(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Ae(i===1);let h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){let g=QR(f);return g instanceof fn&&SR(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(v){return new Go(ko(v.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,xf(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(f){let g=!!f.before,_=f.values||[];return new Ho(_,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let g=!f.before,_=f.values||[];return new Ho(_,g)}(n.endAt)),B3(e,r,o,s,a,"F",c,u)}function p4(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=ko(n.unaryFilter.field);return Ke.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=ko(n.unaryFilter.field);return Ke.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ko(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ko(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(ko(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(i=>QR(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function g4(t){return i4[t]}function m4(t){return r4[t]}function _4(t){return s4[t]}function Po(t){return{fieldPath:t.canonicalString()}}function ko(t){return Gt.fromServerFormat(t.fieldPath)}function JR(t){return t instanceof Ke?function(n){if(n.op==="=="){if(qA(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(zA(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qA(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(zA(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:m4(n.op),value:n.value}}}(t):t instanceof fn?function(n){let i=n.getFilters().map(r=>JR(r));return i.length===1?i[0]:{compositeFilter:{op:_4(n.op),filters:i}}}(t):ne()}function y4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var dl=class t{constructor(e,n,i,r,s=ae.min(),o=ae.min(),a=It.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var D0=class{constructor(e){this.ct=e}};function v4(t){let e=f4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?u0(e,e.limit,"L"):e}var pf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ve(e.integerValue));else if("doubleValue"in e){let i=Ve(e.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),al(i)?n.At(0):n.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(n,20),typeof i=="string"&&(i=Ii(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(pr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in e?DR(e)?this.dt(n,Number.MAX_SAFE_INTEGER):IR(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let i=e.fields||{};this.dt(n,55);for(let r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}wt(e,n){var i,r;let s=e.fields||{};this.dt(n,53);let o="value",a=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(n,15),n.At(Ve(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let i=e.values||[];this.dt(n,50);for(let r of i)this.Tt(r,n)}yt(e,n){this.dt(n,37),K.fromName(e).path.forEach(i=>{this.dt(n,60),this.Dt(i,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};pf.vt=new pf;var T0=class{constructor(){this.un=new C0}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(fs.min())}updateCollectionGroup(e,n,i){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},C0=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Et(Be.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Et(Be.comparator)).toArray()}};var MZ=new Uint8Array(0);var Pn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);var hl=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var S0=class{constructor(){this.changes=new gr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?P.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var A0=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var R0=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&ol(i.mutation,r,kn.empty(),ut.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ye()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ye()){let r=cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=nl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ye()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Di(),o=sl(),a=function(){return sl()}();return n.forEach((c,u)=>{let h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof Ti)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),ol(h.mutation,u,h.mutation.getFieldMask(),ut.now())):o.set(u.key,kn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new A0(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let i=sl(),r=new Ge((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let h=i.get(c)||kn.empty();h=a.applyToLocalView(u,h),i.set(c,h);let f=(r.get(a.batchId)||ye()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,h=c.value,f=FR();h.forEach(g=>{if(!s.has(g)){let _=$R(n.get(g),i.get(g));_!==null&&f.set(g,_),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return P.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):P.resolve(cs()),a=-1,c=s;return o.next(u=>P.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ye())).next(h=>({batchId:a,changes:kR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(i=>{let r=nl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=nl();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,c=>{let u=function(f,g){return new gs(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,u)=>{let h=u.getKey();o.get(h)===null&&(o=o.insert(h,hn.newInvalidDocument(h)))});let a=nl();return o.forEach((c,u)=>{let h=s.get(c);h!==void 0&&ol(h.mutation,u,kn.empty(),ut.now()),Ff(n,u)&&(a=a.insert(c,u))}),a})}};var M0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Bn(r.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:v4(r.bundledQuery),readTime:Bn(r.readTime)}}(n)),P.resolve()}};var N0=class{constructor(){this.overlays=new Ge(K.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let i=cs();return P.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),P.resolve()}getOverlaysForCollection(e,n,i){let r=cs(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return P.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ge((u,h)=>u-h),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let h=s.get(u.largestBatchId);h===null&&(h=cs(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=cs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return P.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new g0(n,i));let s=this.Ir.get(n);s===void 0&&(s=ye(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}};var O0=class{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var fl=class{constructor(){this.Tr=new Et(We.Er),this.dr=new Et(We.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let i=new We(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new We(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){let n=new K(new Be([])),i=new We(n,e),r=new We(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new K(new Be([])),i=new We(n,e),r=new We(n,e+1),s=ye();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new We(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},We=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||K.comparator(e.key,n.key)}};var x0=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Et(We.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new f0(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.br=this.br.add(new We(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.vr(i),s=r<0?0:r;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new We(n,0),r=new We(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Et(De);return n.forEach(r=>{let s=new We(r,0),o=new We(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),P.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;K.isDocumentKey(s)||(s=s.child(""));let o=new We(new K(s),0),a=new Et(De);return this.br.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return P.forEach(n.mutations,r=>{let s=new We(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){let i=new We(n,0),r=this.br.firstAfterOrEqual(i);return P.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var P0=class{constructor(e){this.Mr=e,this.docs=function(){return new Ge(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return P.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let i=Di();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():hn.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Di(),o=n.path,a=new K(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||A3(S3(h),i)<=0||(r.has(h.key)||Ff(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ne()}Or(e,n){return P.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new k0(this)}getSize(e){return P.resolve(this.size)}},k0=class extends S0{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var F0=class{constructor(e){this.persistence=e,this.Nr=new gr(n=>Dw(n),Tw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fl,this.targetCount=0,this.kr=hl.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),P.waitFor(s).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let i=this.Nr.get(n)||null;return P.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),P.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Br.yr(n);return P.resolve(i)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var V0=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new bR(0),this.Kr=!1,this.Kr=!0,this.$r=new O0,this.referenceDelegate=e(this),this.Ur=new F0(this),this.indexManager=new T0,this.remoteDocumentCache=function(r){return new P0(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new D0(n),this.Gr=new M0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new x0(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){$("MemoryPersistence","Starting transaction:",e);let r=new L0(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}},L0=class extends Qv{constructor(e){super(),this.currentSequenceNumber=e}},B0=class t{constructor(e){this.persistence=e,this.Jr=new fl,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),P.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,i=>{let r=K.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var j0=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=ye(),r=ye();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var U0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var $0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return wS()?8:M3(nt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new U0;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(tl()<=_e.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(tl()<=_e.DEBUG&&$("QueryEngine","Query:",xo(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(tl()<=_e.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):P.resolve())}Yi(e,n){if(JA(n))return P.resolve(null);let i=Ln(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=u0(n,null,"F"),i=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=ye(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.ts(n,a);return this.ns(n,u,o,c.readTime)?this.Yi(e,u0(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,i,r){return JA(n)||r.isEqual(ae.min())?P.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(n,s);return this.ns(n,o,i,r)?P.resolve(null):(tl()<=_e.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xo(n)),this.rs(e,o,n,C3(r,-1)).next(a=>a))})}ts(e,n){let i=new Et(xR(e));return n.forEach((r,s)=>{Ff(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return tl()<=_e.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",xo(n)),this.Ji.getDocumentsMatchingQuery(e,n,fs.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var H0=class{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new Ge(De),this._s=new gr(s=>Dw(s),Tw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function w4(t,e,n,i){return new H0(t,e,n,i)}function ZR(t,e){return E(this,null,function*(){let n=se(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=ye();for(let u of r){o.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}for(let u of s){a.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(i,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function b4(t,e){let n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){let f=u.batch,g=f.keys(),_=P.resolve();return g.forEach(v=>{_=_.next(()=>h.getEntry(c,v)).next(S=>{let A=u.docVersions.get(v);Ae(A!==null),S.version.compareTo(A)<0&&(f.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),h.addEntry(S)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=ye();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function XR(t){let e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function E4(t,e){let n=se(t),i=e.snapshotVersion,r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;let a=[];e.targetChanges.forEach((h,f)=>{let g=r.get(f);if(!g)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,f)));let _=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(It.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,i)),r=r.insert(f,_),function(S,A,O){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(g,_,h)&&a.push(n.Ur.updateTargetData(s,_))});let c=Di(),u=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(I4(s,o,e.documentUpdates).next(h=>{c=h.Ps,u=h.Is})),!i.isEqual(ae.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=r,s))}function I4(t,e,n){let i=ye(),r=ye();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Di();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:r}})}function D4(t,e){let n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function T4(t,e){let n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(s=>s?(r=s,P.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new dl(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}function G0(t,e,n){return E(this,null,function*(){let i=se(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!wl(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function aR(t,e,n){let i=se(t),r=ae.min(),s=ye();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){let f=se(c),g=f._s.get(h);return g!==void 0?P.resolve(f.os.get(g)):f.Ur.getTargetData(u,h)}(i,o,Ln(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:ae.min(),n?s:ye())).next(a=>(C4(i,U3(e),a),{documents:a,Ts:s})))}function C4(t,e,n){let i=t.us.get(e)||ae.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.us.set(e,i)}var gf=class{constructor(){this.activeTargetIds=W3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var z0=class{constructor(){this.so=new gf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new gf,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var q0=class{_o(e){}shutdown(){}};var mf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Yh=null;function Lv(){return Yh===null?Yh=function(){return 268435456+Math.round(2147483648*Math.random())}():Yh++,"0x"+Yh.toString(16)}var S4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var W0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var bt="WebChannelConnection",K0=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){let a=Lv(),c=this.xo(n,i.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,r).then(h=>($("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Bo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){let r=S4[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){let s=Lv();return new Promise((o,a)=>{let c=new Ov;c.setWithCredentials(!0),c.listenOnce(xv.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case el.NO_ERROR:let h=c.getResponseJson();$(bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case el.TIMEOUT:$(bt,`RPC '${e}' ${s} timed out`),a(new B(x.DEADLINE_EXCEEDED,"Request time out"));break;case el.HTTP_ERROR:let f=c.getStatus();if($(bt,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let _=g?.error;if(_&&_.status&&_.message){let v=function(A){let O=A.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(O)>=0?O:x.UNKNOWN}(_.status);a(new B(v,_.message))}else a(new B(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new B(x.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{$(bt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);$(bt,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",u,i,15)})}Bo(e,n,i){let r=Lv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Fv(),a=kv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let h=s.join("");$(bt,`Creating RPC '${e}' stream ${r}: ${h}`,c);let f=o.createWebChannel(h,c),g=!1,_=!1,v=new W0({Io:A=>{_?$(bt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(g||($(bt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),g=!0),$(bt,`RPC '${e}' stream ${r} sending:`,A),f.send(A))},To:()=>f.close()}),S=(A,O,F)=>{A.listen(O,L=>{try{F(L)}catch(q){setTimeout(()=>{throw q},0)}})};return S(f,Oo.EventType.OPEN,()=>{_||($(bt,`RPC '${e}' stream ${r} transport opened.`),v.yo())}),S(f,Oo.EventType.CLOSE,()=>{_||(_=!0,$(bt,`RPC '${e}' stream ${r} transport closed`),v.So())}),S(f,Oo.EventType.ERROR,A=>{_||(_=!0,Bo(bt,`RPC '${e}' stream ${r} transport errored:`,A),v.So(new B(x.UNAVAILABLE,"The operation could not be completed")))}),S(f,Oo.EventType.MESSAGE,A=>{var O;if(!_){let F=A.data[0];Ae(!!F);let L=F,q=L.error||((O=L[0])===null||O===void 0?void 0:O.error);if(q){$(bt,`RPC '${e}' stream ${r} received error:`,q);let he=q.status,G=function(w){let D=qe[w];if(D!==void 0)return GR(D)}(he),I=q.message;G===void 0&&(G=x.INTERNAL,I="Unknown error status: "+he+" with message "+q.message),_=!0,v.So(new B(G,I)),f.close()}else $(bt,`RPC '${e}' stream ${r} received:`,F),v.bo(F)}}),S(a,Pv.STAT_EVENT,A=>{A.stat===Qh.PROXY?$(bt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===Qh.NOPROXY&&$(bt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}};function Bv(){return typeof document<"u"?document:null}function Vf(t){return new v0(t,!0)}var _f=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var yf=class{constructor(e,n,i,r,s,o,a,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _f(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{let r=new B(x.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){let i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Q0=class extends yf{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=c4(this.serializer,e),i=function(s){if(!("targetChange"in s))return ae.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Bn(o.readTime):ae.min()}(e);return this.listener.d_(n,i)}A_(e){let n={};n.database=I0(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=c0(c)?{documents:d4(s,c)}:{query:h4(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zR(s,o.resumeToken);let u=w0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=ff(s,o.snapshotVersion.toTimestamp());let u=w0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=p4(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){let n={};n.database=I0(this.serializer),n.removeTarget=e,this.a_(n)}},J0=class extends yf{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=u4(e.writeResults,e.commitTime),i=Bn(e.commitTime);return this.listener.g_(i,n)}p_(){let e={};e.database=I0(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>l4(this.serializer,i))};this.a_(n)}};var Y0=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new B(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,b0(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(x.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,b0(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(x.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Z0=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ei(n),this.D_=!1):$("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var X0=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>E(this,null,function*(){ws(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(c){return E(this,null,function*(){let u=se(c);u.L_.add(4),yield bl(u),u.q_.set("Unknown"),u.L_.delete(4),yield Lf(u)})}(this))}))}),this.q_=new Z0(i,r)}};function Lf(t){return E(this,null,function*(){if(ws(t))for(let e of t.B_)yield e(!0)})}function bl(t){return E(this,null,function*(){for(let e of t.B_)yield e(!1)})}function eM(t,e){let n=se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Nw(n)?Mw(n):ea(n).r_()&&Rw(n,e))}function Aw(t,e){let n=se(t),i=ea(n);n.N_.delete(e),i.r_()&&tM(n,e),n.N_.size===0&&(i.r_()?i.o_():ws(n)&&n.q_.set("Unknown"))}function Rw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ea(t).A_(e)}function tM(t,e){t.Q_.xe(e),ea(t).R_(e)}function Mw(t){t.Q_=new y0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ea(t).start(),t.q_.v_()}function Nw(t){return ws(t)&&!ea(t).n_()&&t.N_.size>0}function ws(t){return se(t).L_.size===0}function nM(t){t.Q_=void 0}function A4(t){return E(this,null,function*(){t.q_.set("Online")})}function R4(t){return E(this,null,function*(){t.N_.forEach((e,n)=>{Rw(t,e)})})}function M4(t,e){return E(this,null,function*(){nM(t),Nw(t)?(t.q_.M_(e),Mw(t)):t.q_.set("Unknown")})}function N4(t,e,n){return E(this,null,function*(){if(t.q_.set("Online"),e instanceof df&&e.state===2&&e.cause)try{yield function(r,s){return E(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))})}(t,e)}catch(i){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield vf(t,i)}else if(e instanceof Vo?t.Q_.Ke(e):e instanceof uf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{let i=yield XR(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let h=s.N_.get(c);if(!h)return;s.N_.set(c,h.withResumeToken(It.EMPTY_BYTE_STRING,h.snapshotVersion)),tM(s,c);let f=new dl(h.target,c,u,h.sequenceNumber);Rw(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){$("RemoteStore","Failed to raise snapshot:",i),yield vf(t,i)}})}function vf(t,e,n){return E(this,null,function*(){if(!wl(e))throw e;t.L_.add(1),yield bl(t),t.q_.set("Offline"),n||(n=()=>XR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Lf(t)}))})}function iM(t,e){return e().catch(n=>vf(t,n,e))}function Bf(t){return E(this,null,function*(){let e=se(t),n=mr(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;O4(e);)try{let r=yield D4(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,x4(e,r)}catch(r){yield vf(e,r)}rM(e)&&sM(e)})}function O4(t){return ws(t)&&t.O_.length<10}function x4(t,e){t.O_.push(e);let n=mr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function rM(t){return ws(t)&&!mr(t).n_()&&t.O_.length>0}function sM(t){mr(t).start()}function P4(t){return E(this,null,function*(){mr(t).p_()})}function k4(t){return E(this,null,function*(){let e=mr(t);for(let n of t.O_)e.m_(n.mutations)})}function F4(t,e,n){return E(this,null,function*(){let i=t.O_.shift(),r=p0.from(i,e,n);yield iM(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Bf(t)})}function V4(t,e){return E(this,null,function*(){e&&mr(t).V_&&(yield function(i,r){return E(this,null,function*(){if(function(o){return e4(o)&&o!==x.ABORTED}(r.code)){let s=i.O_.shift();mr(i).s_(),yield iM(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Bf(i)}})}(t,e)),rM(t)&&sM(t)})}function cR(t,e){return E(this,null,function*(){let n=se(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let i=ws(n);n.L_.add(3),yield bl(n),i&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Lf(n)})}function L4(t,e){return E(this,null,function*(){let n=se(t);e?(n.L_.delete(2),yield Lf(n)):e||(n.L_.add(2),yield bl(n),n.q_.set("Unknown"))})}function ea(t){return t.K_||(t.K_=function(n,i,r){let s=se(n);return s.w_(),new Q0(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:A4.bind(null,t),Ro:R4.bind(null,t),mo:M4.bind(null,t),d_:N4.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.K_.s_(),Nw(t)?Mw(t):t.q_.set("Unknown")):(yield t.K_.stop(),nM(t))}))),t.K_}function mr(t){return t.U_||(t.U_=function(n,i,r){let s=se(n);return s.w_(),new J0(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:P4.bind(null,t),mo:V4.bind(null,t),f_:k4.bind(null,t),g_:F4.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.U_.s_(),yield Bf(t)):(yield t.U_.stop(),t.O_.length>0&&($("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var ew=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ow(t,e){if(Ei("AsyncQueue",`${e}: ${t}`),wl(t))return new B(x.UNAVAILABLE,`${e}: ${t}`);throw t}var wf=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||K.comparator(n.key,i.key):(n,i)=>K.comparator(n.key,i.key),this.keyedMap=nl(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var bf=class{constructor(){this.W_=new Ge(K.comparator)}track(e){let n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}},Qo=class t{constructor(e,n,i,r,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,wf.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var tw=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},nw=class{constructor(){this.queries=lR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){let r=se(n),s=r.queries;r.queries=lR(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(i)})})(this,new B(x.ABORTED,"Firestore shutting down"))}};function lR(){return new gr(t=>OR(t),kf)}function oM(t,e){return E(this,null,function*(){let n=se(t),i=3,r=e.query,s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new tw,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield n.onListen(r,!0);break;case 1:s.z_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=Ow(o,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&xw(n)})}function aM(t,e){return E(this,null,function*(){let n=se(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function B4(t,e){let n=se(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&xw(n)}function j4(t,e,n){let i=se(t),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(n);i.queries.delete(e)}function xw(t){t.Y_.forEach(e=>{e.next()})}var iw,uR;(uR=iw||(iw={})).ea="default",uR.Cache="cache";var Ef=class{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==iw.Cache}};var If=class{constructor(e){this.key=e}},Df=class{constructor(e){this.key=e}},rw=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ye(),this.mutatedKeys=ye(),this.Aa=xR(e),this.Ra=new wf(this.Aa)}get Va(){return this.Ta}ma(e,n){let i=n?n.fa:new bf,r=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{let g=r.get(h),_=Ff(this.query,f)?f:null,v=!!g&&this.mutatedKeys.has(g.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),A=!1;g&&_?g.data.isEqual(_.data)?v!==S&&(i.track({type:3,doc:_}),A=!0):this.ga(g,_)||(i.track({type:2,doc:_}),A=!0,(c&&this.Aa(_,c)>0||u&&this.Aa(_,u)<0)&&(a=!0)):!g&&_?(i.track({type:0,doc:_}),A=!0):g&&!_&&(i.track({type:1,doc:g}),A=!0,(c||u)&&(a=!0)),A&&(_?(o=o.add(_),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,f)=>function(_,v){let S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return S(_)-S(v)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(i),r=r!=null&&r;let a=n&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Qo(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new bf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ye(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let n=[];return e.forEach(i=>{this.da.has(i)||n.push(new Df(i))}),this.da.forEach(i=>{e.has(i)||n.push(new If(i))}),n}ba(e){this.Ta=e.Ts,this.da=ye();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Qo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},sw=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},ow=class{constructor(e){this.key=e,this.va=!1}},aw=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new gr(a=>OR(a),kf),this.Ma=new Map,this.xa=new Set,this.Oa=new Ge(K.comparator),this.Na=new Map,this.La=new fl,this.Ba={},this.ka=new Map,this.qa=hl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function U4(t,e,n=!0){return E(this,null,function*(){let i=fM(t),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield cM(i,e,n,!0),r})}function $4(t,e){return E(this,null,function*(){let n=fM(t);yield cM(n,e,!0,!1)})}function cM(t,e,n,i){return E(this,null,function*(){let r=yield T4(t.localStore,Ln(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return i&&(a=yield H4(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&eM(t.remoteStore,r),a})}function H4(t,e,n,i,r){return E(this,null,function*(){t.Ka=(f,g,_)=>function(S,A,O,F){return E(this,null,function*(){let L=A.view.ma(O);L.ns&&(L=yield aR(S.localStore,A.query,!1).then(({documents:I})=>A.view.ma(I,L)));let q=F&&F.targetChanges.get(A.targetId),he=F&&F.targetMismatches.get(A.targetId)!=null,G=A.view.applyChanges(L,S.isPrimaryClient,q,he);return hR(S,A.targetId,G.wa),G.snapshot})}(t,f,g,_);let s=yield aR(t.localStore,e,!0),o=new rw(e,s.Ts),a=o.ma(s.documents),c=ul.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,c);hR(t,n,u.wa);let h=new sw(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot})}function G4(t,e,n){return E(this,null,function*(){let i=se(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!kf(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield G0(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Aw(i.remoteStore,r.targetId),cw(i,r.targetId)}).catch(vl))):(cw(i,r.targetId),yield G0(i.localStore,r.targetId,!0))})}function z4(t,e){return E(this,null,function*(){let n=se(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Aw(n.remoteStore,i.targetId))})}function q4(t,e,n){return E(this,null,function*(){let i=X4(t);try{let r=yield function(o,a){let c=se(o),u=ut.now(),h=a.reduce((_,v)=>_.add(v.key),ye()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=Di(),S=ye();return c.cs.getEntries(_,h).next(A=>{v=A,v.forEach((O,F)=>{F.isValidDocument()||(S=S.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,v)).next(A=>{f=A;let O=[];for(let F of a){let L=X3(F,f.get(F.key).overlayedDocument);L!=null&&O.push(new Ti(F.key,L,TR(L.value.mapValue),ds.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,O,a)}).next(A=>{g=A;let O=A.applyToLocalDocumentSet(f,S);return c.documentOverlayCache.saveOverlays(_,A.batchId,O)})}).then(()=>({batchId:g.batchId,changes:kR(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ge(De)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,n),yield El(i,r.changes),yield Bf(i.remoteStore)}catch(r){let s=Ow(r,"Failed to persist write");n.reject(s)}})}function lM(t,e){return E(this,null,function*(){let n=se(t);try{let i=yield E4(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Na.get(s);o&&(Ae(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Ae(o.va):r.removedDocuments.size>0&&(Ae(o.va),o.va=!1))}),yield El(n,i,e)}catch(i){yield vl(i)}})}function dR(t,e,n){let i=se(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=se(o);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(let g of f.j_)g.Z_(a)&&(u=!0)}),u&&xw(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function W4(t,e,n){return E(this,null,function*(){let i=se(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new Ge(K.comparator);o=o.insert(s,hn.newNoDocument(s,ae.min()));let a=ye().add(s),c=new lf(ae.min(),new Map,new Ge(De),o,a);yield lM(i,c),i.Oa=i.Oa.remove(s),i.Na.delete(e),Pw(i)}else yield G0(i.localStore,e,!1).then(()=>cw(i,e,n)).catch(vl)})}function K4(t,e){return E(this,null,function*(){let n=se(t),i=e.batch.batchId;try{let r=yield b4(n.localStore,e);dM(n,i,null),uM(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield El(n,r)}catch(r){yield vl(r)}})}function Q4(t,e,n){return E(this,null,function*(){let i=se(t);try{let r=yield function(o,a){let c=se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ae(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(i.localStore,e);dM(i,e,n),uM(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield El(i,r)}catch(r){yield vl(r)}})}function uM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function dM(t,e,n){let i=se(t),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function cw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||hM(t,i)})}function hM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Aw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Pw(t))}function hR(t,e,n){for(let i of n)i instanceof If?(t.La.addReference(i.key,e),J4(t,i)):i instanceof Df?($("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||hM(t,i.key)):ne()}function J4(t,e){let n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||($("SyncEngine","New document in limbo: "+n),t.xa.add(i),Pw(t))}function Pw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new K(Be.fromString(e)),i=t.qa.next();t.Na.set(i,new ow(n)),t.Oa=t.Oa.insert(n,i),eM(t.remoteStore,new dl(Ln(Pf(n.path)),i,"TargetPurposeLimboResolution",bR.oe))}}function El(t,e,n){return E(this,null,function*(){let i=se(t),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{o.push(i.Ka(c,e,n).then(u=>{var h;if((u||n)&&i.isPrimaryClient){let f=u?!u.fromCache:(h=n?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){r.push(u);let f=j0.Wi(c.targetId,u);s.push(f)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(c,u){return E(this,null,function*(){let h=se(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>P.forEach(u,g=>P.forEach(g.$i,_=>h.persistence.referenceDelegate.addReference(f,g.targetId,_)).next(()=>P.forEach(g.Ui,_=>h.persistence.referenceDelegate.removeReference(f,g.targetId,_)))))}catch(f){if(!wl(f))throw f;$("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let _=h.os.get(g),v=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(v);h.os=h.os.insert(g,S)}}})}(i.localStore,s))})}function Y4(t,e){return E(this,null,function*(){let n=se(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let i=yield ZR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new B(x.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield El(n,i.hs)}})}function Z4(t,e){let n=se(t),i=n.Na.get(e);if(i&&i.va)return ye().add(i.key);{let r=ye(),s=n.Ma.get(e);if(!s)return r;for(let o of s){let a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function fM(t){let e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W4.bind(null,e),e.Ca.d_=B4.bind(null,e.eventManager),e.Ca.$a=j4.bind(null,e.eventManager),e}function X4(t){let e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q4.bind(null,e),e}var fR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return E(this,null,function*(){this.serializer=Vf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,i){return null}Ha(n,i){return null}za(n){return w4(this.persistence,new $0,n.initialUser,this.serializer)}Ga(n){return new V0(B0.Zr,this.serializer)}Wa(n){return new z0}terminate(){return E(this,null,function*(){var n,i;(n=this.gcScheduler)===null||n===void 0||n.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var ez=(()=>{class t{initialize(n,i){return E(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y4.bind(null,this.syncEngine),yield L4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new nw}()}createDatastore(n){let i=Vf(n.databaseInfo.databaseId),r=function(o){return new K0(o)}(n.databaseInfo);return function(o,a,c,u){return new Y0(o,a,c,u)}(n.authCredentials,n.appCheckCredentials,r,i)}createRemoteStore(n){return function(r,s,o,a,c){return new X0(r,s,o,a,c)}(this.localStore,this.datastore,n.asyncQueue,i=>dR(this.syncEngine,i,0),function(){return mf.D()?new mf:new q0}())}createSyncEngine(n,i){return function(s,o,a,c,u,h,f){let g=new aw(s,o,a,c,u,h);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){return E(this,null,function*(){var n,i;yield function(s){return E(this,null,function*(){let o=se(s);$("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield bl(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return t.provider={build:()=>new t},t})();var Tf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var lw=class{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=it.UNAUTHENTICATED,this.clientId=tf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,o=>E(this,null,function*(){$("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>($("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=Ow(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function jv(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>E(this,null,function*(){i.isEqual(r)||(yield ZR(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function pR(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield tz(t);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>cR(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>cR(e.remoteStore,r)),t._onlineComponents=e})}function tz(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(r){return r.name==="FirebaseError"?r.code===x.FAILED_PRECONDITION||r.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),yield jv(t,new fR)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield jv(t,new fR);return t._offlineComponents})}function pM(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield pR(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield pR(t,new ez))),t._onlineComponents})}function nz(t){return pM(t).then(e=>e.syncEngine)}function uw(t){return E(this,null,function*(){let e=yield pM(t),n=e.eventManager;return n.onListen=U4.bind(null,e.syncEngine),n.onUnlisten=G4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z4.bind(null,e.syncEngine),n})}function iz(t,e,n={}){let i=new Fn;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,a,c,u){let h=new Tf({next:g=>{h.Za(),o.enqueueAndForget(()=>aM(s,f));let _=g.docs.has(a);!_&&g.fromCache?u.reject(new B(x.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&c&&c.source==="server"?u.reject(new B(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Ef(Pf(a.path),h,{includeMetadataChanges:!0,_a:!0});return oM(s,f)}(yield uw(t),t.asyncQueue,e,n,i)})),i.promise}function gM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var gR=new Map;function mM(t,e,n){if(!n)throw new B(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rz(t,e,n,i){if(e===!0&&i===!0)throw new B(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mR(t){if(!K.isDocumentKey(t))throw new B(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _R(t){if(K.isDocumentKey(t))throw new B(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=jf(t);throw new B(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Cf=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new B(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gM((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Jo=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cf(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Uv;switch(i.type){case"firstParty":return new zv(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new B(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=gR.get(n);i&&($("ComponentProvider","Removing Datastore"),gR.delete(n),i.terminate())}(this),Promise.resolve()}};function _M(t,e,n,i={}){var r;let s=(t=hr(t,Jo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=it.MOCK_USER;else{a=pS(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new B(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new it(u)}t._authCredentials=new $v(new ef(a,c))}}var Yo=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ot=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},fr=class t extends Yo{constructor(e,n,i){super(e,n,Pf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new K(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function yM(t,e,...n){if(t=wt(t),mM("collection","path",e),t instanceof Jo){let i=Be.fromString(e,...n);return _R(i),new fr(t,null,i)}{if(!(t instanceof Ot||t instanceof fr))throw new B(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Be.fromString(e,...n));return _R(i),new fr(t.firestore,null,i)}}function vM(t,e,...n){if(t=wt(t),arguments.length===1&&(e=tf.newId()),mM("doc","path",e),t instanceof Jo){let i=Be.fromString(e,...n);return mR(i),new Ot(t,null,new K(i))}{if(!(t instanceof Ot||t instanceof fr))throw new B(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Be.fromString(e,...n));return mR(i),new Ot(t.firestore,t instanceof fr?t.converter:null,new K(i))}}var Sf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _f(this,"async_queue_retry"),this.Vu=()=>{let i=Bv();i&&$("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let n=Bv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Bv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Fn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wl(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Ei("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let r=ew.createAndSchedule(this,e,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function yR(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var vs=class extends Jo{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Sf,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Sf(e),this._firestoreClient=void 0,yield e}})}};function wM(t,e){let n=typeof t=="object"?t:Co(),i=typeof t=="string"?t:e||"(default)",r=Hc(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=fS("firestore");s&&_M(r,...s)}return r}function kw(t){if(t._terminated)throw new B(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sz(t),t._firestoreClient}function sz(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,u,h){return new Jv(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,gM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new lw(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var pl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(It.fromBase64String(e))}catch(n){throw new B(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var gl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Af=class{constructor(e){this._methodName=e}};var ml=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var _l=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var oz=/^__.*__$/,dw=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new ys(e,this.data,n,this.fieldTransforms)}};function bM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var hw=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(bM(this.Cu)&&oz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},fw=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Vf(e)}Qu(e,n,i,r=!1){return new hw({Cu:e,methodName:n,qu:i,path:Gt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function EM(t){let e=t._freezeSettings(),n=Vf(t._databaseId);return new fw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function az(t,e,n,i,r,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,r);TM("Data must be an object, but it was:",o,i);let a=IM(i,o),c,u;if(s.merge)c=new kn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let f of s.mergeFields){let g=lz(e,f,n);if(!o.contains(g))throw new B(x.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);dz(h,g)||h.push(g)}c=new kn(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new dw(new dn(a),c,u)}function cz(t,e,n,i=!1){return Fw(n,t.Qu(i?4:3,e))}function Fw(t,e){if(DM(t=wt(t)))return TM("Unsupported field value:",e,t),IM(t,e);if(t instanceof Af)return function(i,r){if(!bM(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=Fw(a,r.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return K3(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=ut.fromDate(i);return{timestampValue:ff(r.serializer,s)}}if(i instanceof ut){let s=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ff(r.serializer,s)}}if(i instanceof ml)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pl)return{bytesValue:zR(r.serializer,i._byteString)};if(i instanceof Ot){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sw(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof _l)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Cw(a.serializer,c)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${jf(i)}`)}(t,e)}function IM(t,e){let n={};return ER(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(i,r)=>{let s=Fw(r,e.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function DM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof ml||t instanceof pl||t instanceof Ot||t instanceof Af||t instanceof _l)}function TM(t,e,n){if(!DM(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=jf(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function lz(t,e,n){if((e=wt(e))instanceof gl)return e._internalPath;if(typeof e=="string")return CM(t,e);throw Rf("Field path arguments must be of type string or ",t,!1,void 0,n)}var uz=new RegExp("[~\\*/\\[\\]]");function CM(t,e,n){if(e.search(uz)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gl(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rf(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new B(x.INVALID_ARGUMENT,a+t+c)}function dz(t,e){return t.some(n=>n.isEqual(e))}var Mf=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new pw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(SM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},pw=class extends Mf{data(){return super.data()}};function SM(t,e){return typeof e=="string"?CM(t,e):e instanceof gl?e._internalPath:e._delegate._internalPath}function hz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yl=class{},gw=class extends yl{};function AM(t,e,...n){let i=[];e instanceof yl&&i.push(e),i=i.concat(n),function(s){let o=s.filter(c=>c instanceof _w).length,a=s.filter(c=>c instanceof mw).length;if(o>1||o>0&&a>0)throw new B(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var mw=class t extends gw{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return RM(e._query,n),new Yo(e.firestore,e.converter,l0(e._query,n))}_parse(e){let n=EM(e.firestore);return function(s,o,a,c,u,h,f){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new B(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wR(f,h);let _=[];for(let v of f)_.push(vR(c,s,v));g={arrayValue:{values:_}}}else g=vR(c,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wR(f,h),g=cz(a,o,f,h==="in"||h==="not-in");return Ke.create(u,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var _w=class t extends yl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)RM(o,c),o=l0(o,c)}(e._query,n),new Yo(e.firestore,e.converter,l0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function vR(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new B(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NR(e)&&n.indexOf("/")!==-1)throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Be.fromString(n));if(!K.isDocumentKey(i))throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return GA(t,new K(i))}if(n instanceof Ot)return GA(t,n._key);throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function wR(t,e){if(!Array.isArray(t)||t.length===0)throw new B(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RM(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var yw=class{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Xo(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;let s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Ve(o.doubleValue));return new _l(s)}convertGeoPoint(e){return new ml(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=Ew(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){let n=Ii(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Be.fromString(e);Ae(YR(i));let r=new of(i.get(1),i.get(3)),s=new K(i.popFirst(5));return r.isEqual(n)||Ei(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function fz(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var us=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Nf=class extends Mf{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(SM("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Lo=class extends Nf{data(e={}){return super.data(e)}},vw=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new us(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Lo(this._firestore,this._userDataWriter,i.key,i,new us(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new Lo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new us(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Lo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new us(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:pz(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function pz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function MM(t){t=hr(t,Ot);let e=hr(t.firestore,vs);return iz(kw(e),t._key).then(n=>OM(e,t,n))}var Of=class extends yw{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}};function NM(t,e,n){t=hr(t,Ot);let i=hr(t.firestore,vs),r=fz(t.converter,e,n);return gz(i,[az(EM(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,ds.none())])}function Vw(t,...e){var n,i,r;t=wt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||yR(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(yR(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[o+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let c,u,h;if(t instanceof Ot)u=hr(t.firestore,vs),h=Pf(t._key.path),c={next:f=>{e[o]&&e[o](OM(u,t,f))},error:e[o+1],complete:e[o+2]};else{let f=hr(t,Yo);u=hr(f.firestore,vs),h=f._query;let g=new Of(u);c={next:_=>{e[o]&&e[o](new vw(u,g,f,_))},error:e[o+1],complete:e[o+2]},hz(t._query)}return function(g,_,v,S){let A=new Tf(S),O=new Ef(_,A,v);return g.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return oM(yield uw(g),O)})),()=>{A.Za(),g.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return aM(yield uw(g),O)}))}}(kw(u),h,a,c)}function gz(t,e){return function(i,r){let s=new Fn;return i.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return q4(yield nz(i),r,s)})),s.promise}(kw(t),e)}function OM(t,e,n){let i=n.docs.get(e._key),r=new Of(t);return new Nf(t,r,e._key,i,new us(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Zo=r})(or),sr(new tn("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new vs(new Hv(i.getProvider("auth-internal")),new Wv(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new of(u.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ye(jA,"4.7.3",e),Ye(jA,"4.7.3","esm2017")})();var Uf=function(){return Uf=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Uf.apply(this,arguments)};var vz={includeMetadataChanges:!1};function xM(t,e){return e===void 0&&(e=vz),new J(function(n){var i=Vw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function PM(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:Uf(Uf({},i),(n={},n[e.idField]=t.id,n))}function kM(t){return xM(t,{includeMetadataChanges:!0}).pipe(Y(function(e){return e.docs}))}function FM(t,e){return e===void 0&&(e={}),kM(t).pipe(Y(function(n){return n.map(function(i){return PM(i,e)})}))}var bs=class{constructor(e){return e}},VM="firestore",Lw=class{constructor(){return Gc(VM)}};var Bw=new U("angularfire2.firestore-instances");function wz(t,e){let n=Sh(VM,t,e);return n&&new bs(n)}function bz(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new bs(i)}}var Ez={provide:Lw,deps:[[new Mt,Bw]]},Iz={provide:bs,useFactory:wz,deps:[[new Mt,Bw],yi]};function LM(t,...e){return Ye("angularfire",ts.full,"fst"),cn([Iz,Ez,{provide:Bw,useFactory:bz(t),multi:!0,deps:[we,Le,Ro,ns,[new Mt,Xc],[new Mt,Ao],...e]}])}var BM=Ht(FM,!0);var jw=Ht(yM,!0);var Uw=Ht(vM,!0);var jM=Ht(MM,!0);var $f=Ht(wM,!0);var UM=Ht(AM,!0);var $M=Ht(NM,!0);var HM={production:!1,firebaseConfig:{apiKey:"AIzaSyBia2IEyDJQ19hnNah3x3FI9s0omrWITZk",authDomain:"dsa-roadmap.firebaseapp.com",projectId:"dsa-roadmap",storageBucket:"dsa-roadmap.appspot.com",messagingSenderId:"914631704450",appId:"1:914631704450:web:266e2b4f1f53ef12d3d99b"}};var GM={providers:[cS(lS),LS(()=>BS(HM.firebaseConfig)),kA(()=>FA()),LM(()=>$f()),O_()]};function Hf(t){t||(Mm(Hf),t=N(Hr));let e=new J(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(Xe(e))}var XM=(()=>{class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||t)(me(Ji),me(ct))}}static{this.\u0275dir=ke({type:t})}}return t})(),Kf=(()=>{class t extends XM{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=oi(t)))(r||t)}})()}static{this.\u0275dir=ke({type:t,features:[Dn]})}}return t})(),Al=new U(""),Tz={provide:Al,useExisting:ti(()=>qw),multi:!0},qw=(()=>{class t extends Kf{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=oi(t)))(r||t)}})()}static{this.\u0275dir=ke({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&Vt("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[zr([Tz]),Dn]})}}return t})(),Cz={provide:Al,useExisting:ti(()=>eN),multi:!0};function Sz(){let t=hi()?hi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Az=new U(""),eN=(()=>{class t extends XM{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Sz())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||t)(me(Ji),me(ct),me(Az,8))}}static{this.\u0275dir=ke({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Vt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[zr([Cz]),Dn]})}}return t})();var Rz=new U(""),Mz=new U("");function tN(t){return t!=null}function nN(t){return qr(t)?Ne(t):t}function iN(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function rN(t,e){return e.map(n=>n(t))}function Nz(t){return!t.validate}function sN(t){return t.map(e=>Nz(e)?e:n=>e.validate(n))}function Oz(t){if(!t)return null;let e=t.filter(tN);return e.length==0?null:function(n){return iN(rN(n,e))}}function oN(t){return t!=null?Oz(sN(t)):null}function xz(t){if(!t)return null;let e=t.filter(tN);return e.length==0?null:function(n){let i=rN(n,e).map(nN);return Kp(i).pipe(Y(iN))}}function aN(t){return t!=null?xz(sN(t)):null}function zM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Pz(t){return t._rawValidators}function kz(t){return t._rawAsyncValidators}function $w(t){return t?Array.isArray(t)?t:[t]:[]}function zf(t,e){return Array.isArray(t)?t.includes(e):t===e}function qM(t,e){let n=$w(e);return $w(t).forEach(r=>{zf(n,r)||n.push(r)}),n}function WM(t,e){return $w(e).filter(n=>!zf(t,n))}var qf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Hw=class extends qf{get formDirective(){return null}get path(){return null}},Sl=class extends qf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Gw=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Fz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},jee=ue(V({},Fz),{"[class.ng-submitted]":"isSubmitted"}),cN=(()=>{class t extends Gw{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||t)(me(Sl,2))}}static{this.\u0275dir=ke({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Tn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Dn]})}}return t})();var Il="VALID",Gf="INVALID",ta="PENDING",Dl="DISABLED",ia=class{},Wf=class extends ia{constructor(e,n){super(),this.value=e,this.source=n}},Tl=class extends ia{constructor(e,n){super(),this.pristine=e,this.source=n}},Cl=class extends ia{constructor(e,n){super(),this.touched=e,this.source=n}},na=class extends ia{constructor(e,n){super(),this.status=e,this.source=n}};function Vz(t){return(Qf(t)?t.validators:t)||null}function Lz(t){return Array.isArray(t)?oN(t):t||null}function Bz(t,e){return(Qf(e)?e.asyncValidators:t)||null}function jz(t){return Array.isArray(t)?aN(t):t||null}function Qf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var zw=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=lc(()=>this.statusReactive()),this.statusReactive=ec(void 0),this._pristine=lc(()=>this.pristineReactive()),this.pristineReactive=ec(!0),this._touched=lc(()=>this.touchedReactive()),this.touchedReactive=ec(!1),this._events=new Me,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ui(this.statusReactive)}set status(e){ui(()=>this.statusReactive.set(e))}get valid(){return this.status===Il}get invalid(){return this.status===Gf}get pending(){return this.status==ta}get disabled(){return this.status===Dl}get enabled(){return this.status!==Dl}get pristine(){return ui(this.pristineReactive)}set pristine(e){ui(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ui(this.touchedReactive)}set touched(e){ui(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WM(e,this._rawAsyncValidators))}hasValidator(e){return zf(this._rawValidators,e)}hasAsyncValidator(e){return zf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(V({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Cl(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new Cl(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(V({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Tl(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Tl(!0,i))}markAsPending(e={}){this.status=ta;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new na(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(V({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Dl,this.errors=null,this._forEachChild(r=>{r.disable(ue(V({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wf(this.value,i)),this._events.next(new na(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Il,this._forEachChild(i=>{i.enable(ue(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Il||this.status===ta)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wf(this.value,n)),this._events.next(new na(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(V({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dl:Il}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ta,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=nN(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new na(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?Dl:this.errors?Gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ta)?ta:this._anyControlsHaveStatus(Gf)?Gf:Il}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Tl(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Cl(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Lz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=jz(this._rawAsyncValidators)}};var lN=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Ww}),Ww="always";function Uz(t,e){return[...e.path,t]}function $z(t,e,n=Ww){Gz(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),zz(t,e),Wz(t,e),qz(t,e),Hz(t,e)}function KM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Hz(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Gz(t,e){let n=Pz(t);e.validator!==null?t.setValidators(zM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=kz(t);e.asyncValidator!==null?t.setAsyncValidators(zM(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();KM(e._rawValidators,r),KM(e._rawAsyncValidators,r)}function zz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&uN(t,e)})}function qz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&uN(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function uN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Wz(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Kz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Qz(t){return Object.getPrototypeOf(t.constructor)===Kf}function Jz(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===eN?n=s:Qz(s)?i=s:r=s}),r||i||n||null}function QM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function JM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Yz=class extends zw{constructor(e=null,n,i){super(Vz(n),Bz(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(JM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){JM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Zz={provide:Sl,useExisting:ti(()=>Kw)},YM=Promise.resolve(),Kw=(()=>{class t extends Sl{constructor(n,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Yz,this._registered=!1,this.name="",this.update=new ve,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Jz(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Kz(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$z(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){YM.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&qd(i);YM.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Uz(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||t)(me(Hw,9),me(Rz,10),me(Mz,10),me(Al,10),me(Sn,8),me(lN,8))}}static{this.\u0275dir=ke({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zr([Zz]),Dn,$r]})}}return t})();var Xz={provide:Al,useExisting:ti(()=>Jf),multi:!0};function dN(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function eq(t){return t.split(":")[0]}var Jf=(()=>{class t extends Kf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),r=dN(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=eq(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=oi(t)))(r||t)}})()}static{this.\u0275dir=ke({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&Vt("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[zr([Xz]),Dn]})}}return t})(),hN=(()=>{class t{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(dN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(me(ct),me(Ji),me(Jf,9))}}static{this.\u0275dir=ke({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),tq={provide:Al,useExisting:ti(()=>fN),multi:!0};function ZM(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function nq(t){return t.split(":")[0]}var fN=(()=>{class t extends Kf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],u=this._getOptionValue(c.value);r.push(u)}}else{let o=i.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let u=this._getOptionValue(c.value);r.push(u)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=nq(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=oi(t)))(r||t)}})()}static{this.\u0275dir=ke({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&Vt("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[zr([tq]),Dn]})}}return t})(),pN=(()=>{class t{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(ZM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(ZM(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(me(ct),me(Ji),me(fN,9))}}static{this.\u0275dir=ke({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var iq=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({})}}return t})();var gN=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:lN,useValue:n.callSetDisabledState??Ww}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({imports:[iq]})}}return t})();var Zw=["*"];var sq=["dialog"];function oq(t,e){if(t&1&&(W(0,"span"),CC(1,0),NC(2,"percent"),z()),t&2){let n=et();ge(2),g_(OC(2,1,n.getValue()/n.max)),SC(1)}}var _N={animation:!0,transitionTimerDelayMs:5},Xw=(()=>{class t{constructor(){this.animation=_N.animation}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),aq=(()=>{class t{constructor(){this._ngbConfig=N(Xw),this.closeOthers=!1,this.destroyOnHide=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function cq(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),r=parseFloat(n);return(i+r)*1e3}function lq(t){return parseInt(`${t}`,10)}function uq(t,e,n=0){return Math.max(Math.min(t,e),n)}function eb(t){return typeof t=="string"}function dq(t){return!isNaN(lq(t))}function Qw(t){return t!=null}function hq(t){return t&&t.then}function tb(t){return(t||document.body).getBoundingClientRect()}function fq(t){return e=>new J(n=>{let i=o=>t.run(()=>n.next(o)),r=o=>t.run(()=>n.error(o)),s=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:r,complete:s})})}var pq=()=>{},{transitionTimerDelayMs:gq}=_N,Yf=new Map,_r=(t,e,n,i)=>{let r=i.context||{},s=Yf.get(e);if(s)switch(i.runningTransition){case"continue":return st;case"stop":t.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Yf.delete(e)}let o=n(e,i.animation,r)||pq;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>o()),Z(void 0).pipe(fq(t));let a=new Me,c=new Me,u=a.pipe(Zp(!0));Yf.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let h=cq(e);return t.runOutsideAngular(()=>{let f=zt(e,"transitionend").pipe(Xe(u),Je(({target:_})=>_===e)),g=Qp(h+gq).pipe(Xe(u));Jp(g,f,c).pipe(Xe(u)).subscribe(()=>{Yf.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};function mq(t,e){if(typeof navigator>"u")return"0px";let{classList:n}=t,i=n.contains("show");i||n.add("show"),t.style[e]="";let r=t.getBoundingClientRect()[e]+"px";return i||n.remove("show"),r}var _q=(t,e,n)=>{let{direction:i,maxSize:r,dimension:s}=n,{classList:o}=t;function a(){o.add("collapse"),i==="show"?o.add("show"):o.remove("show")}if(!e){a();return}return r||(r=mq(t,s),n.maxSize=r,t.style[s]=i!=="show"?r:"0px",o.remove("collapse","collapsing","show"),tb(t),o.add("collapsing")),t.style[s]=i==="show"?r:"0px",()=>{a(),o.remove("collapsing"),t.style[s]=""}},yq=(()=>{class t{constructor(){this._ngbConfig=N(Xw),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mN=(()=>{class t{constructor(){this._config=N(yq),this._element=N(ct),this._zone=N(we),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ve,this.horizontal=this._config.horizontal,this.shown=new ve,this.hidden=new ve}set collapsed(n){this._isCollapsed!==n&&(this._isCollapsed=n,this._afterInit&&this._runTransitionWithEvents(n,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(n=this._isCollapsed){this.collapsed=!n,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(n,i){return _r(this._zone,this._element.nativeElement,_q,{animation:i,runningTransition:"stop",context:{direction:n?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(n,i){this._runTransition(n,i).subscribe(()=>{n?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ke({type:t,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){i&2&&Tn("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return t})(),vq=0,yN=(()=>{class t{constructor(){this._vcr=N(In),this._element=N(ct).nativeElement,this._item=N(yr),this._viewRef=null}ngAfterContentChecked(){this._bodyTpl&&(this._item._shouldBeInDOM?this._createViewIfNotExists():this._destroyViewIfExists())}ngOnDestroy(){this._destroyViewIfExists()}_destroyViewIfExists(){this._viewRef?.destroy(),this._viewRef=null}_createViewIfNotExists(){if(!this._viewRef){this._viewRef=this._vcr.createEmbeddedView(this._bodyTpl),this._viewRef.detectChanges();for(let n of this._viewRef.rootNodes)this._element.appendChild(n)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ke({type:t,selectors:[["","ngbAccordionBody",""]],contentQueries:function(i,r,s){if(i&1&&oc(s,En,7),i&2){let o;lo(o=uo())&&(r._bodyTpl=o.first)}},hostAttrs:[1,"accordion-body"],standalone:!0})}}return t})(),nb=(()=>{class t{constructor(){this.item=N(yr),this.ngbCollapse=N(mN)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ke({type:t,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region",1,"accordion-collapse"],hostVars:2,hostBindings:function(i,r){i&2&&(co("id",r.item.collapseId),Zi("aria-labelledby",r.item.toggleId))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[f_([mN])]})}}return t})(),wq=(()=>{class t{constructor(){this.item=N(yr),this.accordion=N(Xf)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ke({type:t,selectors:[["","ngbAccordionToggle",""]],hostVars:5,hostBindings:function(i,r){i&1&&Vt("click",function(){return!r.item.disabled&&r.accordion.toggle(r.item.id)}),i&2&&(co("id",r.item.toggleId),Zi("aria-controls",r.item.collapseId)("aria-expanded",!r.item.collapsed),Tn("collapsed",r.item.collapsed))},standalone:!0})}}return t})(),vN=(()=>{class t{constructor(){this.item=N(yr)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ke({type:t,selectors:[["button","ngbAccordionButton",""]],hostAttrs:["type","button",1,"accordion-button"],hostVars:1,hostBindings:function(i,r){i&2&&co("disabled",r.item.disabled)},standalone:!0,features:[f_([wq])]})}}return t})(),wN=(()=>{class t{constructor(){this.item=N(yr)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ke({type:t,selectors:[["","ngbAccordionHeader",""]],hostAttrs:["role","heading",1,"accordion-header"],hostVars:2,hostBindings:function(i,r){i&2&&Tn("collapsed",r.item.collapsed)},standalone:!0})}}return t})(),yr=(()=>{class t{constructor(){this._accordion=N(Xf),this._cd=N(Sn),this._destroyRef=N(Hr),this._collapsed=!0,this._id=`ngb-accordion-item-${vq++}`,this._collapseAnimationRunning=!1,this.disabled=!1,this.show=new ve,this.shown=new ve,this.hide=new ve,this.hidden=new ve}set id(n){eb(n)&&n!==""&&(this._id=n)}set destroyOnHide(n){this._destroyOnHide=n}get destroyOnHide(){return this._destroyOnHide===void 0?this._accordion.destroyOnHide:this._destroyOnHide}set collapsed(n){n?this.collapse():this.expand()}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}get _shouldBeInDOM(){return!this.collapsed||this._collapseAnimationRunning||!this.destroyOnHide}ngAfterContentInit(){let{ngbCollapse:n}=this._collapse;n.animation=!1,n.collapsed=this.collapsed,n.animation=this._accordion.animation,n.hidden.pipe(Hf(this._destroyRef)).subscribe(()=>{this._collapseAnimationRunning=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),n.shown.pipe(Hf(this._destroyRef)).subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)})}toggle(){this.collapsed=!this.collapsed}expand(){if(this.collapsed){if(!this._accordion._ensureCanExpand(this))return;this._collapsed=!1,this._cd.markForCheck(),this._cd.detectChanges(),this.show.emit(),this._accordion.show.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!1}}collapse(){this.collapsed||(this._collapsed=!0,this._collapseAnimationRunning=!0,this._cd.markForCheck(),this.hide.emit(),this._accordion.hide.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!0)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ke({type:t,selectors:[["","ngbAccordionItem",""]],contentQueries:function(i,r,s){if(i&1&&oc(s,nb,7),i&2){let o;lo(o=uo())&&(r._collapse=o.first)}},hostAttrs:[1,"accordion-item"],hostVars:1,hostBindings:function(i,r){i&2&&co("id",r.id)},inputs:{id:[0,"ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0})}}return t})(),Xf=(()=>{class t{constructor(){this._config=N(aq),this._anItemWasAlreadyExpandedDuringInitialisation=!1,this.animation=this._config.animation,this.closeOthers=this._config.closeOthers,this.destroyOnHide=this._config.destroyOnHide,this.show=new ve,this.shown=new ve,this.hide=new ve,this.hidden=new ve}toggle(n){this._getItem(n)?.toggle()}expand(n){this._getItem(n)?.expand()}expandAll(){this._items&&(this.closeOthers?this._items.find(n=>!n.collapsed)||this._items.first.expand():this._items.forEach(n=>n.expand()))}collapse(n){this._getItem(n)?.collapse()}collapseAll(){this._items?.forEach(n=>n.collapse())}isExpanded(n){let i=this._getItem(n);return i?!i.collapsed:!1}_ensureCanExpand(n){return this.closeOthers?this._items?(this._items.find(i=>!i.collapsed&&n!==i)?.collapse(),!0):this._anItemWasAlreadyExpandedDuringInitialisation?!1:(this._anItemWasAlreadyExpandedDuringInitialisation=!0,!0):!0}_getItem(n){return this._items?.find(i=>i.id===n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ke({type:t,selectors:[["","ngbAccordion",""]],contentQueries:function(i,r,s){if(i&1&&oc(s,yr,4),i&2){let o;lo(o=uo())&&(r._items=o)}},hostAttrs:[1,"accordion"],inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0})}}return t})();var bN=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({})}}return t})();var vte=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var bq=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function EN(t){let e=Array.from(t.querySelectorAll(bq)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var Eq=(t,e,n,i=!1)=>{t.runOutsideAngular(()=>{let r=zt(e,"focusin").pipe(Xe(n),Y(s=>s.target));zt(e,"keydown").pipe(Xe(n),Je(s=>s.key==="Tab"),Cu(r)).subscribe(([s,o])=>{let[a,c]=EN(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&zt(e,"click").pipe(Xe(n),Cu(r),Y(s=>s[1])).subscribe(s=>s.focus())})};var wte=new Date(1882,10,12),bte=new Date(2174,10,25);var Ete=1e3*60*60*24;var ib=1080,Iq=24*ib,Dq=12*ib+793,Ite=29*Iq+Dq,Dte=11*ib+204;var Tq=(()=>{class t{constructor(){this._ngbConfig=N(Xw),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ra=class{constructor(e,n,i){this.nodes=e,this.viewRef=n,this.componentRef=i}};var Cq=(()=>{class t{constructor(){this._document=N(tt)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(n>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=o),r.overflow=s}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Sq=(()=>{class t{constructor(){this._nativeElement=N(ct).nativeElement,this._zone=N(we),this._injector=N(Le)}ngOnInit(){tc(()=>_r(this._zone,this._nativeElement,(n,i)=>{i&&tb(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:Kn.MixedReadWrite})}hide(){return _r(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ni({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(Fd("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Tn("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[li],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return t})(),Zf=class{update(e){}close(e){}dismiss(e){}},Aq=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Rq=["animation","backdropClass"],Jw=class{_applyWindowOptions(e,n){Aq.forEach(i=>{Qw(n[i])&&(e[i]=n[i])})}_applyBackdropOptions(e,n){Rq.forEach(i=>{Qw(n[i])&&(e[i]=n[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Xe(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Xe(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,i,r){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Me,this._dismissed=new Me,this._hidden=new Me,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();hq(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Z(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Sa(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Yw=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(Yw||{}),Mq=(()=>{class t{constructor(){this._document=N(tt),this._elRef=N(ct),this._zone=N(we),this._injector=N(Le),this._closed$=new Me,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ve,this.shown=new Me,this.hidden=new Me}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":eb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,tc(()=>this._show(),{injector:this._injector,phase:Kn.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=_r(this._zone,n,()=>n.classList.remove("show"),i),s=_r(this._zone,this._dialogEl.nativeElement,()=>{},i),o=Sa(r,s);return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){let n={animation:this.animation,runningTransition:"continue"},i=_r(this._zone,this._elRef.nativeElement,(s,o)=>{o&&tb(s),s.classList.add("show")},n),r=_r(this._zone,this._dialogEl.nativeElement,()=>{},n);Sa(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{zt(n,"keydown").pipe(Xe(this._closed$),Je(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Yw.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;zt(this._dialogEl.nativeElement,"mousedown").pipe(Xe(this._closed$),He(()=>i=!1),St(()=>zt(n,"mouseup").pipe(Xe(this._closed$),qt(1))),Je(({target:r})=>n===r)).subscribe(()=>{i=!0}),zt(n,"click").pipe(Xe(this._closed$)).subscribe(({target:r})=>{n===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Yw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let i=n.querySelector("[ngbAutofocus]"),r=EN(n)[0];(i||r||n).focus()}}_restoreFocus(){let n=this._document.body,i=this._elWithFocus,r;i&&i.focus&&n.contains(i)?r=i:r=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&_r(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ni({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&RC(sq,7),i&2){let s;lo(s=uo())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(Zi("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Fd("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Tn("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[li],ngContentSelectors:Zw,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(Bd(),W(0,"div",1,0)(2,"div",2),jd(3),z()()),i&2&&Fd("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return t})(),Nq=(()=>{class t{constructor(){this._applicationRef=N(Cn),this._injector=N(Le),this._environmentInjector=N(at),this._document=N(tt),this._scrollBar=N(Cq),this._activeWindowCmptHasChanged=new Me,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ve;let n=N(we);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];Eq(n,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){let s=r.container instanceof HTMLElement?r.container:Qw(r.container)?this._document.querySelector(r.container):this._document.body;if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let o=new Zf;n=r.injector||n;let a=n.get(at,null)||this._environmentInjector,c=this._getContentRef(n,a,i,o,r),u=r.backdrop!==!1?this._attachBackdrop(s):void 0,h=this._attachWindowComponent(s,c.nodes),f=new Jw(h,c,u,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.hidden.pipe(qt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),o.close=g=>{f.close(g)},o.dismiss=g=>{f.dismiss(g)},o.update=g=>{f.update(g)},f.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),h.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=Wd(Sq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=Wd(Mq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,s,o){return r?r instanceof En?this._createFromTemplateRef(r,s):eb(r)?this._createFromString(r):this._createFromComponent(n,i,r,s,o):new ra([])}_createFromTemplateRef(n,i){let r={$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}},s=n.createEmbeddedView(r);return this._applicationRef.attachView(s),new ra([s.rootNodes],s)}_createFromString(n){let i=this._document.createTextNode(`${n}`);return new ra([[i]])}_createFromComponent(n,i,r,s,o){let a=Le.create({providers:[{provide:Zf,useValue:s}],parent:n}),c=Wd(r,{environmentInjector:i,elementInjector:a}),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new ra([[u]],c.hostView,c)}_setAriaHidden(n){let i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let i=()=>{let r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),IN=(()=>{class t{constructor(){this._injector=N(Le),this._modalStack=N(Nq),this._config=N(Tq)}open(n,i={}){let r=V(ue(V({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Oq=(()=>{class t{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),DN=(()=>{class t{set max(n){this._max=!dq(n)||n<=0?100:n}get max(){return this._max}constructor(){this._config=N(Oq),this.stacked=N(xq,{optional:!0}),this.animated=this._config.animated,this.ariaLabel=this._config.ariaLabel,this.striped=this._config.striped,this.showValue=this._config.showValue,this.textType=this._config.textType,this.type=this._config.type,this.value=0,this.height=this._config.height,this.max=this._config.max}getValue(){return uq(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ni({type:t,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:7,hostBindings:function(i,r){i&2&&(Zi("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),nc("width",r.stacked?r.getPercentValue():null,"%")("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[li],ngContentSelectors:Zw,decls:3,vars:11,consts:()=>{let n;return n=$localize`:@@ngb.progressbar.value:${"\uFFFD0\uFFFD"}:INTERPOLATION:`,[n]},template:function(i,r){i&1&&(Bd(),W(0,"div"),vt(1,oq,3,3,"span"),jd(2),z()),i&2&&(hC("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),nc("width",r.stacked?null:r.getPercentValue(),"%"),Tn("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),ge(),fC(r.showValue?1:-1))},dependencies:[XC],encapsulation:2,changeDetection:0})}}return t})(),xq=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ni({type:t,selectors:[["ngb-progressbar-stacked"]],hostAttrs:[1,"progress-stacked"],standalone:!0,features:[li],ngContentSelectors:Zw,decls:1,vars:0,template:function(i,r){i&1&&(Bd(),jd(0))},encapsulation:2,changeDetection:0})}}return t})(),TN=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({})}}return t})();var Tte=new U("live announcer delay",{providedIn:"root",factory:()=>100});var Rl=class{level=0;category="";subcategory="";showCompleted=!0};var Ml=class{done=null;revisions=null;learn=null;study=null;read=null;write=null;teach=null;constructor(){}};var ep=class t{constructor(e,n){this.firestore=e;this.http=n}addDocument(e,n){let i=jw(this.firestore,"dsa-progress-tracker"),r=Uw(i,n);return Ne($M(r,{[n]:e},{merge:!0}).then(()=>n))}getDocuments(){let e=jw(this.firestore,"dsa-progress-tracker");return BM(UM(e))}getDocumentsAsObservable(){let e=$f(),i=["preference","progressMap"].map(r=>{let s=Uw(e,"dsa-progress-tracker",r);return Ne(jM(s).then(o=>{if(o.exists())return o.data();throw new Error(`No document found with ID: ${r}`)}))});return Ar(i).pipe(Y(r=>Object.assign({},...r)))}static \u0275fac=function(n){return new(n||t)(ee(bs),ee(mc))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};function Fq(t,e){t&1&&(oo(0),xe(1,"Show all Levels"),ao())}function Vq(t,e){if(t&1&&xe(0),t&2){let n=et().$implicit;ci("Level ",n,"")}}function Lq(t,e){if(t&1&&(W(0,"option",18),vt(1,Fq,2,0,"ng-container",19)(2,Vq,1,1,"ng-template",null,0,y_),z()),t&2){let n=e.$implicit,i=m_(3);Ee("value",n),ge(),Ee("ngIf",n===0)("ngIfElse",i)}}function Bq(t,e){if(t&1&&(W(0,"span"),xe(1),z()),t&2){let n=et();ge(),ci("Level ",n.preference.level,"")}}function jq(t,e){t&1&&(W(0,"span",40),xe(1,"Easy"),z())}function Uq(t,e){t&1&&(W(0,"span",41),xe(1,"Medium"),z())}function $q(t,e){t&1&&(W(0,"span",42),xe(1,"Hard"),z())}function Hq(t,e){if(t&1&&(W(0,"a",43),Xt(1,"img",44),z()),t&2){let n=et().$implicit;Ee("href",n.post_link,Qi)}}function Gq(t,e){if(t&1&&(W(0,"a",43),Xt(1,"img",45),z()),t&2){let n=et().$implicit;Ee("href",n.yt_link,Qi)}}function zq(t,e){if(t&1&&(oo(0),W(1,"a",43)(2,"span",46),xe(3),z()(),ao()),t&2){let n=e.$implicit,i=e.index;ge(),Ee("href",n,Qi),ge(2),Ud(i+1)}}function qq(t,e){if(t&1&&(W(0,"a",43),Xt(1,"img",47),z()),t&2){let n=et().$implicit;Ee("href",n.tufplus_link,Qi)}}function Wq(t,e){if(t&1&&(W(0,"a",43),Xt(1,"img",48),z()),t&2){let n=et().$implicit;Ee("href",n.gfg_link,Qi)}}function Kq(t,e){if(t&1&&(W(0,"a",43),Xt(1,"img",49),z()),t&2){let n=et().$implicit;Ee("href",n.cs_link,Qi)}}function Qq(t,e){if(t&1&&(W(0,"a",43),Xt(1,"img",50),z()),t&2){let n=et().$implicit;Ee("href",n.lc_link,Qi)}}function Jq(t,e){if(t&1){let n=Vd();W(0,"tr",31)(1,"td",30)(2,"div",32)(3,"input",33),Hd("ngModelChange",function(r){let s=za(n).$implicit;return __(s.isDone,r)||(s.isDone=r),qa(r)}),Vt("change",function(r){let s=za(n).$implicit,o=et(5);return qa(o.updateProblemStatus(r,s,s.problem_id,"done"))}),z()()(),W(4,"td",30),vt(5,jq,2,0,"span",34)(6,Uq,2,0,"span",35)(7,$q,2,0,"span",36),z(),W(8,"td"),xe(9),z(),W(10,"td",30),vt(11,Hq,2,1,"a",37),z(),W(12,"td",38),vt(13,Gq,2,1,"a",37)(14,zq,4,2,"ng-container",39),z(),W(15,"td",30),vt(16,qq,2,1,"a",37),z(),W(17,"td",30),vt(18,Wq,2,1,"a",37),z(),W(19,"td",30),vt(20,Kq,2,1,"a",37),z(),W(21,"td",30),vt(22,Qq,2,1,"a",37),z(),Xt(23,"td",30),z()}if(t&2){let n=e.$implicit,i=et(5);Ee("hidden",i.preference.showCompleted==!1&&n.isDone),ge(3),$d("ngModel",n.isDone),ge(2),Ee("ngIf",n.difficulty=="1"),ge(),Ee("ngIf",n.difficulty=="2"),ge(),Ee("ngIf",n.difficulty=="3"),ge(2),ci(" ",n.problem_name," "),ge(2),Ee("ngIf",n.post_link),ge(2),Ee("ngIf",n.yt_link),ge(),Ee("ngForOf",n.videos_link),ge(2),Ee("ngIf",n.tufplus_link),ge(2),Ee("ngIf",n.gfg_link),ge(2),Ee("ngIf",n.cs_link),ge(2),Ee("ngIf",n.lc_link)}}function Yq(t,e){if(t&1&&(W(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),xe(4,"Status"),z(),W(5,"th",30),xe(6,"Difficulty"),z(),W(7,"th"),xe(8,"Problem"),z(),W(9,"th",30),xe(10,"Article"),z(),W(11,"th",30),xe(12,"Video"),z(),W(13,"th",30),xe(14,"Tuf+"),z(),W(15,"th",30),xe(16,"GFG"),z(),W(17,"th",30),xe(18,"CN"),z(),W(19,"th",30),xe(20,"LC"),z(),W(21,"th",30),xe(22,"Revision"),z()()(),W(23,"tbody"),rc(24,Jq,24,13,"tr",31,ic),z()()),t&2){let n=et().$implicit;ge(24),sc(n.problems)}}function Zq(t,e){if(t&1&&(W(0,"div",17)(1,"h2",20)(2,"button",28)(3,"span",23),xe(4),z()()(),W(5,"div",26)(6,"div",27),vt(7,Yq,26,0,"ng-template"),z()()()),t&2){let n=e.$implicit,i=et(3);Ee("collapsed",n.subcategory_slug!==i.preference.subcategory)("hidden",i.preference.showCompleted==!1&&n.donePercent===100),ge(4),ac(" ",n.subcategory_name," ( ",n.doneProblems," / ",n.totalProblems," )")}}function Xq(t,e){if(t&1&&(W(0,"div",16),rc(1,Zq,8,5,"div",17,ic),z()),t&2){let n=et().$implicit;Ee("closeOthers",!0),ge(),sc(n.subcategories)}}function eW(t,e){if(t&1){let n=Vd();W(0,"div",17)(1,"h2",20)(2,"button",21)(3,"div",11)(4,"input",22),Vt("change",function(r){let s=za(n).$implicit,o=et();return qa(o.updatecategoryStatus(r,s))}),z(),W(5,"span",23),xe(6),z()(),W(7,"div",24)(8,"ngb-progressbar",25)(9,"i"),xe(10),z()()()()(),W(11,"div",26)(12,"div",27),vt(13,Xq,3,1,"ng-template"),z()()()}if(t&2){let n=e.$implicit,i=et();Ee("collapsed",n.category_slug!==i.preference.category)("hidden",i.preference.showCompleted==!1&&n.donePercent===100),ge(4),Ee("checked",n.donePercent===100),ge(2),ac(" ",n.category_name," ( ",n.doneProblems," / ",n.totalProblems," ) "),ge(2),Ee("value",n.donePercent)("striped",!0)("animated",!0),ge(2),ci("",n.donePercent," %")}}var tp=class t{constructor(e,n,i){this.auth=e;this.httpClient=n;this.dataService=i}syllabus=[];filteredSyllabus=[];filteredTotalProblems=0;filteredDoneProblems=0;filteredDonePercent=0;preference=new Rl;progressMap=new Map;numbers=Array.from({length:11},(e,n)=>n);modalService=N(IN);closeResult="";selectedProblem;ngOnInit(){VA(this.auth,"rsathishkumar4@gmail.com","Easytype@2024").then(()=>{console.log("Logged in to google...")}).catch(e=>{console.log("Error while Logging to google...")}),this.dataService.getDocumentsAsObservable().subscribe(e=>{localStorage.setItem("preference",JSON.stringify(e.preference)),localStorage.setItem("progressMap",e.progressMap),this.loadProblems()})}ngAfterViewInit(){this.scrollToExpandedAccordion()}scrollToExpandedAccordion(){let e=document.querySelector(".accordion-collapse.show");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}open(e,n){this.selectedProblem=n,this.modalService.open(e)}loadProblems(){let e=localStorage.getItem("syllabus");e?(this.syllabus=JSON.parse(e),this.loadPreferences()):this.httpClient.get("assets/json/problems.json").subscribe(n=>{this.syllabus=n,localStorage.setItem("syllabus",JSON.stringify(this.syllabus)),this.loadPreferences()},n=>{console.error("Failed to load problems:",n)})}loadPreferences(){let e=localStorage.getItem("preference");e&&(this.preference=JSON.parse(e)),this.loadProgress()}filterCategoriesBySubcategoryRank(e){return e===0?this.syllabus:this.syllabus.map(n=>ue(V({},n),{subcategories:n.subcategories.filter(i=>i.subcategory_rank===e)})).filter(n=>n.subcategories.length>0)}updatePreferences(e,n){switch(e){case"level":this.preference.level=Number(n);break;case"category":this.preference.category=String(n);break;case"subcategory":this.preference.category=String(n);break;case"showCompleted":this.preference.showCompleted=!!n.target.checked;break;default:break}let i=JSON.stringify(this.preference);localStorage.setItem("preference",i),this.dataService.addDocument(this.preference,"preference").subscribe(r=>{console.log("Firebase Updated : :",r)},r=>{console.error("Error Firebase Updating : ",r)}),this.loadProgress()}loadProgress(){this.preference||(this.preference=new Rl),this.filteredTotalProblems=0,this.filteredDoneProblems=0,this.filteredDonePercent=0,this.filteredSyllabus=this.filterCategoriesBySubcategoryRank(this.preference.level);let e=localStorage.getItem("progressMap");if(e){let n=JSON.parse(e);this.progressMap=new Map(n)}this.filteredSyllabus.forEach(n=>{n.totalProblems=0,n.doneProblems=0,n.subcategories.forEach(i=>{i.totalProblems=0,i.doneProblems=0,i.problems.forEach(r=>{i.totalProblems++,this.progressMap.has(r.problem_id)&&(r.isDone=this.progressMap.get(r.problem_id)?.done,r.isDone&&(i.doneProblems++,n.doneProblems++)),n.totalProblems++}),i.totalProblems>0?i.donePercent=Number((i.doneProblems/i.totalProblems*100).toFixed(2)):i.donePercent=+"0.00"}),n.totalProblems>0?n.donePercent=Number((n.doneProblems/n.totalProblems*100).toFixed(2)):n.donePercent=+"0.00",this.filteredTotalProblems+=n.totalProblems,this.filteredDoneProblems+=n.doneProblems}),this.filteredTotalProblems>0?this.filteredDonePercent=Number((this.filteredDoneProblems/this.filteredTotalProblems*100).toFixed(2)):this.filteredDonePercent=+"0.00"}updatecategoryStatus(e,n){let i=e.target;n.subcategories.forEach(o=>{o.problems.forEach(a=>{if(i.checked){let c=this.progressMap.get(a.problem_id)||new Ml;this.setProgress(c,"done"),this.progressMap.set(a.problem_id,c)}else a.isDone=!1,this.progressMap.delete(a.problem_id)})}),this.preference.category="",this.preference.subcategory="";let r=JSON.stringify(this.preference);localStorage.setItem("preference",r),this.dataService.addDocument(this.preference,"preference").subscribe(o=>{console.log("Firebase Updated : ",o)},o=>{console.error("Error Firebase Updating : ",o)});let s=JSON.stringify(Array.from(this.progressMap.entries()));localStorage.setItem("progressMap",s),this.dataService.addDocument(s,"progressMap").subscribe(o=>{console.log("Firebase Updated : ",o)},o=>{console.error("Error Firebase Updating : ",o)}),this.loadProgress()}updateProblemStatus(e,n,i,r){if(e.target.checked){let a=this.progressMap.get(i)||new Ml;this.setProgress(a,r),this.progressMap.set(i,a)}else this.progressMap.delete(i);this.preference.category=n.category_slug,this.preference.subcategory=n.subcategory_slug;let o=JSON.stringify(this.preference);localStorage.setItem("preference",o),this.dataService.addDocument(this.preference,"preference").subscribe(a=>{console.log("Firebase Updated : :",a)},a=>{console.error("Error Firebase Updating : ",a)}),localStorage.setItem("progressMap",JSON.stringify(Array.from(this.progressMap.entries()))),this.loadProgress()}setProgress(e,n){let i=Date.now();switch(n){case"done":e.done=i;break;case"learn":e.learn=i;break;case"study":e.study=i;break;case"read":e.read=i;break;case"write":e.write=i;break;case"teach":e.teach=i;break;case"revisions":e.revisions||(e.revisions=[]),e.revisions.push(i);break;default:console.warn(`Unknown status: ${n}`)}}static \u0275fac=function(n){return new(n||t)(me(as),me(mc),me(ep))};static \u0275cmp=ni({type:t,selectors:[["app-root"]],standalone:!0,features:[li],decls:23,vars:12,consts:[["showNum",""],[1,"container"],[1,"row","align-items-center"],[1,"col-2","mt-3","mb-3"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-2","ms-auto","text-right"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckChecked",1,"form-check-input",3,"change","checked"],["for","flexSwitchCheckChecked",1,"form-check-label"],[1,"row"],[1,"col-md-4"],[2,"color","orangered"],[4,"ngIf"],[1,"col-md-8",2,"margin-top","5px"],["type","warning",1,"mb-3",3,"value","striped","animated"],["ngbAccordion","",3,"closeOthers"],["ngbAccordionItem","",3,"collapsed","hidden"],[3,"value"],[4,"ngIf","ngIfElse"],["ngbAccordionHeader",""],["ngbAccordionButton","",1,"d-flex","justify-content-between","align-items-center","w-100"],["type","checkbox",1,"form-check-input","m-0","checkbox-tick",3,"change","checked"],[1,"ms-2"],[1,"col-md-6",2,"margin-top","5px"],["type","primary",1,"",3,"value","striped","animated"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["ngbAccordionButton",""],[1,"table","table-bordered"],[1,"text-center"],[3,"hidden"],[1,"form-check","form-check-inline"],["type","checkbox",1,"form-check-input","checkbox-tick",3,"ngModelChange","change","ngModel"],["class","badge bg-success",4,"ngIf"],["class","badge bg-warning",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],[1,"text-center","td-content"],[4,"ngFor","ngForOf"],[1,"badge","bg-success"],[1,"badge","bg-warning"],[1,"badge","bg-danger"],["target","_blank",3,"href"],["src","./assets/images/article.svg"],["src","./assets/images/yt.svg"],[1,"badge","bg-primary"],["src","./assets/images/tufplus.svg"],["src","./assets/images/gfg.svg"],["src","./assets/images/csninja.png","width","30"],["src","./assets/images/lc.svg"]],template:function(n,i){n&1&&(W(0,"div",1)(1,"div",2)(2,"div",3)(3,"select",4),Hd("ngModelChange",function(s){return __(i.preference.level,s)||(i.preference.level=s),s}),Vt("ngModelChange",function(s){return i.updatePreferences("level",s)}),vt(4,Lq,4,3,"option",5),z()(),W(5,"div",6)(6,"div",7)(7,"input",8),Vt("change",function(s){return i.updatePreferences("showCompleted",s)}),z(),W(8,"b",9),xe(9,"Show Completed"),z()()()(),oo(10),W(11,"div",10)(12,"div",11)(13,"b",12),vt(14,Bq,2,1,"span",13),xe(15),z()(),W(16,"div",14)(17,"ngb-progressbar",15)(18,"i"),xe(19),z()()()(),ao(),W(20,"div",16),rc(21,eW,14,10,"div",17,ic),z()()),n&2&&(ge(3),$d("ngModel",i.preference.level),ge(),Ee("ngForOf",i.numbers),ge(3),Ee("checked",i.preference.showCompleted),ge(7),Ee("ngIf",i.preference.level),ge(),ac(" Progress ( ",i.filteredDoneProblems," of ",i.filteredTotalProblems," - Remaining ",i.filteredTotalProblems-i.filteredDoneProblems," ) : "),ge(2),Ee("value",i.filteredDonePercent)("striped",!0)("animated",!0),ge(2),ci("",i.filteredDonePercent," %"),ge(),Ee("closeOthers",!0),ge(),sc(i.filteredSyllabus))},dependencies:[T_,YC,ZC,g1,bN,vN,Xf,yr,wN,yN,nb,TN,DN,gN,hN,pN,qw,Jf,cN,Kw],styles:['.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#ff4500;font-weight:700;background-color:#343a40}.checkbox-tick[_ngcontent-%COMP%]{appearance:none;width:25px;height:25px;border:2px dotted #999;border-radius:50%!important;outline:none;cursor:pointer;position:relative}.checkbox-tick[_ngcontent-%COMP%]:checked{background-color:#4caf50;border:none}.checkbox-tick[_ngcontent-%COMP%]:checked:after{content:"";position:absolute;left:9px;top:4px;width:8px;height:14px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}a[_ngcontent-%COMP%]{font-weight:500;color:rgb(144 144 144 / var(--tw-text-opacity));text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.btn-random[_ngcontent-%COMP%]{border:2px solid #7D7F7D;background-color:transparent;color:#7d7f7d;padding:10px 20px;cursor:pointer;transition:background-color .3s,color .3s}.td-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 5px}']})};D1(tp,GM).catch(t=>console.error(t));
